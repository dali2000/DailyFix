import{g as a,s as r}from"./chunk-KVQAAX5C.js";var c=(()=>{class h{constructor(){this.THEME_KEY="dailyfix-theme";let e=this.getSavedTheme();this.themeSubject=new a(e),this.theme$=this.themeSubject.asObservable(),this.applyTheme(e)}getSavedTheme(){let e=localStorage.getItem(this.THEME_KEY);return e==="light"||e==="dark"?e:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}getCurrentTheme(){return this.themeSubject.value}toggleTheme(){let t=this.themeSubject.value==="light"?"dark":"light";this.setTheme(t)}setTheme(e){this.themeSubject.next(e),this.applyTheme(e),localStorage.setItem(this.THEME_KEY,e)}applyTheme(e){let t=document.documentElement;e==="dark"?(t.classList.add("dark-theme"),t.classList.remove("light-theme")):(t.classList.add("light-theme"),t.classList.remove("dark-theme"))}watchSystemPreference(){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{if(!localStorage.getItem(this.THEME_KEY)){let s=t.matches?"dark":"light";this.setTheme(s)}})}static{this.\u0275fac=function(t){return new(t||h)}}static{this.\u0275prov=r({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();export{c as a};
