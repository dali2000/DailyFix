import{a as L,c as G,d as q,e as Y,f as H,g as J,l as K,m as Q,n as X,q as Z,t as $}from"./chunk-BB6SI6ST.js";import{A as u,Aa as A,Ba as F,Ca as N,Ea as W,Ga as D,J as i,K as S,N as f,Na as z,O as w,P as v,T as t,Ta as j,U as n,V as O,Xa as R,Y as y,Ya as ee,Z as _,_ as m,da as a,ea as c,fa as P,ga as x,ja as V,ka as h,la as C,ma as M,oa as T,p as I,qa as o,ra as s,s as B,sa as E,v as U,z as g}from"./chunk-AJ37PTJK.js";import"./chunk-POLL2CVR.js";var te=(()=>{class l{constructor(e){this.apiService=e}getStats(){return this.apiService.get("/admin/stats")}getUsers(e=1,d=10,r=""){let p={page:e,limit:d};return r&&(p.search=r),this.apiService.get("/admin/users",p)}getUserById(e){return this.apiService.get(`/admin/users/${e}`)}createUser(e){return this.apiService.post("/admin/users",e)}updateUser(e,d){return this.apiService.put(`/admin/users/${e}`,d)}deleteUser(e){return this.apiService.delete(`/admin/users/${e}`)}static{this.\u0275fac=function(d){return new(d||l)(B(j))}}static{this.\u0275prov=I({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function re(l,b){if(l&1){let e=y();t(0,"div",20)(1,"span"),a(2),n(),t(3,"button",21),o(4,"translate"),_("click",function(){g(e);let r=m();return u(r.dismissMessages())}),a(5,"\xD7"),n()()}if(l&2){let e=m();i(2),c(e.error),i(),w("aria-label",s(4,2,"common.close"))}}function ae(l,b){if(l&1){let e=y();t(0,"div",22)(1,"span"),a(2),n(),t(3,"button",21),o(4,"translate"),_("click",function(){g(e);let r=m();return u(r.successMessage=null)}),a(5,"\xD7"),n()()}if(l&2){let e=m();i(2),c(e.successMessage),i(),w("aria-label",s(4,2,"common.close"))}}function oe(l,b){l&1&&(t(0,"div",25),O(1,"div",26),t(2,"div",27),O(3,"div",28)(4,"div",29),n()())}function se(l,b){if(l&1&&(t(0,"div",23),f(1,oe,5,0,"div",24),n()),l&2){let e=m();i(),v("ngForOf",e.skeletonCount)}}function le(l,b){if(l&1&&(t(0,"div",30)(1,"div",31)(2,"div",32),a(3,"\u{1F465}"),n(),t(4,"div",27)(5,"h3"),a(6),o(7,"translate"),n(),t(8,"div",33),a(9),n(),t(10,"div",34)(11,"span"),a(12),o(13,"translate"),n(),t(14,"span"),a(15),o(16,"translate"),n()()()(),t(17,"div",35)(18,"div",32),a(19,"\u2705"),n(),t(20,"div",27)(21,"h3"),a(22),o(23,"translate"),n(),t(24,"div",33),a(25),n(),t(26,"div",34)(27,"span"),a(28),o(29,"translate"),n(),t(30,"span"),a(31),o(32,"translate"),n()()()(),t(33,"div",36)(34,"div",32),a(35,"\u{1F4C5}"),n(),t(36,"div",27)(37,"h3"),a(38),o(39,"translate"),n(),t(40,"div",33),a(41),n(),t(42,"div",34)(43,"span"),a(44),o(45,"translate"),n()()()(),t(46,"div",37)(47,"div",32),a(48,"\u2764\uFE0F"),n(),t(49,"div",27)(50,"h3"),a(51),o(52,"translate"),n(),t(53,"div",33),a(54),n(),t(55,"div",34)(56,"span"),a(57),o(58,"translate"),n(),t(59,"span"),a(60),o(61,"translate"),n()()()(),t(62,"div",38)(63,"div",32),a(64,"\u{1F4B0}"),n(),t(65,"div",27)(66,"h3"),a(67),o(68,"translate"),n(),t(69,"div",33),a(70),n(),t(71,"div",34)(72,"span"),a(73),o(74,"translate"),n(),t(75,"span"),a(76),o(77,"translate"),n()()()(),t(78,"div",39)(79,"div",32),a(80,"\u{1F9D8}"),n(),t(81,"div",27)(82,"h3"),a(83),o(84,"translate"),n(),t(85,"div",33),a(86),n(),t(87,"div",34)(88,"span"),a(89),o(90,"translate"),n(),t(91,"span"),a(92),o(93,"translate"),n()()()(),t(94,"div",40)(95,"div",32),a(96,"\u{1F465}"),n(),t(97,"div",27)(98,"h3"),a(99),o(100,"translate"),n(),t(101,"div",33),a(102),n(),t(103,"div",34)(104,"span"),a(105),o(106,"translate"),n()()()()()),l&2){let e=m();i(6),c(s(7,37,"admin.users")),i(3),c(e.stats.users.total),i(3),x("+",e.stats.users.newThisMonth," ",s(13,39,"admin.thisMonth"),""),i(3),x("+",e.stats.users.newThisWeek," ",s(16,41,"admin.thisWeek"),""),i(7),c(s(23,43,"admin.tasks")),i(3),c(e.stats.tasks.total),i(3),x("",e.stats.tasks.completed," ",s(29,45,"admin.completedCount"),""),i(3),x("",e.stats.tasks.completionRate,"% ",s(32,47,"admin.completionRate"),""),i(7),c(s(39,49,"admin.events")),i(3),c(e.stats.events.total),i(3),x("",e.stats.events.upcoming," ",s(45,51,"admin.upcoming"),""),i(7),c(s(52,53,"admin.health")),i(3),c(e.stats.health.meals+e.stats.health.activities+e.stats.health.sleepRecords),i(3),x("",e.stats.health.meals," ",s(58,55,"admin.meals"),""),i(3),x("",e.stats.health.activities," ",s(61,57,"admin.activities"),""),i(7),c(s(68,59,"admin.finance")),i(3),c(e.stats.finance.expenses),i(3),x("",e.stats.finance.budgets," ",s(74,61,"admin.budgets"),""),i(3),x("",e.stats.finance.savingsGoals," ",s(77,63,"admin.savingsGoals"),""),i(7),c(s(84,65,"admin.wellness")),i(3),c(e.stats.wellness.journalEntries+e.stats.wellness.personalGoals),i(3),x("",e.stats.wellness.journalEntries," ",s(90,67,"admin.journals"),""),i(3),x("",e.stats.wellness.personalGoals," ",s(93,69,"admin.savingsGoals"),""),i(7),c(s(100,71,"admin.socialEvents")),i(3),c(e.stats.social.events),i(3),c(s(106,73,"admin.socialEvents"))}}function de(l,b){if(l&1&&(t(0,"div",44)(1,"span",45),a(2),n(),t(3,"span",46),a(4),n(),t(5,"span",47),a(6),n(),t(7,"span",48),a(8),o(9,"date"),n()()),l&2){let e=b.$implicit,d=m(2);i(2),c(e.fullName),i(2),c(e.email),i(),v("ngClass",d.getRoleBadgeClass(e.role)),i(),c(e.role),i(2),c(E(9,5,e.createdAt,"short"))}}function ce(l,b){if(l&1&&(t(0,"section",41)(1,"h2"),a(2),o(3,"translate"),n(),t(4,"div",42),f(5,de,10,8,"div",43),n()()),l&2){let e=m();i(2),c(s(3,2,"admin.recentSignups")),i(3),v("ngForOf",e.recentUsers)}}function me(l,b){l&1&&(t(0,"div",49),O(1,"span",50),t(2,"span"),a(3,"Chargement des utilisateurs..."),n()())}function pe(l,b){if(l&1){let e=y();t(0,"tr")(1,"td",56),a(2),n(),t(3,"td",57),a(4),n(),t(5,"td",58),a(6),n(),t(7,"td",59)(8,"span",47),a(9),n()(),t(10,"td",60),a(11),n(),t(12,"td",61),a(13),o(14,"date"),n(),t(15,"td",62)(16,"button",63),_("click",function(){let r=g(e).$implicit,p=m(2);return u(p.openEditModal(r))}),a(17,"Modifier"),n(),t(18,"button",64),_("click",function(){let r=g(e).$implicit,p=m(2);return u(p.deleteUser(r))}),a(19,"Supprimer"),n()()()}if(l&2){let e=b.$implicit,d=m(2);i(2),c(e.id),i(2),c(e.fullName),i(2),c(e.email),i(2),v("ngClass",d.getRoleBadgeClass(e.role)),i(),c(e.role),i(2),c(e.provider),i(2),c(E(14,7,e.createdAt,"short"))}}function ge(l,b){if(l&1){let e=y();t(0,"div",65)(1,"button",66),_("click",function(){g(e);let r=m(2);return u(r.changePage(r.currentPage-1))}),a(2),o(3,"translate"),n(),t(4,"span",67),a(5),o(6,"translate"),o(7,"translate"),n(),t(8,"button",68),_("click",function(){g(e);let r=m(2);return u(r.changePage(r.currentPage+1))}),a(9),o(10,"translate"),n()()}if(l&2){let e=m(2);i(),v("disabled",e.currentPage===1),i(),P(" \u2190 ",s(3,9,"common.previous")," "),i(3),V("",s(6,11,"admin.page")," ",e.currentPage," / ",e.totalPages," (",e.totalUsers," ",s(7,13,"admin.usersCount"),")"),i(3),v("disabled",e.currentPage===e.totalPages),i(),P(" ",s(10,15,"common.next")," \u2192 ")}}function ue(l,b){if(l&1&&(t(0,"div",51)(1,"div",52)(2,"table",53)(3,"thead")(4,"tr")(5,"th"),a(6),o(7,"translate"),n(),t(8,"th"),a(9),o(10,"translate"),n(),t(11,"th"),a(12),o(13,"translate"),n(),t(14,"th"),a(15),o(16,"translate"),n(),t(17,"th"),a(18),o(19,"translate"),n(),t(20,"th"),a(21),o(22,"translate"),n(),t(23,"th"),a(24),o(25,"translate"),n()()(),t(26,"tbody"),f(27,pe,20,10,"tr",54),n()()(),f(28,ge,11,17,"div",55),n()),l&2){let e=m();i(6),c(s(7,9,"admin.id")),i(3),c(s(10,11,"admin.nom")),i(3),c(s(13,13,"admin.email")),i(3),c(s(16,15,"admin.role")),i(3),c(s(19,17,"admin.provider")),i(3),c(s(22,19,"admin.signupDate")),i(3),c(s(25,21,"tasks.actions")),i(3),v("ngForOf",e.users),i(),v("ngIf",e.totalPages>1)}}function _e(l,b){if(l&1){let e=y();t(0,"p"),a(1,"Essayez avec d'autres termes ou "),t(2,"button",72),_("click",function(){g(e);let r=m(2);return r.searchTerm="",u(r.searchUsers())}),a(3,"effacer la recherche"),n(),a(4,"."),n()}}function ve(l,b){if(l&1){let e=y();t(0,"button",11),_("click",function(){g(e);let r=m(2);return u(r.openCreateModal())}),a(1,"Cr\xE9er le premier utilisateur"),n()}}function be(l,b){if(l&1&&(t(0,"div",69)(1,"p"),a(2,"Aucun utilisateur trouv\xE9."),n(),f(3,_e,5,0,"p",70)(4,ve,2,0,"button",71),n()),l&2){let e=m();i(3),v("ngIf",e.searchTerm),i(),v("ngIf",!e.searchTerm)}}function xe(l,b){if(l&1){let e=y();t(0,"div",73),_("click",function(){g(e);let r=m();return u(r.closeModal())}),t(1,"div",74),_("click",function(r){return g(e),u(r.stopPropagation())}),t(2,"div",75)(3,"h3",76),a(4),o(5,"translate"),n(),t(6,"button",77),o(7,"translate"),_("click",function(){g(e);let r=m();return u(r.closeModal())}),a(8,"\xD7"),n()(),t(9,"div",78)(10,"form",79),_("ngSubmit",function(){g(e);let r=m();return u(r.createUser())}),t(11,"div",80)(12,"label",81),a(13),o(14,"translate"),n(),t(15,"input",82),M("ngModelChange",function(r){g(e);let p=m();return C(p.userForm.fullName,r)||(p.userForm.fullName=r),u(r)}),n()(),t(16,"div",80)(17,"label",83),a(18),o(19,"translate"),n(),t(20,"input",84),M("ngModelChange",function(r){g(e);let p=m();return C(p.userForm.email,r)||(p.userForm.email=r),u(r)}),n()(),t(21,"div",80)(22,"label",85),a(23),o(24,"translate"),n(),t(25,"input",86),M("ngModelChange",function(r){g(e);let p=m();return C(p.userForm.password,r)||(p.userForm.password=r),u(r)}),n()(),t(26,"div",80)(27,"label",87),a(28),o(29,"translate"),n(),t(30,"select",88),M("ngModelChange",function(r){g(e);let p=m();return C(p.userForm.role,r)||(p.userForm.role=r),u(r)}),t(31,"option",89),a(32),o(33,"translate"),n(),t(34,"option",90),a(35),o(36,"translate"),n()()(),t(37,"div",91)(38,"button",92),_("click",function(){g(e);let r=m();return u(r.closeModal())}),a(39),o(40,"translate"),n(),t(41,"button",93),a(42),o(43,"translate"),n()()()()()()}if(l&2){let e=m();i(4),c(s(5,14,"admin.createUser")),i(2),w("aria-label",s(7,16,"common.close")),i(7),P("",s(14,18,"admin.fullName")," *"),i(2),h("ngModel",e.userForm.fullName),i(3),P("",s(19,20,"admin.email")," *"),i(2),h("ngModel",e.userForm.email),i(3),c(s(24,22,"admin.password")),i(2),h("ngModel",e.userForm.password),i(3),c(s(29,24,"admin.role")),i(2),h("ngModel",e.userForm.role),i(2),c(s(33,26,"admin.userOption")),i(3),c(s(36,28,"admin.adminOption")),i(4),c(s(40,30,"common.cancel")),i(3),c(s(43,32,"common.create"))}}function fe(l,b){if(l&1){let e=y();t(0,"div",94),_("click",function(){g(e);let r=m();return u(r.closeModal())}),t(1,"div",74),_("click",function(r){return g(e),u(r.stopPropagation())}),t(2,"div",75)(3,"h3",95),a(4),o(5,"translate"),n(),t(6,"button",77),o(7,"translate"),_("click",function(){g(e);let r=m();return u(r.closeModal())}),a(8,"\xD7"),n()(),t(9,"div",78)(10,"form",79),_("ngSubmit",function(){g(e);let r=m();return u(r.updateUser())}),t(11,"div",80)(12,"label",96),a(13),o(14,"translate"),n(),t(15,"input",97),M("ngModelChange",function(r){g(e);let p=m();return C(p.userForm.fullName,r)||(p.userForm.fullName=r),u(r)}),n()(),t(16,"div",80)(17,"label",98),a(18),o(19,"translate"),n(),t(20,"input",99),M("ngModelChange",function(r){g(e);let p=m();return C(p.userForm.email,r)||(p.userForm.email=r),u(r)}),n()(),t(21,"div",80)(22,"label",100),a(23),o(24,"translate"),n(),t(25,"input",101),M("ngModelChange",function(r){g(e);let p=m();return C(p.userForm.password,r)||(p.userForm.password=r),u(r)}),n()(),t(26,"div",80)(27,"label",102),a(28),o(29,"translate"),n(),t(30,"select",103),M("ngModelChange",function(r){g(e);let p=m();return C(p.userForm.role,r)||(p.userForm.role=r),u(r)}),t(31,"option",89),a(32),o(33,"translate"),n(),t(34,"option",90),a(35),o(36,"translate"),n()()(),t(37,"div",91)(38,"button",92),_("click",function(){g(e);let r=m();return u(r.closeModal())}),a(39),o(40,"translate"),n(),t(41,"button",93),a(42),o(43,"translate"),n()()()()()()}if(l&2){let e=m();i(4),c(s(5,14,"admin.editUser")),i(2),w("aria-label",s(7,16,"common.close")),i(7),P("",s(14,18,"admin.fullName")," *"),i(2),h("ngModel",e.userForm.fullName),i(3),P("",s(19,20,"admin.email")," *"),i(2),h("ngModel",e.userForm.email),i(3),c(s(24,22,"admin.newPasswordHint")),i(2),h("ngModel",e.userForm.password),i(3),c(s(29,24,"admin.role")),i(2),h("ngModel",e.userForm.role),i(2),c(s(33,26,"admin.userOption")),i(3),c(s(36,28,"admin.adminOption")),i(4),c(s(40,30,"common.cancel")),i(3),c(s(43,32,"common.save"))}}var ke=(()=>{class l{get recentUsers(){return this.stats?.users?.recent??[]}constructor(e,d,r){this.adminService=e,this.authService=d,this.router=r,this.stats=null,this.users=[],this.loadingStats=!1,this.loadingUsers=!1,this.error=null,this.successMessage=null,this.currentPage=1,this.totalPages=1,this.totalUsers=0,this.limit=10,this.searchTerm="",this.selectedUser=null,this.showUserModal=!1,this.showCreateModal=!1,this.editMode=!1,this.userForm={fullName:"",email:"",password:"",role:"user"},this.skeletonCount=[1,2,3,4,5,6,7]}ngOnInit(){let e=this.authService.getCurrentUser();if(!e||e.role!=="admin"){this.router.navigate(["/home"]);return}this.loadStats(),this.loadUsers()}loadStats(){this.loadingStats=!0,this.error=null,this.adminService.getStats().subscribe({next:e=>{e.success&&(this.stats=e.data),this.loadingStats=!1},error:e=>{console.error("Error loading stats:",e);let d=e?.error?.error||e?.error?.message||e?.message||"Erreur lors du chargement des statistiques";this.error=d,this.loadingStats=!1}})}loadUsers(){this.loadingUsers=!0,this.error=null,this.adminService.getUsers(this.currentPage,this.limit,this.searchTerm).subscribe({next:e=>{e.success&&(this.users=e.data.users,this.totalPages=e.data.pagination.totalPages,this.totalUsers=e.data.pagination.total),this.loadingUsers=!1},error:e=>{console.error("Error loading users:",e),this.error=e?.error?.message||e?.message||"Erreur lors du chargement des utilisateurs",this.loadingUsers=!1}})}showSuccess(e){this.successMessage=e,setTimeout(()=>this.successMessage=null,4e3)}dismissMessages(){this.error=null,this.successMessage=null}searchUsers(){this.currentPage=1,this.loadUsers()}changePage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.loadUsers())}openCreateModal(){this.userForm={fullName:"",email:"",password:"",role:"user"},this.editMode=!1,this.showCreateModal=!0}openEditModal(e){this.selectedUser=e,this.userForm={fullName:e.fullName,email:e.email,password:"",role:e.role},this.editMode=!0,this.showUserModal=!0}closeModal(){this.showUserModal=!1,this.showCreateModal=!1,this.selectedUser=null}createUser(){if(!this.userForm.fullName||!this.userForm.email){this.error="Veuillez remplir tous les champs obligatoires";return}this.loadingUsers=!0,this.adminService.createUser(this.userForm).subscribe({next:e=>{e.success&&(this.closeModal(),this.loadUsers(),this.loadStats(),this.showSuccess("Utilisateur cr\xE9\xE9 avec succ\xE8s")),this.loadingUsers=!1},error:e=>{this.error=e?.error?.message||e?.message||"Erreur lors de la cr\xE9ation de l'utilisateur",this.loadingUsers=!1}})}updateUser(){if(!this.selectedUser)return;this.loadingUsers=!0;let e={fullName:this.userForm.fullName,email:this.userForm.email,role:this.userForm.role};this.userForm.password&&(e.password=this.userForm.password),this.adminService.updateUser(this.selectedUser.id,e).subscribe({next:d=>{d.success&&(this.closeModal(),this.loadUsers(),this.loadStats(),this.showSuccess("Utilisateur mis \xE0 jour avec succ\xE8s")),this.loadingUsers=!1},error:d=>{this.error=d?.error?.message||d?.message||"Erreur lors de la mise \xE0 jour de l'utilisateur",this.loadingUsers=!1}})}deleteUser(e){confirm(`\xCAtes-vous s\xFBr de vouloir supprimer l'utilisateur ${e.fullName} ? Toutes ses donn\xE9es seront supprim\xE9es.`)&&(this.loadingUsers=!0,this.adminService.deleteUser(e.id).subscribe({next:d=>{d.success&&(this.loadUsers(),this.loadStats(),this.showSuccess("Utilisateur supprim\xE9 avec succ\xE8s")),this.loadingUsers=!1},error:d=>{this.error=d?.error?.message||d?.message||"Erreur lors de la suppression de l'utilisateur",this.loadingUsers=!1}}))}getRoleBadgeClass(e){return e==="admin"?"badge-admin":"badge-user"}static{this.\u0275fac=function(d){return new(d||l)(S(te),S(R),S(z))}}static{this.\u0275cmp=U({type:l,selectors:[["app-admin"]],standalone:!0,features:[T],decls:32,vars:20,consts:[[1,"admin-dashboard"],[1,"admin-header"],[1,"btn-back",3,"click"],["class","alert alert-error",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["aria-label","Statistiques",1,"stats-section"],["class","stats-grid stats-skeleton",4,"ngIf"],["class","stats-grid",4,"ngIf"],["class","recent-section","aria-label","Inscriptions r\xE9centes",4,"ngIf"],["aria-label","Gestion des utilisateurs",1,"users-section"],[1,"section-header"],["type","button",1,"btn-primary",3,"click"],[1,"search-bar"],["type","search","placeholder","Rechercher par nom ou email...","aria-label","Rechercher un utilisateur",3,"ngModelChange","keyup.enter","ngModel"],["type","button",3,"click"],["class","loading loading-users",4,"ngIf"],["class","table-wrapper",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","modal","role","dialog","aria-modal","true","aria-labelledby","create-modal-title",3,"click",4,"ngIf"],["class","modal","role","dialog","aria-modal","true","aria-labelledby","edit-modal-title",3,"click",4,"ngIf"],[1,"alert","alert-error"],["type","button",1,"alert-close",3,"click"],[1,"alert","alert-success"],[1,"stats-grid","stats-skeleton"],["class","stat-card skeleton",4,"ngFor","ngForOf"],[1,"stat-card","skeleton"],[1,"stat-icon","skeleton-icon"],[1,"stat-content"],[1,"skeleton-line","short"],[1,"skeleton-line","long"],[1,"stats-grid"],[1,"stat-card","stat-users"],[1,"stat-icon"],[1,"stat-value"],[1,"stat-details"],[1,"stat-card","stat-tasks"],[1,"stat-card","stat-events"],[1,"stat-card","stat-health"],[1,"stat-card","stat-finance"],[1,"stat-card","stat-wellness"],[1,"stat-card","stat-social"],["aria-label","Inscriptions r\xE9centes",1,"recent-section"],[1,"recent-list"],["class","recent-item",4,"ngFor","ngForOf"],[1,"recent-item"],[1,"recent-name"],[1,"recent-email"],[1,"badge",3,"ngClass"],[1,"recent-date"],[1,"loading","loading-users"],["aria-hidden","true",1,"spinner"],[1,"table-wrapper"],[1,"table-container"],[1,"users-table"],[4,"ngFor","ngForOf"],["class","pagination",4,"ngIf"],["data-label","ID"],["data-label","Nom"],["data-label","Email"],["data-label","R\xF4le"],["data-label","Provider"],["data-label","Inscription"],["data-label","Actions",1,"actions-cell"],["type","button","title","Modifier",1,"btn-edit",3,"click"],["type","button","title","Supprimer",1,"btn-delete",3,"click"],[1,"pagination"],["type","button","aria-label","Page pr\xE9c\xE9dente",3,"click","disabled"],[1,"pagination-info"],["type","button","aria-label","Page suivante",3,"click","disabled"],[1,"empty-state"],[4,"ngIf"],["type","button","class","btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn-link",3,"click"],["role","dialog","aria-modal","true","aria-labelledby","create-modal-title",1,"modal",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],["id","create-modal-title"],["type","button",1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","create-fullName"],["id","create-fullName","type","text","name","fullName","required","",3,"ngModelChange","ngModel"],["for","create-email"],["id","create-email","type","email","name","email","required","",3,"ngModelChange","ngModel"],["for","create-password"],["id","create-password","type","password","name","password",3,"ngModelChange","ngModel"],["for","create-role"],["id","create-role","name","role",3,"ngModelChange","ngModel"],["value","user"],["value","admin"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary"],["role","dialog","aria-modal","true","aria-labelledby","edit-modal-title",1,"modal",3,"click"],["id","edit-modal-title"],["for","edit-fullName"],["id","edit-fullName","type","text","name","fullName","required","",3,"ngModelChange","ngModel"],["for","edit-email"],["id","edit-email","type","email","name","email","required","",3,"ngModelChange","ngModel"],["for","edit-password"],["id","edit-password","type","password","name","password",3,"ngModelChange","ngModel"],["for","edit-role"],["id","edit-role","name","role",3,"ngModelChange","ngModel"]],template:function(d,r){d&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),a(3),o(4,"translate"),n(),t(5,"button",2),_("click",function(){return r.router.navigate(["/home"])}),a(6),o(7,"translate"),n()(),f(8,re,6,4,"div",3)(9,ae,6,4,"div",4),t(10,"section",5)(11,"h2"),a(12),o(13,"translate"),n(),f(14,se,2,1,"div",6)(15,le,107,75,"div",7),n(),f(16,ce,6,4,"section",8),t(17,"section",9)(18,"div",10)(19,"h2"),a(20,"Gestion des Utilisateurs"),n(),t(21,"button",11),_("click",function(){return r.openCreateModal()}),a(22,"+ Nouvel Utilisateur"),n()(),t(23,"div",12)(24,"input",13),M("ngModelChange",function(k){return C(r.searchTerm,k)||(r.searchTerm=k),k}),_("keyup.enter",function(){return r.searchUsers()}),n(),t(25,"button",14),_("click",function(){return r.searchUsers()}),a(26,"Rechercher"),n()(),f(27,me,4,0,"div",15)(28,ue,29,23,"div",16)(29,be,5,2,"div",17),n(),f(30,xe,44,34,"div",18)(31,fe,44,34,"div",19),n()),d&2&&(i(3),c(s(4,14,"admin.title")),i(3),P(" \u2190 ",s(7,16,"admin.backHome")," "),i(2),v("ngIf",r.error),i(),v("ngIf",r.successMessage),i(3),c(s(13,18,"admin.generalStats")),i(2),v("ngIf",r.loadingStats),i(),v("ngIf",!r.loadingStats&&r.stats),i(),v("ngIf",r.recentUsers.length),i(8),h("ngModel",r.searchTerm),i(3),v("ngIf",r.loadingUsers),i(),v("ngIf",!r.loadingUsers&&r.users.length>0),i(),v("ngIf",!r.loadingUsers&&r.users.length===0),i(),v("ngIf",r.showCreateModal),i(),v("ngIf",r.showUserModal))},dependencies:[D,A,F,N,W,$,J,Q,X,L,K,G,q,Z,H,Y,ee],styles:[".admin-dashboard[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto;background:var(--notion-bg-secondary);min-height:100vh;color:var(--notion-text-primary)}.admin-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid var(--notion-border)}.admin-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:var(--notion-text-primary);font-size:2rem}.btn-back[_ngcontent-%COMP%]{padding:.5rem 1rem;background:var(--notion-gray);color:#fff;border:none;border-radius:var(--notion-radius);cursor:pointer;font-size:.9rem;transition:background 20ms ease-in 0s}.btn-back[_ngcontent-%COMP%]:hover{background:var(--notion-gray-bg);opacity:.9}.alert[_ngcontent-%COMP%]{padding:1rem 1.25rem;margin-bottom:1rem;border-radius:var(--notion-radius);display:flex;justify-content:space-between;align-items:center;gap:1rem;animation:_ngcontent-%COMP%_slideIn .2s ease-out}.alert-error[_ngcontent-%COMP%]{background:var(--notion-red-bg);color:var(--notion-red);border:1px solid var(--notion-red)}.alert-success[_ngcontent-%COMP%]{background:#00b4641f;color:var(--notion-green, #0f7b4a);border:1px solid var(--notion-green, #0f7b4a)}.alert-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;opacity:.8;line-height:1;padding:0 .25rem}.alert-close[_ngcontent-%COMP%]:hover{opacity:1}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.stats-section[_ngcontent-%COMP%], .users-section[_ngcontent-%COMP%]{background:var(--notion-bg);padding:2rem;border-radius:var(--notion-radius-md);margin-bottom:2rem;box-shadow:var(--notion-shadow);border:1px solid var(--notion-border)}.stats-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .users-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:var(--notion-text-primary);font-size:1.5rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.25rem;margin-top:1.5rem}.stat-card[_ngcontent-%COMP%]{color:#fff;padding:1.25rem 1.5rem;border-radius:12px;display:flex;align-items:center;gap:1rem;box-shadow:0 4px 12px #0000001a;transition:transform .15s ease,box-shadow .15s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0000001f}.stat-card.stat-users[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.stat-card.stat-tasks[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.stat-card.stat-events[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.stat-card.stat-health[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.stat-card.stat-finance[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.stat-card.stat-wellness[_ngcontent-%COMP%]{background:linear-gradient(135deg,#30cfd0,#330867)}.stat-card.stat-social[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a18cd1,#fbc2eb)}.stats-skeleton[_ngcontent-%COMP%]   .stat-card.skeleton[_ngcontent-%COMP%]{background:var(--notion-bg-tertiary);color:transparent}.stats-skeleton[_ngcontent-%COMP%]   .skeleton-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:8px;background:var(--notion-border);animation:_ngcontent-%COMP%_pulse 1.2s ease-in-out infinite}.stats-skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{height:1rem;border-radius:4px;background:var(--notion-border);animation:_ngcontent-%COMP%_pulse 1.2s ease-in-out infinite}.stats-skeleton[_ngcontent-%COMP%]   .skeleton-line.short[_ngcontent-%COMP%]{width:60%}.stats-skeleton[_ngcontent-%COMP%]   .skeleton-line.long[_ngcontent-%COMP%]{width:90%;margin-top:.5rem}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:.6}50%{opacity:1}}.stat-icon[_ngcontent-%COMP%]{font-size:3rem}.stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:.9rem;opacity:.9}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:.5rem 0}.stat-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;font-size:.85rem;opacity:.9}.recent-section[_ngcontent-%COMP%]{background:var(--notion-bg);padding:2rem;border-radius:var(--notion-radius-md);margin-bottom:2rem;box-shadow:var(--notion-shadow);border:1px solid var(--notion-border)}.recent-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.25rem;color:var(--notion-text-primary)}.recent-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.recent-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1.5fr auto auto;align-items:center;gap:1rem;padding:.75rem 1rem;background:var(--notion-bg-secondary);border-radius:var(--notion-radius);font-size:.9rem}.recent-name[_ngcontent-%COMP%]{font-weight:600;color:var(--notion-text-primary)}.recent-email[_ngcontent-%COMP%]{color:var(--notion-text-secondary)}.recent-date[_ngcontent-%COMP%]{color:var(--notion-text-tertiary);font-size:.85rem}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.btn-primary[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:var(--notion-blue);color:#fff;border:none;border-radius:var(--notion-radius);cursor:pointer;font-size:1rem;font-weight:500;transition:background 20ms ease-in 0s}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--notion-blue-bg);opacity:.9}.search-bar[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1.5rem}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:.75rem;border:1px solid var(--notion-border);border-radius:var(--notion-radius);font-size:1rem;background:var(--notion-bg);color:var(--notion-text-primary)}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue);box-shadow:0 0 0 1px var(--notion-blue)}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:var(--notion-green);color:#fff;border:none;border-radius:var(--notion-radius);cursor:pointer;transition:background 20ms ease-in 0s}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--notion-green-bg);opacity:.9}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.users-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem}.users-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--notion-bg-tertiary);padding:1rem;text-align:left;font-weight:600;color:var(--notion-text-primary);border-bottom:2px solid var(--notion-border)}.users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid var(--notion-border);color:var(--notion-text-primary)}.users-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.85rem;font-weight:500}.badge-admin[_ngcontent-%COMP%]{background:var(--notion-red);color:#fff}.badge-user[_ngcontent-%COMP%]{background:var(--notion-green);color:#fff}.actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-edit[_ngcontent-%COMP%]{padding:.5rem 1rem;background:var(--notion-yellow);color:var(--notion-text-primary);border:none;border-radius:var(--notion-radius);cursor:pointer;font-size:.9rem;transition:background 20ms ease-in 0s}.btn-edit[_ngcontent-%COMP%]:hover{background:var(--notion-yellow-bg);opacity:.9}.btn-delete[_ngcontent-%COMP%]{padding:.5rem 1rem;background:var(--notion-red);color:#fff;border:none;border-radius:var(--notion-radius);cursor:pointer;font-size:.9rem;transition:background 20ms ease-in 0s}.btn-delete[_ngcontent-%COMP%]:hover{background:var(--notion-red-bg);opacity:.9}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:1.5rem;padding:1rem}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;background:var(--notion-blue);color:#fff;border:none;border-radius:var(--notion-radius);cursor:pointer;transition:background 20ms ease-in 0s}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--notion-blue-bg);opacity:.9}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:var(--notion-gray);opacity:.5;cursor:not-allowed}.loading[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--notion-text-secondary)}.loading-users[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.75rem}.spinner[_ngcontent-%COMP%]{display:inline-block;width:1.5rem;height:1.5rem;border:2px solid var(--notion-border);border-top-color:var(--notion-blue);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.table-wrapper[_ngcontent-%COMP%]{margin-top:1rem}.pagination-info[_ngcontent-%COMP%]{font-size:.9rem;color:var(--notion-text-secondary)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;background:var(--notion-bg-secondary);border-radius:var(--notion-radius-md);border:1px dashed var(--notion-border)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--notion-text-secondary)}.empty-state[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{margin-top:1rem}.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:var(--notion-blue);cursor:pointer;text-decoration:underline;font-size:inherit;padding:0}.btn-link[_ngcontent-%COMP%]:hover{opacity:.9}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background:var(--notion-bg);border-radius:var(--notion-radius-md);width:90%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:var(--notion-shadow-lg);border:1px solid var(--notion-border)}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid var(--notion-border)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--notion-text-primary)}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:2rem;cursor:pointer;color:var(--notion-text-tertiary);line-height:1;transition:color 20ms ease-in 0s}.close-btn[_ngcontent-%COMP%]:hover{color:var(--notion-text-primary)}.modal-body[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:var(--notion-text-primary);font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--notion-border);border-radius:var(--notion-radius);font-size:1rem;box-sizing:border-box;background:var(--notion-bg);color:var(--notion-text-primary)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue);box-shadow:0 0 0 1px var(--notion-blue)}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1.5rem}.btn-secondary[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:var(--notion-gray);color:#fff;border:none;border-radius:var(--notion-radius);cursor:pointer;transition:background 20ms ease-in 0s}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--notion-gray-bg);opacity:.9}@media (max-width: 768px){.admin-dashboard[_ngcontent-%COMP%]{padding:1rem}.admin-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.recent-item[_ngcontent-%COMP%]{grid-template-columns:1fr auto;gap:.5rem}.recent-email[_ngcontent-%COMP%]{grid-column:1 / -1}.recent-date[_ngcontent-%COMP%]{grid-column:1}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.users-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.users-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;padding:1rem;background:var(--notion-bg-secondary);border-radius:var(--notion-radius);border:1px solid var(--notion-border)}.users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid var(--notion-border)}.users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-bottom:none}.users-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;color:var(--notion-text-secondary);margin-right:.75rem}.users-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem}.users-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]:before{width:100%;margin-bottom:.25rem}.pagination[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.75rem}.pagination-info[_ngcontent-%COMP%]{width:100%;text-align:center}.modal-content[_ngcontent-%COMP%]{width:95%;max-height:85vh}}"]})}}return l})();export{ke as AdminComponent};
