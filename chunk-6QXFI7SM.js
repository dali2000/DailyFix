import{a as j}from"./chunk-WBVCTHXZ.js";import{d as N}from"./chunk-MBI4MNMV.js";import{a as F,b as a,c as I,d as V,g as H,j as T,k as q,q as G,r as B,s as D,u as A}from"./chunk-BOBH42NE.js";import{Ib as z,La as c,Lb as L,Ma as b,Na as l,Pa as _,Ra as t,Sa as n,Ta as p,Ua as y,Va as P,Wa as O,Xa as g,Ya as u,Z as M,ab as r,bb as S,cb as k,fa as v,ga as h,ha as x,ia as w,ib as E,ya as s,za as f}from"./chunk-X4VNRQJ7.js";function W(o,m){o&1&&(t(0,"div",22),r(1," Nom requis (2+ caract\xE8res) "),n())}function R(o,m){if(o&1&&(y(0),t(1,"label",19),r(2,"Nom complet"),n(),p(3,"input",20),c(4,W,2,0,"div",21),P()),o&2){let i=u();s(4),l("ngIf",i.form.controls.fullName.touched&&i.form.controls.fullName.invalid)}}function U(o,m){o&1&&(t(0,"div",23),r(1," Entrez un email valide "),n())}function J(o,m){o&1&&(t(0,"div",24),r(1," Mot de passe requis (6+ caract\xE8res) "),n())}function K(o,m){if(o&1&&(t(0,"div",25),r(1),n()),o&2){let i=u();s(),S(i.errorMessage)}}function Q(o,m){if(o&1){let i=O();t(0,"div",26)(1,"div",27)(2,"span"),r(3,"ou"),n()(),t(4,"button",28),g("click",function(){v(i);let e=u();return h(e.signupWithGoogle())}),x(),t(5,"svg",29),p(6,"path",30)(7,"path",31)(8,"path",32)(9,"path",33),n(),r(10," Continuer avec Google "),n(),w(),t(11,"button",34),g("click",function(){v(i);let e=u();return h(e.signupWithFacebook())}),x(),t(12,"svg",35),p(13,"path",36),n(),r(14," Continuer avec Facebook "),n()()}}var ie=(()=>{class o{constructor(i,d,e){this.formBuilder=i,this.router=d,this.authService=e,this.authMode="login",this.errorMessage="",this.isLoading=!1,this.form=this.formBuilder.group({email:["",[a.required,a.email]],password:["",[a.required,a.minLength(6)]]})}switchMode(i){this.authMode!==i&&(this.authMode=i,this.errorMessage="",this.form=this.buildForm())}buildForm(){return this.authMode==="signup"?this.formBuilder.group({fullName:["",[a.required,a.minLength(2)]],email:["",[a.required,a.email]],password:["",[a.required,a.minLength(6)]]}):this.formBuilder.group({email:["",[a.required,a.email]],password:["",[a.required,a.minLength(6)]]})}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}if(this.errorMessage="",this.isLoading=!0,this.authMode==="login"){let i=this.authService.login({email:this.form.value.email,password:this.form.value.password});this.isLoading=!1,i.success?this.router.navigate(["/home"]):this.errorMessage=i.error||"Erreur de connexion"}else{let i=this.authService.signup({fullName:this.form.value.fullName,email:this.form.value.email,password:this.form.value.password});this.isLoading=!1,i.success?this.router.navigate(["/home"]):this.errorMessage=i.error||"Erreur lors de l'inscription"}}get isSignup(){return this.authMode==="signup"}signupWithGoogle(){console.log("Signup with Google")}signupWithFacebook(){console.log("Signup with Facebook")}static{this.\u0275fac=function(d){return new(d||o)(f(D),f(N),f(j))}}static{this.\u0275cmp=M({type:o,selectors:[["app-login"]],standalone:!0,features:[E],decls:29,vars:14,consts:[[1,"auth-page"],[1,"brand"],[1,"subtitle"],["aria-label","Connexion",1,"card"],[1,"title"],[1,"subtext"],["role","tablist","aria-label","Mode d'authentification",1,"tabs"],["type","button",1,"tab",3,"click"],["novalidate","",3,"ngSubmit","formGroup"],[4,"ngIf"],["for","email"],["id","email","type","email","formControlName","email","placeholder","votre@email.com","autocomplete","email","required","","aria-describedby","emailHelp"],["id","emailHelp","class","error",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","autocomplete","current-password","required","","minlength","6","aria-describedby","passwordHelp"],["id","passwordHelp","class","error",4,"ngIf"],["class","error-message",4,"ngIf"],["type","submit",1,"submit",3,"disabled"],["class","social-auth",4,"ngIf"],["for","fullName"],["id","fullName","type","text","formControlName","fullName","placeholder","Votre nom","autocomplete","name","required","","aria-describedby","fullNameHelp"],["id","fullNameHelp","class","error",4,"ngIf"],["id","fullNameHelp",1,"error"],["id","emailHelp",1,"error"],["id","passwordHelp",1,"error"],[1,"error-message"],[1,"social-auth"],[1,"divider"],["type","button",1,"social","google",3,"click"],["viewBox","0 0 48 48","aria-hidden","true"],["fill","#FFC107","d","M43.611 20.083H42V20H24v8h11.303C33.642 32.324 29.223 36 24 36c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.869 6.053 29.706 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.651-.389-3.917z"],["fill","#FF3D00","d","M6.306 14.691l6.571 4.818C14.264 16.106 18.74 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.869 6.053 29.706 4 24 4 16.318 4 9.656 8.337 6.306 14.691z"],["fill","#4CAF50","d","M24 44c5.166 0 9.86-1.977 13.409-5.193l-6.199-5.238C29.155 35.091 26.715 36 24 36c-5.202 0-9.61-3.654-11.289-8.568l-6.548 5.046C9.458 39.556 16.138 44 24 44z"],["fill","#1976D2","d","M43.611 20.083H42V20H24v8h11.303c-1.361 3.324-5.78 7-11.303 7-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.869 6.053 29.706 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.651-.389-3.917z"],["type","button",1,"social","facebook",3,"click"],["viewBox","0 0 24 24","aria-hidden","true"],["fill","#1877F2","d","M24 12.073C24 5.405 18.627 0 12 0S0 5.405 0 12.073C0 18.095 4.388 23.093 10.125 24v-8.437H7.078V12.07h3.047V9.412c0-3.007 1.792-4.668 4.533-4.668 1.312 0 2.686.235 2.686.235v2.953h-1.514c-1.491 0-1.953.926-1.953 1.874v2.264h3.328l-.532 3.492h-2.796V24C19.612 23.093 24 18.095 24 12.073z"]],template:function(d,e){d&1&&(t(0,"div",0)(1,"h1",1),r(2,"DailyFix"),n(),t(3,"p",2),r(4,"Votre assistant personnel pour une vie organis\xE9e"),n(),t(5,"section",3)(6,"h2",4),r(7,"Bienvenue"),n(),t(8,"p",5),r(9,"Connectez-vous pour acc\xE9der \xE0 votre tableau de bord"),n(),t(10,"div",6)(11,"button",7),g("click",function(){return e.switchMode("login")}),r(12,"Connexion"),n(),t(13,"button",7),g("click",function(){return e.switchMode("signup")}),r(14,"Inscription"),n()(),t(15,"form",8),g("ngSubmit",function(){return e.submit()}),c(16,R,5,1,"ng-container",9),t(17,"label",10),r(18,"Email"),n(),p(19,"input",11),c(20,U,2,0,"div",12),t(21,"label",13),r(22,"Mot de passe"),n(),p(23,"input",14),c(24,J,2,0,"div",15)(25,K,2,1,"div",16),t(26,"button",17),r(27),n()(),c(28,Q,15,0,"div",18),n()()),d&2&&(s(11),_("active",!e.isSignup),b("aria-selected",!e.isSignup),s(2),_("active",e.isSignup),b("aria-selected",e.isSignup),s(2),l("formGroup",e.form),s(),l("ngIf",e.isSignup),s(4),l("ngIf",e.form.controls.email.touched&&e.form.controls.email.invalid),s(4),l("ngIf",e.form.controls.password.touched&&e.form.controls.password.invalid),s(),l("ngIf",e.errorMessage),s(),l("disabled",e.isLoading),s(),k(" ",e.isLoading?"Chargement...":e.isSignup?"Cr\xE9er un compte":"Se connecter"," "),s(),l("ngIf",e.isSignup))},dependencies:[L,z,A,H,F,I,V,G,B,T,q],styles:['[_nghost-%COMP%]{display:block}.auth-page[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--notion-spacing-2xl) var(--notion-spacing-lg);background:var(--notion-bg-secondary);font-family:ui-sans-serif,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;overflow-x:hidden;box-sizing:border-box}.brand[_ngcontent-%COMP%]{font-size:40px;font-weight:700;color:var(--notion-text-primary);margin:0 0 8px;text-align:center;letter-spacing:-.03em}.subtitle[_ngcontent-%COMP%]{color:var(--notion-text-secondary);margin:0 0 var(--notion-spacing-2xl) 0;text-align:center;font-size:14px}.card[_ngcontent-%COMP%]{width:100%;max-width:400px;background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:var(--notion-radius);box-shadow:var(--notion-shadow);padding:var(--notion-spacing-xl)}.title[_ngcontent-%COMP%]{text-align:center;font-size:24px;margin:0 0 4px;color:var(--notion-text-primary);font-weight:600;letter-spacing:-.02em}.subtext[_ngcontent-%COMP%]{text-align:center;color:var(--notion-text-tertiary);margin:0 0 var(--notion-spacing-lg);font-size:14px}.tabs[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0;background:var(--notion-bg-tertiary);padding:2px;border-radius:var(--notion-radius);margin:0 auto var(--notion-spacing-lg);width:100%;max-width:300px;border:1px solid var(--notion-border)}.tab[_ngcontent-%COMP%]{flex:1 1 0;border:none;background:transparent;color:var(--notion-text-secondary);font-weight:400;padding:6px 12px;border-radius:var(--notion-radius-sm);cursor:pointer;transition:all 20ms ease-in 0s;font-size:14px}.tab[_ngcontent-%COMP%]:hover{background:#00000008}.tab.active[_ngcontent-%COMP%]{background:var(--notion-bg);color:var(--notion-text-primary);font-weight:500;box-shadow:var(--notion-shadow-sm)}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--notion-spacing-lg)}label[_ngcontent-%COMP%]{font-size:12px;color:var(--notion-text-secondary);font-weight:500;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border-radius:var(--notion-radius);border:1px solid var(--notion-border);background:var(--notion-bg);font-size:14px;outline:none;transition:border-color 20ms ease-in 0s;font-family:inherit}input[_ngcontent-%COMP%]:focus{border-color:var(--notion-blue);box-shadow:0 0 0 1px var(--notion-blue)}.error[_ngcontent-%COMP%]{color:var(--notion-red);font-size:12px;margin-top:-12px;font-weight:400}.submit[_ngcontent-%COMP%]{margin-top:0;width:100%;padding:8px 12px;border-radius:var(--notion-radius);border:none;background:var(--notion-text-primary);color:#fff;font-weight:500;font-size:14px;cursor:pointer;transition:background 20ms ease-in 0s}.submit[_ngcontent-%COMP%]:hover{background:#2e2e2c}.submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.submit[_ngcontent-%COMP%]:disabled:hover{background:var(--notion-text-primary)}.error-message[_ngcontent-%COMP%]{color:var(--notion-red);font-size:13px;margin-top:-8px;margin-bottom:8px;text-align:center;padding:8px;background:var(--notion-red-bg);border-radius:var(--notion-radius);border:1px solid var(--notion-red)}.social-auth[_ngcontent-%COMP%]{margin-top:var(--notion-spacing-lg);display:flex;flex-direction:column;gap:var(--notion-spacing)}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--notion-spacing);color:var(--notion-text-tertiary);font-size:12px;margin:var(--notion-spacing-lg) 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";height:1px;flex:1 1 0;background:var(--notion-border)}.social[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:var(--notion-spacing);width:100%;padding:8px 12px;border-radius:var(--notion-radius);border:1px solid var(--notion-border);background:var(--notion-bg);color:var(--notion-text-primary);font-weight:400;cursor:pointer;transition:background 20ms ease-in 0s;font-size:14px;font-family:inherit}.social[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.social[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.social.google[_ngcontent-%COMP%], .social.facebook[_ngcontent-%COMP%]{border-color:var(--notion-border)}@media (max-width: 768px){.auth-page[_ngcontent-%COMP%]{padding:var(--notion-spacing-xl) var(--notion-spacing)}.brand[_ngcontent-%COMP%]{font-size:32px}.subtitle[_ngcontent-%COMP%]{font-size:13px}.card[_ngcontent-%COMP%]{max-width:100%;padding:var(--notion-spacing-lg)}.title[_ngcontent-%COMP%]{font-size:20px}.tabs[_ngcontent-%COMP%]{max-width:100%}.social[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px}.social[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}}@media (max-width: 480px){.auth-page[_ngcontent-%COMP%]{padding:var(--notion-spacing-lg) var(--notion-spacing-sm)}.brand[_ngcontent-%COMP%]{font-size:28px}.card[_ngcontent-%COMP%]{padding:var(--notion-spacing)}.title[_ngcontent-%COMP%]{font-size:18px}.subtext[_ngcontent-%COMP%]{font-size:13px}form[_ngcontent-%COMP%]{gap:var(--notion-spacing)}input[_ngcontent-%COMP%]{padding:8px 10px;font-size:13px}.submit[_ngcontent-%COMP%]{padding:10px 12px;font-size:13px}.social[_ngcontent-%COMP%]{padding:8px 10px;font-size:12px}}']})}}return o})();export{ie as LoginComponent};
