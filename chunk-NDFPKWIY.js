import{c as F,f as U,l as D,m as j,n as N,t as A}from"./chunk-CIRYA727.js";import{$ as l,Aa as O,Ba as E,E as v,Ea as k,F as f,L as a,La as T,M as d,P as C,R as u,Ra as w,Sa as I,T as m,Ta as z,V as e,W as t,X as g,aa as x,fa as n,ia as _,la as S,ma as y,na as M,pa as P,y as b}from"./chunk-DTRZGNSU.js";function V(o,h){if(o&1&&(e(0,"option",30),n(1),t()),o&2){let i=h.$implicit;u("value",i.code),a(),_(" ",i.label," (",i.symbol,") ")}}function B(o,h){if(o&1&&(e(0,"p"),n(1),t()),o&2){let i=x();a(),_("",i.currentUser.fullName," - ",i.currentUser.email,"")}}function L(o,h){o&1&&(e(0,"p"),n(1,"Chargement..."),t())}var X=(()=>{class o{constructor(i,c,r,s){this.themeService=i,this.authService=c,this.currencyService=r,this.router=s,this.currentTheme="light",this.currentUser=null,this.selectedCurrencyCode="EUR"}get currencies(){return this.currencyService.currencies}ngOnInit(){this.themeSubscription=this.themeService.theme$.subscribe(i=>{this.currentTheme=i}),this.userSubscription=this.authService.currentUser$.subscribe(i=>{this.currentUser=i}),this.selectedCurrencyCode=this.currencyService.getSelectedCurrencyCode(),this.currencySubscription=this.currencyService.selectedCurrency$.subscribe(i=>{this.selectedCurrencyCode=i})}ngOnDestroy(){this.themeSubscription?.unsubscribe(),this.userSubscription?.unsubscribe(),this.currencySubscription?.unsubscribe()}onCurrencyChange(i){this.authService.getCurrentUser()?this.authService.updateProfile({currency:i}).subscribe({error:c=>console.error("Erreur lors de la sauvegarde de la devise",c)}):this.currencyService.setSelectedCurrency(i)}toggleTheme(){this.themeService.toggleTheme()}setTheme(i){this.themeService.setTheme(i),this.authService.getCurrentUser()&&this.authService.updateProfile({theme:i}).subscribe({error:c=>console.error("Erreur lors de la sauvegarde du th\xE8me",c)})}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(c){return new(c||o)(d(I),d(z),d(w),d(T))}}static{this.\u0275cmp=b({type:o,selectors:[["app-settings"]],standalone:!0,features:[P],decls:84,vars:14,consts:[[1,"settings-page"],[1,"settings-container"],[1,"settings-section"],[1,"setting-item"],[1,"setting-info"],[1,"setting-control"],[1,"theme-toggle"],["aria-label","Mode clair",1,"theme-option",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","5"],["x1","12","y1","1","x2","12","y2","3"],["x1","12","y1","21","x2","12","y2","23"],["x1","4.22","y1","4.22","x2","5.64","y2","5.64"],["x1","18.36","y1","18.36","x2","19.78","y2","19.78"],["x1","1","y1","12","x2","3","y2","12"],["x1","21","y1","12","x2","23","y2","12"],["x1","4.22","y1","19.78","x2","5.64","y2","18.36"],["x1","18.36","y1","5.64","x2","19.78","y2","4.22"],["aria-label","Mode sombre",1,"theme-option",3,"click"],["d","M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"],["aria-label","Th\xE8me bleu",1,"theme-option",3,"click"],[2,"width","12px","height","12px","border-radius","999px","background","#2563eb"],["aria-label","Th\xE8me for\xEAt",1,"theme-option",3,"click"],[2,"width","12px","height","12px","border-radius","999px","background","#15803d"],["aria-label","Th\xE8me violet",1,"theme-option",3,"click"],[2,"width","12px","height","12px","border-radius","999px","background","#7c3aed"],["id","currency-select",1,"currency-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-danger",3,"click"],[3,"value"]],template:function(c,r){c&1&&(e(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Param\xE8tres"),t(),e(4,"section",2)(5,"h2"),n(6,"Apparence"),t(),e(7,"div",3)(8,"div",4)(9,"h3"),n(10,"Th\xE8me"),t(),e(11,"p"),n(12,"Choisissez le style visuel de l'interface"),t()(),e(13,"div",5)(14,"div",6)(15,"button",7),l("click",function(){return r.setTheme("light")}),v(),e(16,"svg",8),g(17,"circle",9)(18,"line",10)(19,"line",11)(20,"line",12)(21,"line",13)(22,"line",14)(23,"line",15)(24,"line",16)(25,"line",17),t(),f(),e(26,"span"),n(27,"Clair"),t()(),e(28,"button",18),l("click",function(){return r.setTheme("dark")}),v(),e(29,"svg",8),g(30,"path",19),t(),f(),e(31,"span"),n(32,"Sombre"),t()(),e(33,"button",20),l("click",function(){return r.setTheme("blue")}),g(34,"span",21),e(35,"span"),n(36,"Bleu"),t()(),e(37,"button",22),l("click",function(){return r.setTheme("forest")}),g(38,"span",23),e(39,"span"),n(40,"For\xEAt"),t()(),e(41,"button",24),l("click",function(){return r.setTheme("purple")}),g(42,"span",25),e(43,"span"),n(44,"Violet"),t()()()()()(),e(45,"section",2)(46,"h2"),n(47,"Portefeuille"),t(),e(48,"div",3)(49,"div",4)(50,"h3"),n(51,"Devise du portefeuille"),t(),e(52,"p"),n(53,"Devise d'affichage pour les montants (Finance)"),t()(),e(54,"div",5)(55,"select",26),M("ngModelChange",function(p){return y(r.selectedCurrencyCode,p)||(r.selectedCurrencyCode=p),p}),l("ngModelChange",function(p){return r.onCurrencyChange(p)}),C(56,V,2,3,"option",27),t()()()(),e(57,"section",2)(58,"h2"),n(59,"Compte"),t(),e(60,"div",3)(61,"div",4)(62,"h3"),n(63,"Informations utilisateur"),t(),C(64,B,2,2,"p",28)(65,L,2,0,"p",28),t()(),e(66,"div",3)(67,"div",4)(68,"h3"),n(69,"D\xE9connexion"),t(),e(70,"p"),n(71,"D\xE9connectez-vous de votre compte"),t()(),e(72,"div",5)(73,"button",29),l("click",function(){return r.logout()}),n(74," Se d\xE9connecter "),t()()()(),e(75,"section",2)(76,"h2"),n(77,"\xC0 propos"),t(),e(78,"div",3)(79,"div",4)(80,"h3"),n(81,"Version"),t(),e(82,"p"),n(83,"DailyFix v1.0.0"),t()()()()()()),c&2&&(a(15),m("active",r.currentTheme==="light"),a(13),m("active",r.currentTheme==="dark"),a(5),m("active",r.currentTheme==="blue"),a(4),m("active",r.currentTheme==="forest"),a(4),m("active",r.currentTheme==="purple"),a(14),S("ngModel",r.selectedCurrencyCode),a(),u("ngForOf",r.currencies),a(8),u("ngIf",r.currentUser),a(),u("ngIf",!r.currentUser))},dependencies:[k,O,E,A,j,N,D,F,U],styles:[".settings-page[_ngcontent-%COMP%]{padding:var(--notion-spacing-lg);max-width:800px;margin:0 auto;min-height:calc(100vh - 60px)}.settings-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:var(--notion-spacing-xl);font-size:32px;font-weight:700}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--notion-spacing-xl)}.settings-section[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:var(--notion-radius-md);padding:var(--notion-spacing-lg)}.settings-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-bottom:var(--notion-spacing-lg);color:var(--notion-text-primary)}.setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:var(--notion-spacing-md) 0;border-bottom:1px solid var(--notion-border)}.setting-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.setting-info[_ngcontent-%COMP%]{flex:1;margin-right:var(--notion-spacing-lg)}.setting-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:var(--notion-spacing-xs);color:var(--notion-text-primary)}.setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--notion-text-secondary);margin:0}.setting-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--notion-spacing)}.currency-select[_ngcontent-%COMP%]{min-width:200px;padding:var(--notion-spacing-sm) var(--notion-spacing-md);border:1px solid var(--notion-border);border-radius:var(--notion-radius);background:var(--notion-bg);color:var(--notion-text-primary);font-size:14px}.theme-toggle[_ngcontent-%COMP%]{display:flex;gap:var(--notion-spacing-sm);background:var(--notion-bg-secondary);border-radius:var(--notion-radius);padding:4px}.theme-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--notion-spacing-xs);padding:var(--notion-spacing-sm) var(--notion-spacing-md);border:none;background:transparent;border-radius:var(--notion-radius-sm);cursor:pointer;transition:all .2s ease;color:var(--notion-text-secondary);font-size:14px;font-weight:500}.theme-option[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);color:var(--notion-text-primary)}.theme-option.active[_ngcontent-%COMP%]{background:var(--notion-text-primary);color:#929292!important}.dark-theme[_ngcontent-%COMP%]   .theme-option[_ngcontent-%COMP%]{color:var(--notion-text-primary)!important}.dark-theme[_ngcontent-%COMP%]   .theme-option[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)!important;color:var(--notion-text-primary)!important}.dark-theme[_ngcontent-%COMP%]   .theme-option.active[_ngcontent-%COMP%]{background:#ffffff26!important;color:#fff!important}.theme-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}@media (max-width: 768px){.settings-page[_ngcontent-%COMP%]{padding:var(--notion-spacing)}.settings-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.setting-item[_ngcontent-%COMP%]{flex-direction:column;gap:var(--notion-spacing)}.setting-info[_ngcontent-%COMP%]{margin-right:0}.setting-control[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.theme-toggle[_ngcontent-%COMP%]{width:100%}.theme-option[_ngcontent-%COMP%]{flex:1;justify-content:center}}"]})}}return o})();export{X as SettingsComponent};
