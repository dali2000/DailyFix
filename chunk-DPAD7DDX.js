import{a as rt}from"./chunk-FEMRSAA2.js";import{a as Y,c as Q,d as J,e as R,f as q,g as U,h as $,l as G,m as H,n as Z,o as tt,p as et,q as nt,t as it}from"./chunk-54QNWKKZ.js";import{a as ot}from"./chunk-XJWRHYR6.js";import{A as x,Aa as W,Ba as A,Ca as L,Ea as K,Ga as N,J as n,K as P,N as v,Na as j,O,P as m,Q as S,R as F,T as a,U as o,Wa as X,Y as M,Ya as at,Z as f,_ as g,da as s,ea as c,fa as k,ga as V,ka as b,la as C,ma as w,oa as z,qa as d,ra as p,sa as E,v as B,z as u}from"./chunk-XXCCQEXG.js";import{a as I,b as D}from"./chunk-POLL2CVR.js";function st(r,_){if(r&1&&(a(0,"option",41),s(1),d(2,"translate"),o()),r&2){let t=_.$implicit;m("value",t.value),n(),V(" ",t.icon," ",p(2,3,t.labelKey)," ")}}function lt(r,_){if(r&1){let t=M();a(0,"app-modal",23),d(1,"translate"),f("closeModal",function(){u(t);let e=g();return x(e.closeTaskModal())}),a(2,"form",24),f("ngSubmit",function(){u(t);let e=g();return x(e.saveTask())}),a(3,"div",25)(4,"label",26),s(5),d(6,"translate"),o(),a(7,"input",27),d(8,"translate"),w("ngModelChange",function(e){u(t);let l=g();return C(l.newTask.title,e)||(l.newTask.title=e),x(e)}),o()(),a(9,"div",25)(10,"label",28),s(11),d(12,"translate"),o(),a(13,"textarea",29),d(14,"translate"),w("ngModelChange",function(e){u(t);let l=g();return C(l.newTask.description,e)||(l.newTask.description=e),x(e)}),o()(),a(15,"div",30)(16,"div",25)(17,"label"),s(18),d(19,"translate"),o(),a(20,"select",31),w("ngModelChange",function(e){u(t);let l=g();return C(l.newTask.status,e)||(l.newTask.status=e),x(e)}),a(21,"option",11),s(22),d(23,"translate"),o(),a(24,"option",12),s(25),d(26,"translate"),o(),a(27,"option",13),s(28),d(29,"translate"),o(),a(30,"option",14),s(31),d(32,"translate"),o()()(),a(33,"div",25)(34,"label"),s(35),d(36,"translate"),o(),a(37,"select",32),w("ngModelChange",function(e){u(t);let l=g();return C(l.newTask.priority,e)||(l.newTask.priority=e),x(e)}),v(38,st,3,5,"option",33),o()(),a(39,"div",25)(40,"label"),s(41),d(42,"translate"),o(),a(43,"input",34),d(44,"translate"),w("ngModelChange",function(e){u(t);let l=g();return C(l.newTask.assignee,e)||(l.newTask.assignee=e),x(e)}),o()(),a(45,"div",25)(46,"label"),s(47),d(48,"translate"),o(),a(49,"input",35),w("ngModelChange",function(e){u(t);let l=g();return C(l.newTask.storyPoints,e)||(l.newTask.storyPoints=e),x(e)}),o()()(),a(50,"div",30)(51,"div",25)(52,"label"),s(53),d(54,"translate"),o(),a(55,"input",36),d(56,"translate"),w("ngModelChange",function(e){u(t);let l=g();return C(l.newTask.labels,e)||(l.newTask.labels=e),x(e)}),o()(),a(57,"div",25)(58,"label"),s(59),d(60,"translate"),o(),a(61,"input",37),w("ngModelChange",function(e){u(t);let l=g();return C(l.newTask.dueDate,e)||(l.newTask.dueDate=e),x(e)}),o()()(),a(62,"div",38)(63,"button",39),f("click",function(){u(t);let e=g();return x(e.closeTaskModal())}),s(64),d(65,"translate"),o(),a(66,"button",40),s(67),d(68,"translate"),o()()()()}if(r&2){let t=g();m("title",p(1,28,t.modalTitleKey)),n(5),k("",p(6,30,"tasks.taskTitle")," *"),n(2),b("ngModel",t.newTask.title),m("placeholder",p(8,32,"tasks.taskTitlePlaceholder")),n(4),c(p(12,34,"common.description")),n(2),b("ngModel",t.newTask.description),m("placeholder",p(14,36,"tasks.taskDescPlaceholder")),n(5),c(p(19,38,"tasks.status")),n(2),b("ngModel",t.newTask.status),n(2),c(p(23,40,"tasks.todo")),n(3),c(p(26,42,"tasks.inProgress")),n(3),c(p(29,44,"tasks.inReview")),n(3),c(p(32,46,"tasks.done")),n(4),c(p(36,48,"tasks.priority")),n(2),b("ngModel",t.newTask.priority),n(),m("ngForOf",t.priorityOptions),n(3),c(p(42,50,"tasks.assignee")),n(2),b("ngModel",t.newTask.assignee),m("placeholder",p(44,52,"tasks.assigneePlaceholder")),n(4),c(p(48,54,"tasks.storyPoints")),n(2),b("ngModel",t.newTask.storyPoints),n(4),c(p(54,56,"tasks.labels")),n(2),b("ngModel",t.newTask.labels),m("placeholder",p(56,58,"tasks.labelsPlaceholder")),n(4),c(p(60,60,"tasks.dueDate")),n(2),b("ngModel",t.newTask.dueDate),n(3),c(p(65,62,"common.cancel")),n(3),c(p(68,64,"common.save"))}}function dt(r,_){if(r&1&&(a(0,"p",64),s(1),o()),r&2){let t=g().$implicit;n(),c(t.description)}}function pt(r,_){if(r&1&&(a(0,"span",65),s(1),o()),r&2){let t=g().$implicit;n(),k("\u26A1 ",t.storyPoints,"")}}function ct(r,_){if(r&1&&(a(0,"span",68),s(1),o()),r&2){let t=_.$implicit;n(),c(t)}}function gt(r,_){if(r&1&&(a(0,"div",66),v(1,ct,2,1,"span",67),o()),r&2){let t=g().$implicit;n(),m("ngForOf",t.labels)}}function mt(r,_){if(r&1&&(a(0,"div",69)(1,"span",70),s(2),o(),a(3,"span",71),s(4),o()()),r&2){let t=g().$implicit;n(2),c(t.assignee.charAt(0).toUpperCase()),n(2),c(t.assignee)}}function _t(r,_){if(r&1&&(a(0,"div",72),s(1),d(2,"date"),o()),r&2){let t=g().$implicit;n(),k(" \u{1F4C5} ",E(2,1,t.dueDate,"shortDate")," ")}}function ut(r,_){if(r&1){let t=M();a(0,"div",50),f("dragstart",function(){let e=u(t).$implicit,l=g(3);return x(l.onDragStart(e))})("dragend",function(){u(t);let e=g(3);return x(e.onDragEnd())})("touchstart",function(e){let l=u(t).$implicit,h=g(3);return x(h.onTouchStart(e,l))})("touchmove",function(e){u(t);let l=g(3);return x(l.onTouchMove(e))})("touchend",function(e){u(t);let l=g(3);return x(l.onTouchEnd(e))})("touchcancel",function(){u(t);let e=g(3);return x(e.onTouchCancel())}),a(1,"div",51)(2,"div",52),s(3),o(),a(4,"div",53)(5,"button",54),d(6,"translate"),f("click",function(){let e=u(t).$implicit,l=g(3);return x(l.editTask(e))}),s(7,"\u270F\uFE0F"),o(),a(8,"button",54),d(9,"translate"),f("click",function(){let e=u(t).$implicit,l=g(3);return x(l.deleteTask(e))}),s(10,"\u{1F5D1}\uFE0F"),o()()(),a(11,"h4",55),s(12),o(),v(13,dt,2,1,"p",56),a(14,"div",57)(15,"span",58),s(16),o(),v(17,pt,2,1,"span",59),o(),a(18,"div",60),v(19,gt,2,1,"div",61)(20,mt,5,2,"div",62)(21,_t,3,4,"div",63),o()()}if(r&2){let t=_.$implicit,i=g(3);F("dragging",(i.draggedTask==null?null:i.draggedTask.id)===t.id)("touch-dragging",i.isTouchDragging&&(i.draggedTask==null?null:i.draggedTask.id)===t.id),O("draggable",!0),n(3),c(t.id.substring(0,8)),n(2),m("title",p(6,16,"common.edit")),n(3),m("title",p(9,18,"common.delete")),n(4),c(t.title),n(),m("ngIf",t.description),n(2),m("ngClass",i.getPriorityClass(t.priority)),n(),k(" ",i.getPriorityLabel(t.priority)," "),n(),m("ngIf",t.storyPoints),n(2),m("ngIf",t.labels&&t.labels.length>0),n(),m("ngIf",t.assignee),n(),m("ngIf",t.dueDate)}}function xt(r,_){r&1&&(a(0,"div",73),s(1),d(2,"translate"),o()),r&2&&(n(),k(" ",p(2,1,"tasks.noTask")," "))}function ht(r,_){if(r&1){let t=M();a(0,"div",44),f("dragover",function(e){u(t);let l=g(2);return x(l.onDragOver(e))})("drop",function(e){let l=u(t).$implicit,h=g(2);return x(h.onDrop(e,l.id))}),a(1,"div",45)(2,"h3"),s(3),d(4,"translate"),o(),a(5,"span",46),s(6),o()(),a(7,"div",47),v(8,ut,22,20,"div",48)(9,xt,3,3,"div",49),o()()}if(r&2){let t=_.$implicit,i=g(2);O("data-column-id",t.id),n(),S("border-left-color",t.color),n(2),c(p(4,7,t.labelKey)),n(3),c(i.getTasksForStatus(t.id).length),n(2),m("ngForOf",i.getTasksForStatus(t.id)),n(),m("ngIf",i.getTasksForStatus(t.id).length===0)}}function ft(r,_){if(r&1&&(a(0,"div",42),v(1,ht,10,9,"div",43),o()),r&2){let t=g();n(),m("ngForOf",t.statusColumns)}}function vt(r,_){if(r&1&&(a(0,"small"),s(1),o()),r&2){let t=g().$implicit;n(),c(t.description)}}function kt(r,_){if(r&1&&(a(0,"span",85)(1,"span",70),s(2),o(),s(3),o()),r&2){let t=g().$implicit;n(2),c(t.assignee.charAt(0).toUpperCase()),n(),k(" ",t.assignee," ")}}function bt(r,_){r&1&&(a(0,"span",86),s(1),d(2,"translate"),o()),r&2&&(n(),c(p(2,1,"tasks.noAssignee")))}function Ct(r,_){if(r&1&&(a(0,"span",68),s(1),o()),r&2){let t=_.$implicit;n(),c(t)}}function wt(r,_){r&1&&(a(0,"span"),s(1,"\u2014"),o())}function yt(r,_){if(r&1&&(a(0,"span"),s(1),d(2,"date"),o()),r&2){let t=g().$implicit;n(),c(E(2,1,t.dueDate,"shortDate"))}}function Tt(r,_){r&1&&(a(0,"span"),s(1,"\u2014"),o())}function Mt(r,_){if(r&1){let t=M();a(0,"tr",78)(1,"td",79),s(2),o(),a(3,"td",80)(4,"strong"),s(5),o(),v(6,vt,2,1,"small",77),o(),a(7,"td")(8,"span",81),s(9),o()(),a(10,"td")(11,"span",58),s(12),o()(),a(13,"td"),v(14,kt,4,2,"span",82)(15,bt,3,3,"span",83),o(),a(16,"td"),v(17,Ct,2,1,"span",67)(18,wt,2,0,"span",77),o(),a(19,"td"),v(20,yt,3,4,"span",77)(21,Tt,2,0,"span",77),o(),a(22,"td",84)(23,"button",54),d(24,"translate"),f("click",function(){let e=u(t).$implicit,l=g(2);return x(l.editTask(e))}),s(25,"\u270F\uFE0F"),o(),a(26,"button",54),d(27,"translate"),f("click",function(){let e=u(t).$implicit,l=g(2);return x(l.deleteTask(e))}),s(28,"\u{1F5D1}\uFE0F"),o()()()}if(r&2){let t=_.$implicit,i=g(2);n(2),c(t.id.substring(0,8)),n(3),c(t.title),n(),m("ngIf",t.description),n(2),S("background-color",i.getStatusColor(t.status)),n(),k(" ",i.getStatusLabel(t.status)," "),n(2),m("ngClass",i.getPriorityClass(t.priority)),n(),k(" ",i.getPriorityLabel(t.priority)," "),n(2),m("ngIf",t.assignee),n(),m("ngIf",!t.assignee),n(2),m("ngForOf",t.labels),n(),m("ngIf",!t.labels||t.labels.length===0),n(2),m("ngIf",t.dueDate),n(),m("ngIf",!t.dueDate),n(2),m("title",p(24,16,"common.edit")),n(3),m("title",p(27,18,"common.delete"))}}function Pt(r,_){r&1&&(a(0,"tr")(1,"td",87),s(2),d(3,"translate"),o()()),r&2&&(n(2),c(p(3,1,"tasks.noTaskFound")))}function Ot(r,_){if(r&1&&(a(0,"div",74)(1,"table",75)(2,"thead")(3,"tr")(4,"th"),s(5),d(6,"translate"),o(),a(7,"th"),s(8),d(9,"translate"),o(),a(10,"th"),s(11),d(12,"translate"),o(),a(13,"th"),s(14),d(15,"translate"),o(),a(16,"th"),s(17),d(18,"translate"),o(),a(19,"th"),s(20),d(21,"translate"),o(),a(22,"th"),s(23),d(24,"translate"),o(),a(25,"th"),s(26),d(27,"translate"),o()()(),a(28,"tbody"),v(29,Mt,29,20,"tr",76)(30,Pt,4,3,"tr",77),o()()()),r&2){let t=g();n(5),c(p(6,10,"tasks.id")),n(3),c(p(9,12,"common.title")),n(3),c(p(12,14,"tasks.status")),n(3),c(p(15,16,"tasks.priority")),n(3),c(p(18,18,"tasks.assignee")),n(3),c(p(21,20,"tasks.labels")),n(3),c(p(24,22,"tasks.dueDate")),n(3),c(p(27,24,"tasks.actions")),n(3),m("ngForOf",t.filteredTasks),n(),m("ngIf",t.filteredTasks.length===0)}}var Lt=(()=>{class r{constructor(t,i,e){this.taskService=t,this.router=i,this.i18n=e,this.viewMode="kanban",this.tasks=[],this.filteredTasks=[],this.showAddForm=!1,this.editingTask=null,this.newTask={title:"",description:"",priority:"medium",status:"todo"},this.filter="all",this.priorityFilter="all",this.searchQuery="",this.statusColumns=[{id:"todo",labelKey:"tasks.todo",color:"#6b7280"},{id:"in-progress",labelKey:"tasks.inProgress",color:"#3b82f6"},{id:"in-review",labelKey:"tasks.inReview",color:"#f59e0b"},{id:"done",labelKey:"tasks.done",color:"#10b981"}],this.priorityOptions=[{value:"lowest",labelKey:"tasks.lowest",icon:"\u2B07\uFE0F"},{value:"low",labelKey:"tasks.low",icon:"\u{1F53D}"},{value:"medium",labelKey:"tasks.medium",icon:"\u27A1\uFE0F"},{value:"high",labelKey:"tasks.high",icon:"\u{1F53C}"},{value:"highest",labelKey:"tasks.highest",icon:"\u2B06\uFE0F"}],this.draggedTask=null,this.longPressDelay=450,this.longPressTimer=null,this.isTouchDragging=!1,this.lastTouchClientX=0,this.lastTouchClientY=0,this.touchStartTask=null,this.touchDragJustEnded=!1}ngOnInit(){this.loadTasks()}ngOnDestroy(){this.tasksSubscription&&this.tasksSubscription.unsubscribe()}loadTasks(){this.tasksSubscription=this.taskService.getTasksObservable().subscribe({next:t=>{this.tasks=t.map(i=>D(I({},i),{id:i.id.toString(),status:i.status||(i.completed?"done":"todo"),priority:i.priority||"medium",dueDate:i.dueDate?new Date(i.dueDate):void 0,reminder:i.reminder?new Date(i.reminder):void 0,createdAt:new Date(i.createdAt),updatedAt:i.updatedAt?new Date(i.updatedAt):new Date(i.createdAt)})),this.applyFilters()},error:t=>{console.error("Error loading tasks:",t),this.tasks=[],this.applyFilters()}})}applyFilters(){let t=[...this.tasks];if(this.filter!=="all"&&(t=t.filter(i=>i.status===this.filter)),this.priorityFilter!=="all"&&(t=t.filter(i=>i.priority===this.priorityFilter)),this.searchQuery.trim()){let i=this.searchQuery.toLowerCase();t=t.filter(e=>e.title.toLowerCase().includes(i)||e.description?.toLowerCase().includes(i)||e.assignee?.toLowerCase().includes(i)||e.labels?.some(l=>l.toLowerCase().includes(i)))}this.filteredTasks=t}getTasksForStatus(t){return this.filteredTasks.filter(i=>i.status===t)}toggleAddForm(){this.showAddForm=!this.showAddForm,this.showAddForm||(this.editingTask=null,this.resetForm())}closeTaskModal(){this.showAddForm=!1,this.editingTask=null,this.resetForm()}resetForm(){this.newTask={title:"",description:"",priority:"medium",status:"todo"}}saveTask(){if(!this.newTask.title?.trim())return;let t=this.newTask.labels?this.newTask.labels.split(",").map(e=>e.trim()).filter(e=>e):[],i={title:this.newTask.title,description:this.newTask.description,priority:this.newTask.priority||"medium",status:this.newTask.status||"todo",assignee:this.newTask.assignee,labels:t,storyPoints:this.newTask.storyPoints,dueDate:this.newTask.dueDate?new Date(this.newTask.dueDate):void 0,completed:this.newTask.status==="done"};this.editingTask?this.taskService.updateTask(this.editingTask.id,i).subscribe({next:()=>{this.editingTask=null,this.showAddForm=!1,this.resetForm()}}):this.taskService.addTask(i).subscribe({next:()=>{this.showAddForm=!1,this.resetForm()}})}editTask(t){this.touchDragJustEnded||(this.editingTask=t,this.newTask={title:t.title,description:t.description,priority:t.priority,status:t.status,assignee:t.assignee,labels:t.labels?.join(", "),storyPoints:t.storyPoints,dueDate:t.dueDate?new Date(t.dueDate).toISOString().split("T")[0]:void 0},this.showAddForm=!0)}deleteTask(t){this.touchDragJustEnded||confirm("Supprimer cette t\xE2che ?")&&this.taskService.deleteTask(t.id).subscribe({next:()=>{}})}onDragStart(t){this.draggedTask=t}onDragOver(t){t.preventDefault()}onDrop(t,i){t.preventDefault(),!(!this.draggedTask||!this.isValidStatus(i))&&(this.moveTaskToStatus(this.draggedTask,i),this.draggedTask=null)}moveTaskToStatus(t,i){if(!this.isValidStatus(i)||t.status===i)return;let e=t.id,l=t.status,h=this.tasks.find(y=>y.id===e);h&&(h.status=i,h.completed=i==="done",this.applyFilters()),this.taskService.updateTaskStatus(e,i).subscribe({error:()=>{let y=this.tasks.find(T=>T.id===e);y&&(y.status=l,y.completed=l==="done",this.applyFilters())}})}isValidStatus(t){return["todo","in-progress","in-review","done"].includes(t)}onDragEnd(){this.draggedTask=null}onTouchStart(t,i){t.touches.length===1&&(this.touchStartTask=i,this.lastTouchClientX=t.touches[0].clientX,this.lastTouchClientY=t.touches[0].clientY,this.clearLongPressTimer(),this.longPressTimer=setTimeout(()=>{this.startTouchDrag(i),this.longPressTimer=null},this.longPressDelay))}onTouchMove(t){if(t.touches.length!==1)return;if(this.isTouchDragging){t.preventDefault(),this.lastTouchClientX=t.touches[0].clientX,this.lastTouchClientY=t.touches[0].clientY;return}let i=t.touches[0].clientX-this.lastTouchClientX,e=t.touches[0].clientY-this.lastTouchClientY;(Math.abs(i)>12||Math.abs(e)>12)&&(this.clearLongPressTimer(),this.touchStartTask=null)}onTouchEnd(t){if(this.clearLongPressTimer(),!this.isTouchDragging||!this.draggedTask){this.touchStartTask=null,this.isTouchDragging=!1,this.draggedTask=null;return}let i=t.changedTouches?.[0],e=i?.clientX??this.lastTouchClientX,l=i?.clientY??this.lastTouchClientY,T=document.elementFromPoint(e,l)?.closest(".kanban-column")?.getAttribute("data-column-id");T&&this.isValidStatus(T)&&this.moveTaskToStatus(this.draggedTask,T),this.isTouchDragging=!1,this.draggedTask=null,this.touchStartTask=null,this.touchDragJustEnded=!0,setTimeout(()=>{this.touchDragJustEnded=!1},300)}onTouchCancel(){this.clearLongPressTimer(),this.isTouchDragging=!1,this.draggedTask=null,this.touchStartTask=null}clearLongPressTimer(){this.longPressTimer&&(clearTimeout(this.longPressTimer),this.longPressTimer=null)}startTouchDrag(t){this.draggedTask=t,this.isTouchDragging=!0,this.touchStartTask=null}getPriorityClass(t){return`priority-${t}`}getPriorityLabel(t){let i=this.priorityOptions.find(e=>e.value===t);return i?`${i.icon} ${this.i18n.instant(i.labelKey)}`:t}navigateToCalendar(){this.router.navigate(["/calendar"])}getStatusColor(t){return this.statusColumns.find(e=>e.id===t)?.color||"#6b7280"}getStatusLabel(t){let i=this.statusColumns.find(e=>e.id===t);return i?this.i18n.instant(i.labelKey):t}get modalTitleKey(){return this.editingTask?"tasks.editTask":"tasks.createNewTask"}static{this.\u0275fac=function(i){return new(i||r)(P(ot),P(j),P(X))}}static{this.\u0275cmp=B({type:r,selectors:[["app-tasks"]],standalone:!0,features:[z],decls:59,vars:56,consts:[[1,"tasks-page"],[1,"header"],[1,"actions"],[1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"filters-bar"],[1,"search-box"],["type","text",3,"ngModelChange","input","ngModel","placeholder"],[1,"filter-controls"],[3,"ngModelChange","change","ngModel"],["value","all"],["value","todo"],["value","in-progress"],["value","in-review"],["value","done"],["value","highest"],["value","high"],["value","medium"],["value","low"],["value","lowest"],["size","lg",3,"title","closeModal",4,"ngIf"],["class","kanban-board",4,"ngIf"],["class","list-view",4,"ngIf"],["size","lg",3,"closeModal","title"],[3,"ngSubmit"],[1,"form-group"],["for","task-title"],["id","task-title","type","text","name","title","required","",3,"ngModelChange","ngModel","placeholder"],["for","task-desc"],["id","task-desc","name","description","rows","4",3,"ngModelChange","ngModel","placeholder"],[1,"form-row"],["name","status",3,"ngModelChange","ngModel"],["name","priority",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","assignee",3,"ngModelChange","ngModel","placeholder"],["type","number","name","storyPoints","min","0","max","100",3,"ngModelChange","ngModel"],["type","text","name","labels",3,"ngModelChange","ngModel","placeholder"],["type","date","name","dueDate",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"kanban-board"],["class","kanban-column",3,"dragover","drop",4,"ngFor","ngForOf"],[1,"kanban-column",3,"dragover","drop"],[1,"column-header"],[1,"task-count"],[1,"column-content"],["class","task-card",3,"dragging","touch-dragging","dragstart","dragend","touchstart","touchmove","touchend","touchcancel",4,"ngFor","ngForOf"],["class","empty-column",4,"ngIf"],[1,"task-card",3,"dragstart","dragend","touchstart","touchmove","touchend","touchcancel"],[1,"task-card-header"],[1,"task-id"],[1,"task-actions"],[1,"icon-btn",3,"click","title"],[1,"task-title"],["class","task-description",4,"ngIf"],[1,"task-meta"],[1,"priority-badge",3,"ngClass"],["class","story-points",4,"ngIf"],[1,"task-footer"],["class","task-labels",4,"ngIf"],["class","task-assignee",4,"ngIf"],["class","due-date",4,"ngIf"],[1,"task-description"],[1,"story-points"],[1,"task-labels"],["class","label",4,"ngFor","ngForOf"],[1,"label"],[1,"task-assignee"],[1,"assignee-avatar"],[1,"assignee-name"],[1,"due-date"],[1,"empty-column"],[1,"list-view"],[1,"tasks-table"],["class","table-row",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"table-row"],[1,"task-id-cell"],[1,"task-title-cell"],[1,"status-badge"],["class","assignee",4,"ngIf"],["class","no-assignee",4,"ngIf"],[1,"actions-cell"],[1,"assignee"],[1,"no-assignee"],["colspan","8",1,"empty-state"]],template:function(i,e){i&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),s(3),d(4,"translate"),o(),a(5,"div",2)(6,"button",3),f("click",function(){return e.viewMode=e.viewMode==="kanban"?"list":"kanban"}),s(7),d(8,"translate"),d(9,"translate"),o(),a(10,"button",4),f("click",function(){return e.toggleAddForm()}),s(11),d(12,"translate"),o(),a(13,"button",3),f("click",function(){return e.navigateToCalendar()}),s(14),d(15,"translate"),o()()(),a(16,"div",5)(17,"div",6)(18,"input",7),d(19,"translate"),w("ngModelChange",function(h){return C(e.searchQuery,h)||(e.searchQuery=h),h}),f("input",function(){return e.applyFilters()}),o()(),a(20,"div",8)(21,"select",9),w("ngModelChange",function(h){return C(e.filter,h)||(e.filter=h),h}),f("change",function(){return e.applyFilters()}),a(22,"option",10),s(23),d(24,"translate"),o(),a(25,"option",11),s(26),d(27,"translate"),o(),a(28,"option",12),s(29),d(30,"translate"),o(),a(31,"option",13),s(32),d(33,"translate"),o(),a(34,"option",14),s(35),d(36,"translate"),o()(),a(37,"select",9),w("ngModelChange",function(h){return C(e.priorityFilter,h)||(e.priorityFilter=h),h}),f("change",function(){return e.applyFilters()}),a(38,"option",10),s(39),d(40,"translate"),o(),a(41,"option",15),s(42),d(43,"translate"),o(),a(44,"option",16),s(45),d(46,"translate"),o(),a(47,"option",17),s(48),d(49,"translate"),o(),a(50,"option",18),s(51),d(52,"translate"),o(),a(53,"option",19),s(54),d(55,"translate"),o()()()(),v(56,lt,69,66,"app-modal",20)(57,ft,2,1,"div",21)(58,Ot,31,26,"div",22),o()),i&2&&(n(3),c(p(4,22,"tasks.title")),n(4),k(" ",e.viewMode==="kanban"?"\u{1F4CB} "+p(8,24,"tasks.listView"):"\u{1F4CA} "+p(9,26,"tasks.kanbanView")," "),n(4),k(" + ",p(12,28,"tasks.createTask")," "),n(3),k("\u{1F4C5} ",p(15,30,"nav.calendar"),""),n(4),b("ngModel",e.searchQuery),m("placeholder",p(19,32,"tasks.searchPlaceholder")),n(3),b("ngModel",e.filter),n(2),c(p(24,34,"tasks.allStatuses")),n(3),c(p(27,36,"tasks.todo")),n(3),c(p(30,38,"tasks.inProgress")),n(3),c(p(33,40,"tasks.inReview")),n(3),c(p(36,42,"tasks.done")),n(2),b("ngModel",e.priorityFilter),n(2),c(p(40,44,"tasks.allPriorities")),n(3),c(p(43,46,"tasks.highest")),n(3),c(p(46,48,"tasks.high")),n(3),c(p(49,50,"tasks.medium")),n(3),c(p(52,52,"tasks.low")),n(3),c(p(55,54,"tasks.lowest")),n(2),m("ngIf",e.showAddForm),n(),m("ngIf",e.viewMode==="kanban"),n(),m("ngIf",e.viewMode==="list"))},dependencies:[N,W,A,L,K,it,U,H,Z,Y,$,G,Q,J,nt,et,tt,q,R,rt,at],styles:[".tasks-page[_ngcontent-%COMP%]{padding:48px 96px 96px;width:100%;margin:0;background:var(--notion-bg-secondary);min-height:calc(100vh - 45px);overflow-x:hidden;box-sizing:border-box}@media (max-width: 1200px){.tasks-page[_ngcontent-%COMP%]{padding:48px}}@media (max-width: 1024px){.tasks-page[_ngcontent-%COMP%]{padding:32px}}@media (max-width: 768px){.tasks-page[_ngcontent-%COMP%]{padding:24px 16px!important;overflow-x:hidden}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;word-break:break-word}.actions[_ngcontent-%COMP%]{width:100%;flex-wrap:wrap}.actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-width:120px}.filters-bar[_ngcontent-%COMP%]{flex-direction:column;gap:8px;padding:12px}.search-box[_ngcontent-%COMP%]{min-width:100%!important;width:100%}.filter-controls[_ngcontent-%COMP%]{width:100%;flex-direction:column}.filter-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.kanban-board[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:12px}.kanban-column[_ngcontent-%COMP%]{min-height:300px}.list-view[_ngcontent-%COMP%]{margin:0 -16px;padding:0 16px;width:calc(100% + 32px)}.tasks-table[_ngcontent-%COMP%]{min-width:700px}.task-title-cell[_ngcontent-%COMP%]{max-width:200px;min-width:150px}}@media (max-width: 480px){.tasks-page[_ngcontent-%COMP%]{padding:16px 12px!important}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.add-form[_ngcontent-%COMP%]{padding:16px}.kanban-column[_ngcontent-%COMP%]{min-height:250px}.task-card[_ngcontent-%COMP%]{padding:10px}.tasks-table[_ngcontent-%COMP%]{min-width:600px;font-size:12px}.tasks-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .tasks-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 10px}}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:12px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:40px;font-weight:700;color:var(--notion-text-primary);letter-spacing:-.03em}.actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.filters-bar[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:24px;padding:16px;background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:var(--notion-radius);flex-wrap:wrap;align-items:center}.search-box[_ngcontent-%COMP%]{flex:1;min-width:150px}@media (max-width: 768px){.search-box[_ngcontent-%COMP%]{min-width:100%!important;width:100%}}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:1px solid var(--notion-border);border-radius:var(--notion-radius);font-size:14px;font-family:inherit}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue);box-shadow:0 0 0 1px var(--notion-blue)}.filter-controls[_ngcontent-%COMP%]{display:flex;gap:8px}.filter-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px 8px;border:1px solid var(--notion-border);border-radius:var(--notion-radius);background:var(--notion-bg);font-size:14px;cursor:pointer;font-family:inherit}.filter-controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue);box-shadow:0 0 0 1px var(--notion-blue)}.add-form[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);padding:24px;border-radius:var(--notion-radius);margin-bottom:24px}.add-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:var(--notion-text-primary)}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-weight:500;color:var(--notion-text-secondary);font-size:12px;text-transform:uppercase;letter-spacing:.5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:1px solid var(--notion-border);border-radius:var(--notion-radius);font-size:14px;transition:border-color 20ms ease-in 0s;font-family:inherit}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue);box-shadow:0 0 0 1px var(--notion-blue)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.form-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:16px}.kanban-board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-top:24px;width:100%}@media (max-width: 1200px){.kanban-board[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:12px}}@media (max-width: 768px){.kanban-board[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.kanban-column[_ngcontent-%COMP%]{background:var(--notion-bg-tertiary);border:1px solid var(--notion-border);border-radius:var(--notion-radius);min-height:400px;display:flex;flex-direction:column}.column-header[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid var(--notion-border);display:flex;justify-content:space-between;align-items:center;background:var(--notion-bg);border-top-left-radius:var(--notion-radius);border-top-right-radius:var(--notion-radius);border-left:3px solid}.column-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:600;color:var(--notion-text-primary)}.task-count[_ngcontent-%COMP%]{background:var(--notion-bg-tertiary);padding:2px 8px;border-radius:var(--notion-radius);font-size:12px;font-weight:500;color:var(--notion-text-secondary)}.column-content[_ngcontent-%COMP%]{flex:1;padding:8px;overflow-y:auto;min-height:300px}.task-card[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:var(--notion-radius);padding:12px;margin-bottom:8px;cursor:move;transition:all 20ms ease-in 0s;box-shadow:var(--notion-shadow-sm)}.task-card[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);border-color:var(--notion-border-hover);box-shadow:var(--notion-shadow)}.task-card.dragging[_ngcontent-%COMP%]{opacity:.5}.task-card.touch-dragging[_ngcontent-%COMP%]{opacity:.85;touch-action:none;user-select:none;-webkit-user-select:none;box-shadow:var(--notion-shadow-lg);z-index:10}.task-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.task-id[_ngcontent-%COMP%]{font-size:11px;font-weight:500;color:var(--notion-text-tertiary);font-family:Courier New,monospace}.task-actions[_ngcontent-%COMP%]{display:flex;gap:4px}.icon-btn[_ngcontent-%COMP%]{width:20px;height:20px;border:none;background:transparent;cursor:pointer;border-radius:var(--notion-radius);display:flex;align-items:center;justify-content:center;font-size:12px;padding:0;transition:background 20ms ease-in 0s}.icon-btn[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.task-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;font-weight:500;color:var(--notion-text-primary);line-height:1.4}.task-description[_ngcontent-%COMP%]{margin:0 0 8px;font-size:12px;color:var(--notion-text-secondary);line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.task-meta[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:8px;flex-wrap:wrap}.priority-badge[_ngcontent-%COMP%]{padding:2px 6px;border-radius:var(--notion-radius);font-size:11px;font-weight:500;white-space:nowrap}.priority-lowest[_ngcontent-%COMP%]{background:var(--notion-gray-bg);color:var(--notion-text-secondary)}.priority-low[_ngcontent-%COMP%]{background:var(--notion-blue-bg);color:var(--notion-blue)}.priority-medium[_ngcontent-%COMP%]{background:var(--notion-yellow-bg);color:#b45309}.priority-high[_ngcontent-%COMP%]{background:var(--notion-orange-bg);color:var(--notion-orange)}.priority-highest[_ngcontent-%COMP%]{background:var(--notion-red-bg);color:var(--notion-red)}.story-points[_ngcontent-%COMP%]{font-size:11px;color:var(--notion-text-tertiary);font-weight:500}.task-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-top:8px;padding-top:8px;border-top:1px solid var(--notion-border)}.task-labels[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:wrap}.label[_ngcontent-%COMP%]{padding:2px 6px;background:var(--notion-blue-bg);color:var(--notion-blue);border-radius:var(--notion-radius);font-size:10px;font-weight:500}.task-assignee[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--notion-text-secondary)}.assignee-avatar[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:3px;background:var(--notion-text-primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;flex-shrink:0}.assignee-name[_ngcontent-%COMP%]{font-size:12px;color:var(--notion-text-secondary)}.due-date[_ngcontent-%COMP%]{font-size:11px;color:var(--notion-text-tertiary)}.empty-column[_ngcontent-%COMP%]{text-align:center;padding:24px;color:var(--notion-text-tertiary);font-size:12px;font-style:italic}.list-view[_ngcontent-%COMP%]{margin-top:24px;overflow-x:auto;-webkit-overflow-scrolling:touch;width:100%}.tasks-table[_ngcontent-%COMP%]{width:100%;background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:var(--notion-radius);border-collapse:separate;border-spacing:0;overflow:hidden}.tasks-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:var(--notion-bg-tertiary)}.tasks-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;font-size:12px;font-weight:600;color:var(--notion-text-secondary);text-transform:uppercase;letter-spacing:.5px;border-bottom:1px solid var(--notion-border)}.tasks-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid var(--notion-border);font-size:14px}.tasks-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.table-row[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.task-id-cell[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:11px;color:var(--notion-text-tertiary)}.task-title-cell[_ngcontent-%COMP%]{max-width:300px}.task-title-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:var(--notion-text-primary);margin-bottom:4px}.task-title-cell[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:var(--notion-text-secondary);font-size:12px;line-height:1.4}.status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:var(--notion-radius);font-size:11px;font-weight:500;color:#fff;white-space:nowrap}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:4px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px;color:var(--notion-text-tertiary);font-size:14px}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]{padding:32px 16px!important}}@media (max-width: 480px){.empty-state[_ngcontent-%COMP%]{padding:24px 12px!important}}.btn[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid var(--notion-border);border-radius:var(--notion-radius);cursor:pointer;font-size:14px;font-weight:400;transition:background 20ms ease-in 0s;background:transparent;color:var(--notion-text-primary);font-family:inherit}.btn[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.btn-primary[_ngcontent-%COMP%]{background:var(--notion-text-primary);color:#fff;border-color:var(--notion-text-primary)}.btn-primary[_ngcontent-%COMP%]:hover{background:#2e2e2c}.btn-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--notion-text-primary)}.dark-theme[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#ffffff14!important;border-color:#fff3!important;color:var(--notion-text-primary)!important}.dark-theme[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#ffffff26!important;border-color:#ffffff4d!important;color:var(--notion-text-primary)!important}.no-assignee[_ngcontent-%COMP%]{color:var(--notion-text-tertiary);font-style:italic}"]})}}return r})();export{Lt as TasksComponent};
