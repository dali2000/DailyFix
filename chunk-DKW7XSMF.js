import{$ as m,Ea as _,Ia as F,Ja as A,K as n,L as d,O as o,Q as l,T as C,U as g,V as x,X as u,Y as p,fa as s,ga as r,qa as I,sa as v,ua as V,w as c,xa as y,z as h}from"./chunk-JODBZJDH.js";function O(e,M){if(e&1&&(u(0),s(1),p()),e&2){let t=m();n(),r(t.prefix)}}function T(e,M){if(e&1&&(u(0),s(1),p()),e&2){let t=m();n(),r(t.suffix)}}var U=(()=>{class e{constructor(t){this.cdr=t,this.value=0,this.duration=800,this.prefix="",this.suffix="",this.className="",this.format="1.0-0",this.displayValue=0,this.startValue=0,this.targetValue=0,this.startTime=0,this.rafId=null}ngOnInit(){this.targetValue=this.value,this.startAnimation()}ngOnChanges(t){t.value&&!t.value.firstChange&&(this.startValue=this.displayValue,this.targetValue=this.value,this.startAnimation())}ngOnDestroy(){this.rafId!=null&&cancelAnimationFrame(this.rafId)}startAnimation(){this.rafId!=null&&cancelAnimationFrame(this.rafId),this.startValue=this.displayValue,this.startTime=performance.now();let t=a=>{let i=a-this.startTime,f=Math.min(i/this.duration,1),N=this.easeOutQuart(f);this.displayValue=this.startValue+(this.targetValue-this.startValue)*N,this.cdr.markForCheck(),f<1?this.rafId=requestAnimationFrame(t):(this.displayValue=this.targetValue,this.cdr.markForCheck(),this.rafId=null)};this.rafId=requestAnimationFrame(t)}easeOutQuart(t){return 1-Math.pow(1-t,4)}static{this.\u0275fac=function(a){return new(a||e)(d(y))}}static{this.\u0275cmp=c({type:e,selectors:[["app-count-up"]],inputs:{value:"value",duration:"duration",prefix:"prefix",suffix:"suffix",className:"className",format:"format"},standalone:!0,features:[h,I],decls:5,vars:8,consts:[[4,"ngIf"]],template:function(a,i){a&1&&(g(0,"span"),o(1,O,2,1,"ng-container",0),s(2),v(3,"number"),o(4,T,2,1,"ng-container",0),x()),a&2&&(C(i.className),n(),l("ngIf",i.prefix),n(),r(V(3,5,i.displayValue,i.format)),n(2),l("ngIf",i.suffix))},dependencies:[A,_,F],encapsulation:2})}}return e})();export{U as a};
