import{a as he}from"./chunk-2K7JVC4Z.js";import{a as ue}from"./chunk-K3JNN5C6.js";import{a as xe,b as fe}from"./chunk-W7FJTF7K.js";import{a as ve}from"./chunk-SRJQTDRU.js";import{a as _e}from"./chunk-Q7ULZQXC.js";import{a as ee,c as te,d as ne,e as ie,f as ae,g as oe,h as re,l as se,m as ce,n as pe,p as le,q as de,t as ge}from"./chunk-AV73GBKR.js";import{$ as d,A as _,B as x,Da as Y,Ea as R,Ha as U,Ia as H,Ja as X,K as n,Ka as Z,L as I,O as h,P as w,Q as m,R as j,S as F,Sa as J,U as a,V as i,W as B,Z as y,_ as f,_a as K,ab as Q,bb as $,ca as G,cb as me,ea as b,fa as s,ga as g,ha as M,ia as E,ja as L,ka as N,ma as S,na as P,oa as O,qa as q,sa as c,ta as l,ua as k,w as W}from"./chunk-YCOLXJFA.js";import{a as A,b as V}from"./chunk-POLL2CVR.js";function be(r,u){r&1&&(a(0,"p",91),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"finance.statsForThisCard")))}function Ce(r,u){if(r&1&&(a(0,"span",95),s(1),i()),r&2){let e=d().$implicit;n(),g(e.currency)}}function ye(r,u){if(r&1){let e=y();a(0,"button",92),f("click",function(){let t=_(e).$implicit,p=d(3);return x(p.selectCard(t))}),a(1,"span",93),s(2),c(3,"slice"),i(),h(4,Ce,2,1,"span",94),i()}if(r&2){let e=u.$implicit,o=d(3);F("active",(o.selectedCard==null?null:o.selectedCard.id)===e.id),w("aria-selected",(o.selectedCard==null?null:o.selectedCard.id)===e.id),n(2),E("",e.name||e.holderName," \u2022\u2022\u2022\u2022 ",k(3,6,e.cardNumber,-4),""),n(2),m("ngIf",e.currency)}}function we(r,u){if(r&1&&(a(0,"div",87),h(1,be,3,3,"p",88),a(2,"div",89),c(3,"translate"),h(4,ye,5,9,"button",90),i()()),r&2){let e=d(2);n(),m("ngIf",e.selectedCard),n(),w("aria-label",l(3,3,"finance.selectCardToView")),n(2),m("ngForOf",e.walletCards)}}function Me(r,u){r&1&&(a(0,"p",96),s(1),c(2,"translate"),a(3,"a",97),s(4),c(5,"translate"),i(),s(6,"."),i()),r&2&&(n(),M("",l(2,2,"settings.noCards")," "),n(3),g(l(5,4,"settings.wallet")))}function Se(r,u){r&1&&(a(0,"p",98),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"finance.statsForThisCard")))}function Pe(r,u){if(r&1&&(a(0,"div",99)(1,"div",100)(2,"span",101),s(3),i(),a(4,"span",102),s(5),c(6,"number"),i(),a(7,"span",103),s(8),c(9,"number"),i()(),a(10,"div",104),B(11,"div",105),i()()),r&2){let e=u.$implicit,o=d(2);n(3),g(o.getCategoryName(e)),n(2),E("",k(6,7,o.getExpensesByCategory(e),"1.2-2")," ",o.currencySymbol,""),n(3),M("",k(9,10,o.getExpenseCategoryPercent(e),"1.0-0"),"%"),n(3),j("width",o.progressReady?o.getExpenseCategoryPercent(e):0,"%"),w("aria-valuenow",o.getExpenseCategoryPercent(e))}}function Oe(r,u){if(r&1&&(a(0,"li"),s(1),i()),r&2){let e=u.$implicit;n(),g(e)}}function Ee(r,u){if(r&1&&(a(0,"div",106)(1,"h3")(2,"span",107),s(3,"\u{1F4A1}"),i(),s(4),c(5,"translate"),i(),a(6,"ul"),h(7,Oe,2,1,"li",108),i()()),r&2){let e=d(2);n(4),M(" ",l(5,2,"finance.savingsSuggestions"),""),n(3),m("ngForOf",e.savingsSuggestions)}}function Be(r,u){if(r&1){let e=y();a(0,"div",42)(1,"p",43),s(2),c(3,"translate"),i(),h(4,we,5,5,"div",44),a(5,"div",45),B(6,"div",46),a(7,"div",47)(8,"div",48),s(9,"DailyFix"),i(),a(10,"div",49),s(11),i()(),a(12,"div",50),s(13),i(),a(14,"div",51)(15,"div",52)(16,"div",53),s(17),c(18,"translate"),i(),a(19,"div",54),s(20),i()(),a(21,"div",55)(22,"div",53),s(23),c(24,"translate"),i(),a(25,"div",56),s(26),i()()(),a(27,"div",57)(28,"div",53),s(29,"RIB"),i(),a(30,"div",58),s(31),i()(),a(32,"div",59)(33,"div",60),s(34),c(35,"translate"),i(),a(36,"div",61),B(37,"app-count-up",62),i()()(),h(38,Me,7,6,"p",63)(39,Se,3,3,"p",64),a(40,"div",65)(41,"div",66)(42,"div",67),s(43,"\u{1F4B5}"),i(),a(44,"div",68)(45,"h3"),s(46),c(47,"translate"),i(),a(48,"p",69),B(49,"app-count-up",62),i()()(),a(50,"div",70)(51,"div",67),s(52,"\u{1F4B8}"),i(),a(53,"div",68)(54,"h3"),s(55),c(56,"translate"),i(),a(57,"p",71),B(58,"app-count-up",62),i()()(),a(59,"div",72)(60,"div",67),s(61),i(),a(62,"div",68)(63,"h3"),s(64),c(65,"translate"),i(),a(66,"p",73),B(67,"app-count-up",62),i()()()(),a(68,"div",74)(69,"div",75)(70,"button",76),c(71,"translate"),f("click",function(){_(e);let t=d();return x(t.expensesByCategoryExpanded=!t.expensesByCategoryExpanded)}),a(72,"span",77)(73,"span",78),s(74,"\u{1F4CA}"),i(),s(75),c(76,"translate"),i(),a(77,"span",79),s(78),i()(),a(79,"div",80),f("click",function(t){return _(e),x(t.stopPropagation())}),a(80,"button",81),c(81,"translate"),c(82,"translate"),f("click",function(){_(e);let t=d();return x(t.goToPrevMonth())}),s(83,"\u2039"),i(),a(84,"button",82),c(85,"translate"),c(86,"translate"),f("click",function(){_(e);let t=d();return x(t.goToNextMonth())}),s(87,"\u203A"),i(),a(88,"button",83),f("click",function(){_(e);let t=d();return x(t.goToCurrentMonth())}),s(89),c(90,"translate"),i()()(),a(91,"div",84),h(92,Pe,12,13,"div",85),i()(),h(93,Ee,8,4,"div",86),i()}if(r&2){let e=d();n(2),E("",l(3,57,"finance.forMonth")," ",e.selectedMonthLabel,""),n(2),m("ngIf",e.walletCards.length>=1),n(),F("negative-balance",e.remainingBalance<0),n(6),E("",e.currencySymbol," ",e.displayCardCurrency,""),n(2),g(e.displayCardNumber),n(4),g(l(18,59,"finance.holder")),n(3),g(e.displayCardHolder),n(3),g(l(24,61,"finance.expires")),n(3),g(e.displayExpiry),n(5),g(e.displayRib),n(3),g(l(35,63,"finance.availableBalance")),n(2),F("negative",e.remainingBalance<0),n(),m("value",e.remainingBalance)("suffix"," "+e.currencySymbol)("duration",800),n(),m("ngIf",e.walletCards.length===0),n(),m("ngIf",e.selectedCard),n(7),g(l(47,65,"finance.income")),n(3),m("value",e.monthlySalary)("suffix"," "+e.currencySymbol)("duration",600),n(6),g(l(56,67,"finance.expenses")),n(3),m("value",e.monthlyExpenses)("suffix"," "+e.currencySymbol)("duration",600),n(),F("negative",e.remainingBalance<0),n(2),g(e.remainingBalance>=0?"\u2705":"\u26A0\uFE0F"),n(3),g(l(65,69,"finance.remaining")),n(2),F("positive",e.remainingBalance>=0)("negative",e.remainingBalance<0),n(),m("value",e.remainingBalance)("suffix"," "+e.currencySymbol)("duration",600),n(3),w("aria-expanded",e.expensesByCategoryExpanded)("aria-controls","category-content")("aria-label",l(71,71,"finance.expensesByCategory")),n(5),E(" ",l(76,73,"finance.expensesByCategory")," \u2014 ",e.selectedMonthLabel,""),n(3),g(e.expensesByCategoryExpanded?"\u25BC":"\u25B6"),n(2),G("title",l(81,75,"common.previous")),w("aria-label",l(82,77,"common.previous")),n(4),G("title",l(85,79,"common.next")),m("disabled",!e.canGoToNextMonth),w("aria-label",l(86,81,"common.next")),n(5),g(l(90,83,"finance.thisMonth")),n(2),F("is-open",e.expensesByCategoryExpanded),w("aria-hidden",!e.expensesByCategoryExpanded),n(),m("ngForOf",e.expenseCategoriesForOverviewNonZero),n(),m("ngIf",e.savingsSuggestions.length>0)}}function ke(r,u){if(r&1){let e=y();a(0,"div",114),B(1,"div",115),a(2,"div",116)(3,"div",117)(4,"span",118),s(5,"\u{1F4B5}"),i(),a(6,"div",119)(7,"h4"),s(8),c(9,"translate"),i(),a(10,"span",120),s(11),c(12,"translate"),c(13,"translate"),i()(),a(14,"span",121),s(15),c(16,"number"),i(),a(17,"button",122),c(18,"translate"),f("click",function(){let t=_(e).$implicit,p=d(2);return x(p.deleteSalary(t.id))}),s(19,"\xD7"),i()(),a(20,"small",123),s(21),c(22,"date"),i()()()}if(r&2){let e=u.$implicit,o=d(2);n(8),g(e.description||l(9,6,"finance.salaryLabel")),n(3),g(e.period==="monthly"?l(12,8,"common.monthly"):l(13,10,"common.yearly")),n(4),E("",k(16,12,e.amount,"1.2-2")," ",o.currencySymbol,""),n(2),w("aria-label",l(18,15,"common.delete")),n(4),g(k(22,17,e.date,"short"))}}function Fe(r,u){if(r&1){let e=y();a(0,"app-empty-state",124),c(1,"translate"),c(2,"translate"),c(3,"translate"),f("action",function(){_(e);let t=d(2);return x(t.openSalaryForm())}),i()}r&2&&m("title",l(1,3,"finance.noSalary"))("message",l(2,5,"finance.noSalaryMessage"))("actionText","+ "+l(3,7,"finance.addSalary"))}function Te(r,u){if(r&1){let e=y();a(0,"div",42)(1,"p",43),s(2),c(3,"translate"),i(),a(4,"div",109)(5,"h2"),s(6),c(7,"translate"),i(),a(8,"button",110),f("click",function(){_(e);let t=d();return x(t.openSalaryForm())}),s(9),c(10,"translate"),i()(),a(11,"div",111),h(12,ke,23,20,"div",112)(13,Fe,4,9,"app-empty-state",113),i()()}if(r&2){let e=d();n(2),E("",l(3,6,"finance.forMonth")," ",e.selectedMonthLabel,""),n(4),g(l(7,8,"finance.salariesTitle")),n(3),M("+ ",l(10,10,"finance.addSalary"),""),n(3),m("ngForOf",e.salariesForMonth.slice().reverse()),n(),m("ngIf",e.salariesForMonth.length===0)}}function Ie(r,u){if(r&1){let e=y();a(0,"div",139),B(1,"div",115),a(2,"div",116)(3,"div",117)(4,"span",118),s(5),i(),a(6,"div",119)(7,"h4"),s(8),i(),a(9,"small",123),s(10),c(11,"date"),i()(),a(12,"span",140),s(13),c(14,"number"),i(),a(15,"button",122),c(16,"translate"),f("click",function(){let t=_(e).$implicit,p=d(5);return x(p.deleteExpense(t.id))}),s(17,"\xD7"),i()()()()}if(r&2){let e=u.$implicit,o=d(5);n(5),g(o.getCategoryIcon(e.category)),n(3),g(e.description),n(2),g(k(11,6,e.date,"short")),n(3),E("",k(14,9,e.amount,"1.2-2")," ",o.currencySymbol,""),n(2),w("aria-label",l(16,12,"common.delete"))}}function De(r,u){if(r&1&&(a(0,"div",137),h(1,Ie,18,14,"div",138),i()),r&2){let e=d().$implicit;n(),m("ngForOf",e.expenses)}}function Ae(r,u){if(r&1){let e=y();a(0,"div",129)(1,"button",130),f("click",function(){let t=_(e).$implicit,p=d(3);return x(p.toggleExpenseCategory(t.category))}),a(2,"span",131),s(3),i(),a(4,"span",132),s(5),i(),a(6,"span",133),s(7),i(),a(8,"span",134),s(9),c(10,"translate"),i(),a(11,"span",135),s(12),c(13,"number"),i()(),h(14,De,2,1,"div",136),i()}if(r&2){let e=u.$implicit,o=d(3);n(),w("aria-expanded",o.isExpenseCategoryExpanded(e.category)),n(2),g(o.isExpenseCategoryExpanded(e.category)?"\u25BC":"\u25B6"),n(2),g(o.getCategoryIcon(e.category)),n(2),g(e.categoryName),n(2),E("",e.expenses.length," ",l(10,9,"finance.expenses"),""),n(3),E("",k(13,11,e.total,"1.2-2")," ",o.currencySymbol,""),n(2),m("ngIf",o.isExpenseCategoryExpanded(e.category))}}function Ve(r,u){if(r&1&&(a(0,"div",127),h(1,Ae,15,14,"div",128),i()),r&2){let e=d(2);n(),m("ngForOf",e.getExpensesGroupedByCategory())}}function ze(r,u){if(r&1){let e=y();a(0,"app-empty-state",141),c(1,"translate"),c(2,"translate"),c(3,"translate"),f("action",function(){_(e);let t=d(2);return x(t.openExpenseForm())}),i()}r&2&&m("title",l(1,3,"finance.noExpense"))("message",l(2,5,"finance.noExpenseMessage"))("actionText","+ "+l(3,7,"finance.addExpense"))}function je(r,u){if(r&1){let e=y();a(0,"div",42)(1,"p",43),s(2),c(3,"translate"),i(),a(4,"div",109)(5,"h2"),s(6),c(7,"translate"),i(),a(8,"button",110),f("click",function(){_(e);let t=d();return x(t.openExpenseForm())}),s(9),c(10,"translate"),i()(),h(11,Ve,2,1,"div",125)(12,ze,4,9,"app-empty-state",126),i()}if(r&2){let e=d();n(2),E("",l(3,6,"finance.forMonth")," ",e.selectedMonthLabel,""),n(4),g(l(7,8,"finance.expenses")),n(3),M("+ ",l(10,10,"finance.addExpense"),""),n(2),m("ngIf",e.getExpensesGroupedByCategory().length>0),n(),m("ngIf",e.expensesForMonth.length===0)}}function Ge(r,u){if(r&1){let e=y();a(0,"div",145),B(1,"div",115),a(2,"div",116)(3,"div",117)(4,"span",118),s(5,"\u{1F4CB}"),i(),a(6,"div",119)(7,"h4"),s(8),c(9,"translate"),i(),a(10,"span",120),s(11),c(12,"translate"),c(13,"translate"),c(14,"translate"),i()(),a(15,"button",122),c(16,"translate"),f("click",function(){let t=_(e).$implicit,p=d(2);return x(p.deleteBudget(t.id))}),s(17,"\xD7"),i()(),a(18,"div",146)(19,"div",147),B(20,"div",148),i(),a(21,"div",149)(22,"span"),s(23),c(24,"number"),c(25,"number"),i(),a(26,"span",150),B(27,"app-count-up",151),i()()()()()}if(r&2){let e=u.$implicit,o=d(2);n(8),g(l(9,15,o.getCategoryName(e.category))),n(3),g(e.period==="monthly"?l(12,17,"common.monthly"):e.period==="weekly"?l(13,19,"common.weekly"):l(14,21,"common.yearly")),n(4),w("aria-label",l(16,23,"common.delete")),n(5),j("width",o.progressReady?o.getBudgetProgress(e):0,"%"),F("over-budget",o.getBudgetProgress(e)>100),n(3),N("",k(24,25,e.spent,"1.2-2")," ",o.currencySymbol," / ",k(25,28,e.limit,"1.2-2")," ",o.currencySymbol,""),n(3),F("over-budget",o.getBudgetProgress(e)>100),n(),m("value",o.getBudgetProgress(e))("duration",500)}}function Ne(r,u){if(r&1){let e=y();a(0,"app-empty-state",152),c(1,"translate"),c(2,"translate"),c(3,"translate"),f("action",function(){_(e);let t=d(2);return x(t.showBudgetForm=!0)}),i()}r&2&&m("title",l(1,3,"finance.noBudgetEmptyTitle"))("message",l(2,5,"finance.noBudgetEmptyMessage"))("actionText","+ "+l(3,7,"finance.newBudget"))}function We(r,u){if(r&1){let e=y();a(0,"div",42)(1,"div",109)(2,"h2"),s(3),c(4,"translate"),i(),a(5,"button",110),f("click",function(){_(e);let t=d();return x(t.showBudgetForm=!0)}),s(6),c(7,"translate"),i()(),a(8,"div",142),h(9,Ge,28,31,"div",143)(10,Ne,4,9,"app-empty-state",144),i()()}if(r&2){let e=d();n(3),g(l(4,4,"finance.budget")),n(3),M("+ ",l(7,6,"finance.newBudget"),""),n(3),m("ngForOf",e.budgets),n(),m("ngIf",e.budgets.length===0)}}function Le(r,u){if(r&1&&(a(0,"span",163),s(1),c(2,"date"),i()),r&2){let e=d().$implicit;n(),g(k(2,1,e.deadline,"shortDate"))}}function qe(r,u){if(r&1){let e=y();a(0,"div",156),B(1,"div",115),a(2,"div",116)(3,"div",117)(4,"span",118),s(5,"\u{1F3AF}"),i(),a(6,"div",119)(7,"h4"),s(8),i(),h(9,Le,3,4,"span",157),i(),a(10,"button",122),c(11,"translate"),f("click",function(){let t=_(e).$implicit,p=d(2);return x(p.deleteSavingsGoal(t.id))}),s(12,"\xD7"),i()(),a(13,"div",158)(14,"div",147),B(15,"div",148),i(),a(16,"div",159)(17,"span"),s(18),c(19,"number"),c(20,"number"),i(),a(21,"span",150),B(22,"app-count-up",151),i()()(),a(23,"div",160)(24,"button",161),f("click",function(){let t=_(e).$implicit,p=d(2);return x(p.openSavingsAdjust(t,"add"))}),s(25),c(26,"translate"),i(),a(27,"button",162),f("click",function(){let t=_(e).$implicit,p=d(2);return x(p.openSavingsAdjust(t,"decrease"))}),s(28),c(29,"translate"),i()()()()}if(r&2){let e=u.$implicit,o=d(2);n(8),g(e.name),n(),m("ngIf",e.deadline),n(),w("aria-label",l(11,13,"common.delete")),n(5),j("width",o.progressReady?o.getSavingsProgress(e):0,"%"),n(3),N("",k(19,15,e.currentAmount,"1.2-2")," ",o.currencySymbol," / ",k(20,18,e.targetAmount,"1.2-2")," ",o.currencySymbol,""),n(4),m("value",o.getSavingsProgress(e))("duration",500),n(3),M("+ ",l(26,21,"finance.addAmount"),""),n(3),M("\u2212 ",l(29,23,"finance.decreaseAmount"),"")}}function Ye(r,u){if(r&1){let e=y();a(0,"app-empty-state",164),c(1,"translate"),c(2,"translate"),c(3,"translate"),f("action",function(){_(e);let t=d(2);return x(t.showSavingsForm=!0)}),i()}r&2&&m("title",l(1,3,"finance.noSavingsGoal"))("message",l(2,5,"finance.noSavingsMessage"))("actionText","+ "+l(3,7,"finance.newSavingsGoal"))}function Re(r,u){if(r&1){let e=y();a(0,"div",42)(1,"div",109)(2,"h2"),s(3),c(4,"translate"),i(),a(5,"button",110),f("click",function(){_(e);let t=d();return x(t.showSavingsForm=!0)}),s(6),c(7,"translate"),i()(),a(8,"div",153),h(9,qe,30,25,"div",154)(10,Ye,4,9,"app-empty-state",155),i()()}if(r&2){let e=d();n(3),g(l(4,4,"finance.savingsGoalsTitle")),n(3),M("+ ",l(7,6,"finance.newSavingsGoal"),""),n(3),m("ngForOf",e.savingsGoals),n(),m("ngIf",e.savingsGoals.length===0)}}function Ue(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function He(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function Xe(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function Ze(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function Je(r,u){if(r&1){let e=y();a(0,"app-modal",165),c(1,"translate"),f("closeModal",function(){_(e);let t=d();return x(t.closeSalaryModal())}),a(2,"form",166,0),f("ngSubmit",function(){_(e);let t=d();return x(t.addSalary())}),a(4,"div",167)(5,"label",168),s(6),c(7,"translate"),i(),a(8,"input",169,1),O("ngModelChange",function(t){_(e);let p=d();return P(p.newSalary.amount,t)||(p.newSalary.amount=t),x(t)}),i(),h(10,Ue,3,3,"span",170),i(),a(11,"div",171)(12,"div",167)(13,"label",172),s(14),c(15,"translate"),i(),a(16,"select",173,2),O("ngModelChange",function(t){_(e);let p=d();return P(p.newSalary.period,t)||(p.newSalary.period=t),x(t)}),a(18,"option",174),s(19),c(20,"translate"),i(),a(21,"option",175),s(22),c(23,"translate"),i()(),h(24,He,3,3,"span",170),i(),a(25,"div",167)(26,"label",176),s(27),c(28,"translate"),i(),a(29,"input",177,3),O("ngModelChange",function(t){_(e);let p=d();return P(p.newSalary.date,t)||(p.newSalary.date=t),x(t)}),i(),h(31,Xe,3,3,"span",170),i()(),a(32,"div",167)(33,"label",178),s(34),c(35,"translate"),i(),a(36,"input",179,4),c(38,"translate"),O("ngModelChange",function(t){_(e);let p=d();return P(p.newSalary.description,t)||(p.newSalary.description=t),x(t)}),i(),h(39,Ze,3,3,"span",170),i(),a(40,"div",180)(41,"button",181),f("click",function(){_(e);let t=d();return x(t.closeSalaryModal())}),s(42),c(43,"translate"),i(),a(44,"button",182),s(45),c(46,"translate"),i()()()()}if(r&2){let e=b(3),o=b(9),t=b(17),p=b(30),v=b(37),C=d();m("title",l(1,19,"finance.newSalary")),n(6),E("",l(7,21,"common.amount")," (",C.currencySymbol,") *"),n(2),S("ngModel",C.newSalary.amount),n(2),m("ngIf",o.invalid&&(o.touched||e.submitted)),n(4),M("",l(15,23,"common.period")," *"),n(2),S("ngModel",C.newSalary.period),n(3),g(l(20,25,"common.monthly")),n(3),g(l(23,27,"common.yearly")),n(2),m("ngIf",t.invalid&&(t.touched||e.submitted)),n(3),g(l(28,29,"finance.dateLabel")),n(2),S("ngModel",C.newSalary.date),n(2),m("ngIf",p.invalid&&(p.touched||e.submitted)),n(3),g(l(35,31,"common.description")),n(2),S("ngModel",C.newSalary.description),m("placeholder",l(38,33,"finance.salaryDescPlaceholder")),n(3),m("ngIf",v.invalid&&(v.touched||e.submitted)),n(3),g(l(43,35,"common.cancel")),n(3),g(l(46,37,"common.add"))}}function Ke(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function Qe(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function $e(r,u){if(r&1&&(a(0,"option",193),s(1),i()),r&2){let e=u.$implicit,o=d(2);m("value",e),n(),g(o.getCategoryName(e))}}function et(r,u){if(r&1){let e=y();a(0,"div",197)(1,"input",198),c(2,"translate"),O("ngModelChange",function(t){_(e);let p=d(2);return P(p.newCategoryName,t)||(p.newCategoryName=t),x(t)}),f("keydown.enter",function(t){_(e);let p=d(2);return t.preventDefault(),x(p.addCustomCategory())}),i(),a(3,"button",199),f("click",function(){_(e);let t=d(2);return x(t.addCustomCategory())}),s(4),c(5,"translate"),i()()}if(r&2){let e=d(2);n(),S("ngModel",e.newCategoryName),m("placeholder",l(2,4,"finance.newCategoryPlaceholder")),n(2),m("disabled",!e.newCategoryName.trim()),n(),g(l(5,6,"finance.addCategoryButton"))}}function tt(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function nt(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function it(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function at(r,u){if(r&1){let e=y();a(0,"app-modal",184),c(1,"translate"),f("closeModal",function(){_(e);let t=d();return x(t.closeExpenseModal())}),a(2,"form",166,5),f("ngSubmit",function(){_(e);let t=d();return x(t.addExpense())}),a(4,"div",167)(5,"label",185),s(6),c(7,"translate"),i(),a(8,"input",186,6),O("ngModelChange",function(t){_(e);let p=d();return P(p.newExpense.description,t)||(p.newExpense.description=t),x(t)}),i(),h(10,Ke,3,3,"span",170),i(),a(11,"div",171)(12,"div",167)(13,"label",187),s(14),c(15,"translate"),i(),a(16,"input",188,7),O("ngModelChange",function(t){_(e);let p=d();return P(p.newExpense.amount,t)||(p.newExpense.amount=t),x(t)}),i(),h(18,Qe,3,3,"span",170),i(),a(19,"div",189)(20,"label",190),s(21),c(22,"translate"),i(),a(23,"select",191,8),O("ngModelChange",function(t){_(e);let p=d();return P(p.newExpense.category,t)||(p.newExpense.category=t),x(t)}),h(25,$e,2,2,"option",192),a(26,"option",193),s(27),c(28,"translate"),i()(),h(29,et,6,8,"div",194)(30,tt,3,3,"span",170),i()(),a(31,"div",167)(32,"label"),s(33),c(34,"translate"),i(),a(35,"input",195,9),O("ngModelChange",function(t){_(e);let p=d();return P(p.newExpense.date,t)||(p.newExpense.date=t),x(t)}),i(),h(37,nt,3,3,"span",170),i(),a(38,"div",167)(39,"label"),s(40),c(41,"translate"),i(),a(42,"input",196,10),c(44,"translate"),O("ngModelChange",function(t){_(e);let p=d();return P(p.newExpense.paymentMethod,t)||(p.newExpense.paymentMethod=t),x(t)}),i(),h(45,it,3,3,"span",170),i(),a(46,"div",180)(47,"button",181),f("click",function(){_(e);let t=d();return x(t.closeExpenseModal())}),s(48),c(49,"translate"),i(),a(50,"button",182),s(51),c(52,"translate"),i()()()()}if(r&2){let e=b(3),o=b(9),t=b(17),p=b(24),v=b(36),C=b(43),T=d();m("title",l(1,24,"finance.newExpenseTitle")),n(6),M("",l(7,26,"finance.descriptionLabel")," *"),n(2),S("ngModel",T.newExpense.description),n(2),m("ngIf",o.invalid&&(o.touched||e.submitted)),n(4),E("",l(15,28,"common.amount")," (",T.currencySymbol,") *"),n(2),S("ngModel",T.newExpense.amount),n(2),m("ngIf",t.invalid&&(t.touched||e.submitted)),n(3),g(l(22,30,"common.category")),n(2),S("ngModel",T.newExpense.category),n(2),m("ngForOf",T.expenseCategories),n(),m("value",T.addCategoryValue),n(),M("+ ",l(28,32,"finance.addCategory"),""),n(2),m("ngIf",T.newExpense.category===T.addCategoryValue),n(),m("ngIf",p.invalid&&(p.touched||e.submitted)),n(3),g(l(34,34,"finance.dateLabel")),n(2),S("ngModel",T.newExpense.date),n(2),m("ngIf",v.invalid&&(v.touched||e.submitted)),n(3),g(l(41,36,"finance.paymentMethod")),n(2),S("ngModel",T.newExpense.paymentMethod),m("placeholder",l(44,38,"finance.paymentPlaceholder")),n(3),m("ngIf",C.invalid&&(C.touched||e.submitted)),n(3),g(l(49,40,"common.cancel")),n(3),g(l(52,42,"common.add"))}}function ot(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function rt(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function st(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function ct(r,u){if(r&1){let e=y();a(0,"app-modal",165),c(1,"translate"),f("closeModal",function(){_(e);let t=d();return x(t.closeBudgetModal())}),a(2,"form",166,11),f("ngSubmit",function(){_(e);let t=d();return x(t.addBudget())}),a(4,"div",167)(5,"label"),s(6),c(7,"translate"),i(),a(8,"input",200,12),O("ngModelChange",function(t){_(e);let p=d();return P(p.newBudget.category,t)||(p.newBudget.category=t),x(t)}),i(),h(10,ot,3,3,"span",170),i(),a(11,"div",171)(12,"div",167)(13,"label"),s(14),c(15,"translate"),i(),a(16,"input",201,13),O("ngModelChange",function(t){_(e);let p=d();return P(p.newBudget.limit,t)||(p.newBudget.limit=t),x(t)}),i(),h(18,rt,3,3,"span",170),i(),a(19,"div",167)(20,"label"),s(21),c(22,"translate"),i(),a(23,"select",202,14),O("ngModelChange",function(t){_(e);let p=d();return P(p.newBudget.period,t)||(p.newBudget.period=t),x(t)}),a(25,"option",203),s(26),c(27,"translate"),i(),a(28,"option",174),s(29),c(30,"translate"),i(),a(31,"option",175),s(32),c(33,"translate"),i()(),h(34,st,3,3,"span",170),i()(),a(35,"div",180)(36,"button",181),f("click",function(){_(e);let t=d();return x(t.closeBudgetModal())}),s(37),c(38,"translate"),i(),a(39,"button",182),s(40),c(41,"translate"),i()()()()}if(r&2){let e=b(3),o=b(9),t=b(17),p=b(24),v=d();m("title",l(1,16,"finance.newBudgetTitle")),n(6),M("",l(7,18,"common.category")," *"),n(2),S("ngModel",v.newBudget.category),n(2),m("ngIf",o.invalid&&(o.touched||e.submitted)),n(4),E("",l(15,20,"common.amount")," (",v.currencySymbol,") *"),n(2),S("ngModel",v.newBudget.limit),n(2),m("ngIf",t.invalid&&(t.touched||e.submitted)),n(3),g(l(22,22,"common.period")),n(2),S("ngModel",v.newBudget.period),n(3),g(l(27,24,"common.weekly")),n(3),g(l(30,26,"common.monthly")),n(3),g(l(33,28,"common.yearly")),n(2),m("ngIf",p.invalid&&(p.touched||e.submitted)),n(3),g(l(38,30,"common.cancel")),n(3),g(l(41,32,"common.create"))}}function pt(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function lt(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function dt(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function gt(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function mt(r,u){if(r&1){let e=y();a(0,"app-modal",165),c(1,"translate"),f("closeModal",function(){_(e);let t=d();return x(t.closeSavingsModal())}),a(2,"form",166,15),f("ngSubmit",function(){_(e);let t=d();return x(t.addSavingsGoal())}),a(4,"div",167)(5,"label"),s(6),c(7,"translate"),i(),a(8,"input",204,16),O("ngModelChange",function(t){_(e);let p=d();return P(p.newSavingsGoal.name,t)||(p.newSavingsGoal.name=t),x(t)}),i(),h(10,pt,3,3,"span",170),i(),a(11,"div",171)(12,"div",167)(13,"label"),s(14),c(15,"translate"),i(),a(16,"input",205,17),O("ngModelChange",function(t){_(e);let p=d();return P(p.newSavingsGoal.targetAmount,t)||(p.newSavingsGoal.targetAmount=t),x(t)}),i(),h(18,lt,3,3,"span",170),i(),a(19,"div",167)(20,"label"),s(21),c(22,"translate"),i(),a(23,"input",206,18),O("ngModelChange",function(t){_(e);let p=d();return P(p.newSavingsGoal.currentAmount,t)||(p.newSavingsGoal.currentAmount=t),x(t)}),i(),h(25,dt,3,3,"span",170),i()(),a(26,"div",167)(27,"label"),s(28),c(29,"translate"),i(),a(30,"input",207,19),O("ngModelChange",function(t){_(e);let p=d();return P(p.newSavingsGoal.deadline,t)||(p.newSavingsGoal.deadline=t),x(t)}),i(),h(32,gt,3,3,"span",170),i(),a(33,"div",180)(34,"button",181),f("click",function(){_(e);let t=d();return x(t.closeSavingsModal())}),s(35),c(36,"translate"),i(),a(37,"button",182),s(38),c(39,"translate"),i()()()()}if(r&2){let e=b(3),o=b(9),t=b(17),p=b(24),v=b(31),C=d();m("title",l(1,17,"finance.newSavingsGoalTitle")),n(6),M("",l(7,19,"common.name")," *"),n(2),S("ngModel",C.newSavingsGoal.name),n(2),m("ngIf",o.invalid&&(o.touched||e.submitted)),n(4),E("",l(15,21,"finance.targetAmount")," (",C.currencySymbol,") *"),n(2),S("ngModel",C.newSavingsGoal.targetAmount),n(2),m("ngIf",t.invalid&&(t.touched||e.submitted)),n(3),E("",l(22,23,"finance.currentAmount")," (",C.currencySymbol,")"),n(2),S("ngModel",C.newSavingsGoal.currentAmount),n(2),m("ngIf",p.invalid&&(p.touched||e.submitted)),n(3),g(l(29,25,"finance.deadline")),n(2),S("ngModel",C.newSavingsGoal.deadline),n(2),m("ngIf",v.invalid&&(v.touched||e.submitted)),n(3),g(l(36,27,"common.cancel")),n(3),g(l(39,29,"common.create"))}}function ut(r,u){r&1&&(a(0,"span",183),s(1),c(2,"translate"),i()),r&2&&(n(),g(l(2,1,"validation.required")))}function _t(r,u){if(r&1&&(a(0,"p",211),s(1),c(2,"translate"),c(3,"number"),i()),r&2){let e=d(2);n(),L(" ",l(2,3,"finance.currentAmount"),": ",k(3,5,e.savingsAdjustGoal.currentAmount,"1.2-2")," ",e.currencySymbol," ")}}function xt(r,u){if(r&1){let e=y();a(0,"app-modal",165),f("closeModal",function(){_(e);let t=d();return x(t.closeSavingsAdjustModal())}),a(1,"form",166,20),f("ngSubmit",function(){_(e);let t=d();return x(t.submitSavingsAdjust())}),a(3,"div",167)(4,"label"),s(5),c(6,"translate"),i(),a(7,"input",208,21),O("ngModelChange",function(t){_(e);let p=d();return P(p.savingsAdjustAmount,t)||(p.savingsAdjustAmount=t),x(t)}),i(),h(9,ut,3,3,"span",170),i(),h(10,_t,4,8,"p",209),a(11,"div",180)(12,"button",181),f("click",function(){_(e);let t=d();return x(t.closeSavingsAdjustModal())}),s(13),c(14,"translate"),i(),a(15,"button",210),s(16),c(17,"translate"),i()()()()}if(r&2){let e=b(2),o=b(8),t=d();m("title",t.savingsAdjustModalTitle),n(5),E("",l(6,9,t.savingsAdjustOperation==="add"?"finance.amountToAdd":"finance.amountToDecrease")," (",t.currencySymbol,") *"),n(2),S("ngModel",t.savingsAdjustAmount),n(2),m("ngIf",o.invalid&&(o.touched||e.submitted)),n(),m("ngIf",t.savingsAdjustGoal),n(3),g(l(14,11,"common.cancel")),n(2),m("disabled",t.savingsAdjustAmount<=0),n(),g(l(17,13,"common.save"))}}var It=(()=>{class r{static{this.DEFAULT_EXPENSE_CATEGORIES=["food","shopping","health","leisure","transport","bills","other"]}get customCategories(){return this.customCategoryList.map(e=>e.name)}get expenseCategories(){return[...r.DEFAULT_EXPENSE_CATEGORIES,...this.customCategories]}get expenseCategoriesForOverview(){let e=this.expensesForMonth.map(t=>t.category).filter(Boolean),o=new Set([...r.DEFAULT_EXPENSE_CATEGORIES,...this.customCategories,...e]);return Array.from(o)}get expenseCategoriesForOverviewNonZero(){return this.expenseCategoriesForOverview.filter(e=>this.getExpensesByCategory(e)>0)}getExpensesGroupedByCategory(){let e=new Map;for(let o of this.expensesForMonth){let t=e.get(o.category)||[];t.push(o),e.set(o.category,t)}return Array.from(e.entries()).map(([o,t])=>({category:o,categoryName:this.getCategoryName(o),expenses:t.sort((p,v)=>new Date(v.date).getTime()-new Date(p.date).getTime()),total:t.reduce((p,v)=>p+this.parseAmount(v.amount),0)})).sort((o,t)=>t.total-o.total)}isExpenseCategoryExpanded(e){return this.expandedExpenseCategories.has(e)}toggleExpenseCategory(e){this.expandedExpenseCategories.has(e)?this.expandedExpenseCategories.delete(e):this.expandedExpenseCategories.add(e),this.expandedExpenseCategories=new Set(this.expandedExpenseCategories)}playMoneySound(){try{let e=window.AudioContext||window.webkitAudioContext;if(!e)return;let o=new e,t=(p,v,C,T)=>{let D=o.createOscillator(),z=o.createGain();D.connect(z),z.connect(o.destination),D.type="sine",D.frequency.setValueAtTime(p,v),z.gain.setValueAtTime(T,v),z.gain.exponentialRampToValueAtTime(.01,v+C),D.start(v),D.stop(v+C)};t(880,o.currentTime,.08,.15),t(1320,o.currentTime+.1,.12,.12)}catch{}}constructor(e,o,t,p,v){this.financeService=e,this.authService=o,this.currencyService=t,this.i18n=p,this.toastService=v,this.activeTab="overview",this.progressReady=!1,this.expenses=[],this.budgets=[],this.savingsGoals=[],this.salaries=[],this.showExpenseForm=!1,this.showBudgetForm=!1,this.showSavingsForm=!1,this.showSalaryForm=!1,this.showSavingsAdjustModal=!1,this.savingsAdjustGoal=null,this.savingsAdjustOperation="add",this.savingsAdjustAmount=0,this.newExpense={category:"other"},this.newBudget={period:"monthly"},this.newSavingsGoal={},this.newSalary={period:"monthly"},this.currentMonth=new Date().getMonth(),this.currentYear=new Date().getFullYear(),this.monthlyExpenses=0,this.monthlySalary=0,this.remainingBalance=0,this.monthlyBudget=0,this.remainingBudget=0,this.savingsSuggestions=[],this.addCategoryValue="__add__",this.customCategoryList=[],this.newCategoryName="",this.categoryToAdd="",this.expensesByCategoryExpanded=!1,this.expandedExpenseCategories=new Set,this.showDeleteExpenseConfirm=!1,this.showDeleteSalaryConfirm=!1,this.showDeleteBudgetConfirm=!1,this.showDeleteSavingsConfirm=!1,this.itemToDelete=null,this.userName="",this.rib="FR76 1234 5678 9012 3456 7890 123",this.cardNumber="4532 1234 5678 9010",this.expiryDate="12/28",this.cvv="123",this.walletCards=[],this.selectedCard=null,this.isLoading=!1}ngAfterViewInit(){setTimeout(()=>this.progressReady=!0,80)}ngOnInit(){let e=this.authService.getCurrentUser();e&&(this.userName=e.fullName),this.userSubscription=this.authService.currentUser$.subscribe(o=>{o?this.userName=o.fullName:this.userName=""}),this.loadWalletCardsAndData()}ngOnDestroy(){this.dataSubscription&&this.dataSubscription.unsubscribe(),this.userSubscription&&this.userSubscription.unsubscribe(),this.walletCardsSubscription&&this.walletCardsSubscription.unsubscribe()}parseAmount(e){if(e==null)return 0;if(typeof e=="number"&&!Number.isNaN(e))return e;let o=String(e).trim().replace(",","."),t=parseFloat(o);return Number.isNaN(t)?0:t}loadData(e){let o=e??this.selectedCard?.id??null,t=o!=null?String(o):null;this.financeService.getExpensesForCard(t).subscribe({next:p=>{this.expenses=p,this.updateOverview()},error:p=>console.error("Error loading expenses:",p)}),this.financeService.getSalariesForCard(t).subscribe({next:p=>{this.salaries=p,this.updateOverview()},error:p=>console.error("Error loading salaries:",p)}),this.financeService.getBudgetsObservable().subscribe({next:p=>{this.budgets=p.map(v=>V(A({},v),{id:v.id.toString(),limit:this.parseAmount(v.limit),spent:this.parseAmount(v.spent)})),this.updateOverview()},error:p=>console.error("Error loading budgets:",p)}),this.financeService.getSavingsGoalsObservable().subscribe({next:p=>{this.savingsGoals=p.map(v=>V(A({},v),{id:v.id.toString(),deadline:v.deadline?new Date(v.deadline):void 0,targetAmount:this.parseAmount(v.targetAmount),currentAmount:this.parseAmount(v.currentAmount)})),this.updateOverview()},error:p=>console.error("Error loading savings goals:",p)}),this.financeService.getCustomCategoriesObservable().subscribe({next:p=>{this.customCategoryList=p.map(v=>V(A({},v),{id:typeof v.id=="number"?v.id:parseInt(String(v.id),10)}))},error:p=>console.error("Error loading categories:",p)})}loadWalletCardsAndData(){this.walletCardsSubscription=this.financeService.getWalletCardsObservable().subscribe({next:e=>{this.walletCards=e;let o=this.financeService.getDefaultWalletCard();this.selectedCard=o,this.loadData(this.selectedCard?.id??null)},error:e=>console.error("Error loading wallet cards:",e)})}updateOverview(){this.monthlyExpenses=this.financeService.getTotalExpensesForMonth(this.currentYear,this.currentMonth),this.monthlySalary=this.financeService.getSalaryForMonth(this.currentYear,this.currentMonth),this.remainingBalance=this.financeService.getRemainingBalance(this.currentYear,this.currentMonth),this.monthlyBudget=this.financeService.getMonthlyBudget(),this.remainingBudget=this.financeService.getRemainingBudget(this.currentYear,this.currentMonth),this.savingsSuggestions=this.financeService.getSavingsSuggestions(this.currentYear,this.currentMonth)}get expensesForMonth(){return this.expenses.filter(e=>{let o=new Date(e.date);return o.getFullYear()===this.currentYear&&o.getMonth()===this.currentMonth})}get salariesForMonth(){return this.salaries.filter(e=>{let o=new Date(e.date);return e.period==="monthly"?o.getFullYear()===this.currentYear&&o.getMonth()===this.currentMonth:e.period==="yearly"&&o.getFullYear()===this.currentYear})}get selectedMonthLabel(){let e=new Date(this.currentYear,this.currentMonth,1),t={fr:"fr-FR",en:"en-US",ar:"ar-EG"}[this.i18n.currentLang]||"fr-FR";return e.toLocaleDateString(t,{month:"long",year:"numeric"})}get canGoToNextMonth(){let e=new Date;return this.currentYear<e.getFullYear()?!0:this.currentYear>e.getFullYear()?!1:this.currentMonth<e.getMonth()}goToPrevMonth(){this.currentMonth===0?(this.currentMonth=11,this.currentYear--):this.currentMonth--,this.updateOverview()}goToNextMonth(){this.currentMonth===11?(this.currentMonth=0,this.currentYear++):this.currentMonth++,this.updateOverview()}goToCurrentMonth(){let e=new Date;this.currentYear=e.getFullYear(),this.currentMonth=e.getMonth(),this.updateOverview()}get firstDayOfSelectedMonth(){let e=this.currentYear,o=String(this.currentMonth+1).padStart(2,"0");return`${e}-${o}-01`}closeSalaryModal(){this.showSalaryForm=!1,this.newSalary={period:"monthly"}}openSalaryForm(){this.newSalary={period:"monthly",date:this.firstDayOfSelectedMonth},this.showSalaryForm=!0}closeExpenseModal(){this.showExpenseForm=!1,this.newExpense={category:"other"},this.newCategoryName=""}openExpenseForm(){this.newExpense={category:"other",date:this.firstDayOfSelectedMonth},this.newCategoryName="",this.showExpenseForm=!0}addCustomCategory(e){let o=(e!==void 0?e:this.newCategoryName)?.trim()||"";if(!o)return;let t=o.toLowerCase();if(this.expenseCategories.some(v=>v.toLowerCase()===t)){this.toastService.warning(this.i18n.instant("finance.categoryExists")||"Cette cat\xE9gorie existe d\xE9j\xE0.");return}this.financeService.addCustomCategory(o).subscribe({next:v=>{if(this.customCategoryList=this.financeService.getCustomCategories(),e!==void 0)this.categoryToAdd="";else{let C=v?.data?.name??o;this.newCategoryName="",setTimeout(()=>{this.newExpense=V(A({},this.newExpense),{category:C})},0)}this.toastService.success(this.i18n.instant("finance.categoryAdded")||"Cat\xE9gorie ajout\xE9e.")},error:v=>{let C=v?.error?.message||v?.message||"Erreur";this.toastService.error(C)}})}removeCustomCategory(e){this.financeService.removeCustomCategory(e).subscribe({next:()=>{this.customCategoryList=this.financeService.getCustomCategories(),this.toastService.success(this.i18n.instant("finance.categoryRemoved")||"Cat\xE9gorie retir\xE9e.")},error:o=>{this.toastService.error(o?.error?.message||o?.message||"Erreur")}})}closeBudgetModal(){this.showBudgetForm=!1,this.newBudget={period:"monthly"}}closeSavingsModal(){this.showSavingsForm=!1,this.newSavingsGoal={}}get currencySymbol(){return this.currencyService.getSymbolForCode(this.selectedCard?.currency??void 0)}convertAmount(e){return this.currencyService.convertAmount(e)}addExpense(){if(!this.newExpense.amount||!this.newExpense.description)return;if(this.newExpense.category===this.addCategoryValue||!this.newExpense.category){this.toastService.warning(this.i18n.instant("finance.selectOrAddCategory")||"Choisissez ou ajoutez une cat\xE9gorie.");return}let e=this.newExpense.date?new Date(this.newExpense.date):new Date(this.currentYear,this.currentMonth,1),o=this.selectedCard?.id!=null?String(this.selectedCard.id):null;this.financeService.addExpense({amount:this.newExpense.amount,category:this.newExpense.category||"other",description:this.newExpense.description,date:e,paymentMethod:this.newExpense.paymentMethod,walletCardId:o}).subscribe({next:()=>{this.showExpenseForm=!1,this.newExpense={category:"other"},this.loadData(this.selectedCard?.id??null),this.playMoneySound(),this.toastService.success(this.i18n.instant("finance.expenseAdded")||"D\xE9pense ajout\xE9e avec succ\xE8s")},error:t=>{let p=t?.error?.message||t?.message||"Erreur lors de l'ajout de la d\xE9pense";this.toastService.error(p)}})}deleteExpense(e){this.itemToDelete=e,this.showDeleteExpenseConfirm=!0}confirmDeleteExpense(){this.itemToDelete&&this.financeService.deleteExpense(this.itemToDelete).subscribe({next:()=>{this.loadData(this.selectedCard?.id??null),this.toastService.success("D\xE9pense supprim\xE9e"),this.showDeleteExpenseConfirm=!1,this.itemToDelete=null},error:e=>{this.toastService.error(e.message||"Erreur lors de la suppression"),this.showDeleteExpenseConfirm=!1}})}cancelDeleteExpense(){this.showDeleteExpenseConfirm=!1,this.itemToDelete=null}addBudget(){!this.newBudget.category||!this.newBudget.limit||this.financeService.addBudget({category:this.newBudget.category,limit:this.newBudget.limit,period:this.newBudget.period||"monthly"}).subscribe({next:()=>{this.showBudgetForm=!1,this.newBudget={period:"monthly"},this.loadData(this.selectedCard?.id??null),this.toastService.success("Budget cr\xE9\xE9")},error:e=>{this.toastService.error(e.message||"Erreur")}})}addSavingsGoal(){!this.newSavingsGoal.name||!this.newSavingsGoal.targetAmount||this.financeService.addSavingsGoal({name:this.newSavingsGoal.name,targetAmount:this.newSavingsGoal.targetAmount,currentAmount:this.newSavingsGoal.currentAmount||0,deadline:this.newSavingsGoal.deadline?new Date(this.newSavingsGoal.deadline):void 0}).subscribe({next:()=>{this.showSavingsForm=!1,this.newSavingsGoal={},this.loadData(this.selectedCard?.id??null),this.toastService.success("Objectif d'\xE9pargne cr\xE9\xE9")},error:e=>{this.toastService.error(e.message||"Erreur")}})}updateSavingsGoal(e,o){this.savingsGoals.find(p=>p.id===e)&&this.financeService.updateSavingsGoal(e,{currentAmount:o}).subscribe({next:()=>{this.loadData(this.selectedCard?.id??null)}})}openSavingsAdjust(e,o){this.savingsAdjustGoal=e,this.savingsAdjustOperation=o,this.savingsAdjustAmount=0,this.showSavingsAdjustModal=!0}closeSavingsAdjustModal(){this.showSavingsAdjustModal=!1,this.savingsAdjustGoal=null,this.savingsAdjustAmount=0}get savingsAdjustModalTitle(){return this.savingsAdjustGoal?`${this.savingsAdjustOperation==="add"?this.i18n.instant("finance.addAmount"):this.i18n.instant("finance.decreaseAmount")} - ${this.savingsAdjustGoal.name}`:""}submitSavingsAdjust(){if(!this.savingsAdjustGoal||this.savingsAdjustAmount<=0)return;let e=this.parseAmount(this.savingsAdjustGoal.currentAmount),o=this.savingsAdjustOperation==="add"?this.savingsAdjustAmount:-this.savingsAdjustAmount,t=Math.max(0,e+o);this.financeService.updateSavingsGoal(this.savingsAdjustGoal.id,{currentAmount:t}).subscribe({next:()=>{this.closeSavingsAdjustModal(),this.loadData(this.selectedCard?.id??null)}})}getExpensesByCategory(e){return this.expenses.filter(o=>{let t=new Date(o.date);return t.getFullYear()===this.currentYear&&t.getMonth()===this.currentMonth&&o.category===e}).reduce((o,t)=>o+this.parseAmount(t.amount),0)}getExpenseCategoryPercent(e){if(this.monthlyExpenses<=0)return 0;let o=this.getExpensesByCategory(e);return Math.min(100,o/this.monthlyExpenses*100)}getCategoryName(e){let t={food:"finance.food",shopping:"finance.shopping",health:"finance.health",leisure:"finance.leisure",transport:"finance.transport",bills:"finance.bills",other:"finance.other"}[e];return t?this.i18n.instant(t):e}getCategoryIcon(e){return{food:"\u{1F354}",shopping:"\u{1F6CD}\uFE0F",health:"\u{1F3E5}",leisure:"\u{1F3AE}",transport:"\u{1F697}",bills:"\u{1F4C4}",other:"\u{1F4E6}"}[e]||"\u{1F4E6}"}getBudgetProgress(e){let o=this.parseAmount(e.limit);return o<=0?0:Math.min(this.parseAmount(e.spent)/o*100,100)}getSavingsProgress(e){let o=this.parseAmount(e.targetAmount);return o<=0?0:Math.min(this.parseAmount(e.currentAmount)/o*100,100)}addSalary(){if(!this.newSalary.amount)return;let e=this.newSalary.date?new Date(this.newSalary.date):new Date(this.currentYear,this.currentMonth,1),o=this.selectedCard?.id!=null?String(this.selectedCard.id):null;this.financeService.addSalary({amount:this.newSalary.amount,period:this.newSalary.period||"monthly",date:e,description:this.newSalary.description,walletCardId:o}).subscribe({next:()=>{this.playMoneySound(),this.showSalaryForm=!1,this.newSalary={period:"monthly"},this.loadData(this.selectedCard?.id??null),this.toastService.success("Salaire ajout\xE9 avec succ\xE8s")},error:t=>{this.toastService.error(t.message||"Erreur lors de l'ajout du salaire")}})}deleteSalary(e){this.itemToDelete=e,this.showDeleteSalaryConfirm=!0}confirmDeleteSalary(){this.itemToDelete&&this.financeService.deleteSalary(this.itemToDelete).subscribe({next:()=>{this.loadData(this.selectedCard?.id??null),this.toastService.success("Salaire supprim\xE9"),this.showDeleteSalaryConfirm=!1,this.itemToDelete=null},error:e=>{this.toastService.error(e.message||"Erreur lors de la suppression"),this.showDeleteSalaryConfirm=!1}})}cancelDeleteSalary(){this.showDeleteSalaryConfirm=!1,this.itemToDelete=null}deleteBudget(e){this.itemToDelete=e,this.showDeleteBudgetConfirm=!0}confirmDeleteBudget(){this.itemToDelete&&this.financeService.deleteBudget(this.itemToDelete).subscribe({next:()=>{this.loadData(this.selectedCard?.id??null),this.toastService.success("Budget supprim\xE9"),this.showDeleteBudgetConfirm=!1,this.itemToDelete=null},error:e=>{this.toastService.error(e.message||"Erreur"),this.showDeleteBudgetConfirm=!1}})}cancelDeleteBudget(){this.showDeleteBudgetConfirm=!1,this.itemToDelete=null}deleteSavingsGoal(e){this.itemToDelete=e,this.showDeleteSavingsConfirm=!0}confirmDeleteSavingsGoal(){this.itemToDelete&&this.financeService.deleteSavingsGoal(this.itemToDelete).subscribe({next:()=>{this.loadData(this.selectedCard?.id??null),this.toastService.success("Objectif supprim\xE9"),this.showDeleteSavingsConfirm=!1,this.itemToDelete=null},error:e=>{this.toastService.error(e.message||"Erreur"),this.showDeleteSavingsConfirm=!1}})}cancelDeleteSavingsGoal(){this.showDeleteSavingsConfirm=!1,this.itemToDelete=null}get displayCardHolder(){return this.selectedCard?.holderName??this.userName}get displayCardNumber(){return this.selectedCard?.cardNumber??this.cardNumber}get displayExpiry(){return this.selectedCard?.expiryDate??this.expiryDate}get displayRib(){return this.selectedCard?.rib??this.rib}get displayCardCurrency(){return this.selectedCard?.currency??this.currencyService.getSelectedCurrencyCode()??"EUR"}selectCard(e){this.selectedCard=e,this.loadData(e.id)}static{this.\u0275fac=function(o){return new(o||r)(I(ue),I($),I(K),I(Q),I(ve))}}static{this.\u0275cmp=W({type:r,selectors:[["app-finance"]],standalone:!0,features:[q],decls:63,vars:61,consts:[["salaryForm","ngForm"],["salaryAmount","ngModel"],["salaryPeriod","ngModel"],["salaryDate","ngModel"],["salaryDescription","ngModel"],["expenseForm","ngForm"],["expenseDesc","ngModel"],["expenseAmount","ngModel"],["expenseCategory","ngModel"],["expenseDate","ngModel"],["expensePayment","ngModel"],["budgetForm","ngForm"],["budgetCategory","ngModel"],["budgetLimit","ngModel"],["budgetPeriod","ngModel"],["savingsForm","ngForm"],["savingsName","ngModel"],["savingsTarget","ngModel"],["savingsCurrent","ngModel"],["savingsDeadline","ngModel"],["savingsAdjustForm","ngForm"],["savingsAdjustAmountField","ngModel"],[1,"finance-page"],[1,"finance-header"],[1,"finance-header-inner"],["aria-hidden","true",1,"finance-header-icon"],[1,"finance-header-sub"],[1,"month-selector-bar"],["type","button",1,"month-btn","month-prev",3,"click"],[1,"month-label"],["type","button",1,"month-btn","month-next",3,"click","disabled"],["type","button",1,"btn","btn-secondary","btn-today",3,"click"],["role","tablist","aria-label","Finance sections",1,"finance-tabs"],["type","button","role","tab",3,"click"],[1,"tab-icon"],["class","tab-content tab-content-animate","role","tabpanel",4,"ngIf"],["size","sm",3,"title","closeModal",4,"ngIf"],["size","md",3,"title","closeModal",4,"ngIf"],["title","Supprimer la d\xE9pense","message","\xCAtes-vous s\xFBr de vouloir supprimer cette d\xE9pense ? Cette action est irr\xE9versible.","confirmText","Supprimer","cancelText","Annuler","type","danger",3,"confirmed","cancelled","isOpen"],["title","Supprimer le salaire","message","\xCAtes-vous s\xFBr de vouloir supprimer ce salaire ?","confirmText","Supprimer","type","danger",3,"confirmed","cancelled","isOpen"],["title","Supprimer le budget","message","\xCAtes-vous s\xFBr de vouloir supprimer ce budget ?","confirmText","Supprimer","type","danger",3,"confirmed","cancelled","isOpen"],["title","Supprimer l'objectif","message","\xCAtes-vous s\xFBr de vouloir supprimer cet objectif d'\xE9pargne ?","confirmText","Supprimer","type","danger",3,"confirmed","cancelled","isOpen"],["role","tabpanel",1,"tab-content","tab-content-animate"],[1,"month-context"],["class","bank-card-wrapper",4,"ngIf"],[1,"bank-card"],[1,"card-chip"],[1,"card-header-row"],[1,"card-logo"],[1,"card-currency-badge"],[1,"card-number"],[1,"card-details"],[1,"card-name-section"],[1,"card-label"],[1,"card-name"],[1,"card-expiry-section"],[1,"card-expiry"],[1,"card-rib-section"],[1,"card-rib"],[1,"card-balance"],[1,"balance-label"],[1,"balance-amount","animate-number"],["format","1.2-2",3,"value","suffix","duration"],["class","bank-card-hint",4,"ngIf"],["class","overview-context-card",4,"ngIf"],[1,"overview-grid"],[1,"overview-card","income"],[1,"card-icon"],[1,"card-content"],[1,"amount","positive","animate-number","animate-number-delay-1"],[1,"overview-card","expenses"],[1,"amount","negative","animate-number","animate-number-delay-2"],[1,"overview-card","balance"],[1,"amount","animate-number","animate-number-delay-3"],[1,"expenses-by-category","dropdown-section"],[1,"category-section-header"],["type","button",1,"category-section-toggle",3,"click"],[1,"toggle-title"],[1,"toggle-emoji"],["aria-hidden","true",1,"toggle-icon"],[1,"category-month-switcher",3,"click"],["type","button",1,"month-btn","month-prev",3,"click","title"],["type","button",1,"month-btn","month-next",3,"click","disabled","title"],["type","button",1,"btn","btn-secondary","btn-month-current",3,"click"],["id","category-content",1,"category-dropdown-content"],["class","category-item category-item-with-bar",4,"ngFor","ngForOf"],["class","suggestions-card",4,"ngIf"],[1,"bank-card-wrapper"],["class","finance-card-context",4,"ngIf"],["role","tablist",1,"bank-card-selector"],["type","button","class","bank-card-tab",3,"active","click",4,"ngFor","ngForOf"],[1,"finance-card-context"],["type","button",1,"bank-card-tab",3,"click"],[1,"bank-card-tab-name"],["class","bank-card-tab-currency",4,"ngIf"],[1,"bank-card-tab-currency"],[1,"bank-card-hint"],["routerLink","/settings"],[1,"overview-context-card"],[1,"category-item","category-item-with-bar"],[1,"category-item-row"],[1,"category-name"],[1,"category-amount"],[1,"category-percent"],[1,"category-progress-bar"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"category-progress-fill"],[1,"suggestions-card"],[1,"suggestion-emoji"],[4,"ngFor","ngForOf"],[1,"section-header"],["type","button",1,"btn","btn-primary","btn-add",3,"click"],[1,"finance-list","salaries-list"],["class","finance-card salary-card finance-card-salary",4,"ngFor","ngForOf"],["icon","\u{1F4B5}",3,"title","message","actionText","action",4,"ngIf"],[1,"finance-card","salary-card","finance-card-salary"],[1,"finance-card-accent"],[1,"finance-card-body"],[1,"finance-card-top"],[1,"finance-card-icon"],[1,"finance-card-main"],[1,"finance-meta"],[1,"finance-amount","positive"],["type","button",1,"btn-icon","btn-icon-danger",3,"click"],[1,"finance-date"],["icon","\u{1F4B5}",3,"action","title","message","actionText"],["class","expenses-by-category-list",4,"ngIf"],["icon","\u{1F4B8}",3,"title","message","actionText","action",4,"ngIf"],[1,"expenses-by-category-list"],["class","expense-category-group",4,"ngFor","ngForOf"],[1,"expense-category-group"],["type","button",1,"expense-category-group-toggle",3,"click"],["aria-hidden","true",1,"group-toggle-icon"],[1,"group-toggle-icon-emoji"],[1,"group-toggle-title"],[1,"group-toggle-meta"],[1,"group-toggle-total"],["class","expense-category-group-content",4,"ngIf"],[1,"expense-category-group-content"],["class","finance-card expense-card finance-card-expense",4,"ngFor","ngForOf"],[1,"finance-card","expense-card","finance-card-expense"],[1,"finance-amount","negative"],["icon","\u{1F4B8}",3,"action","title","message","actionText"],[1,"finance-list","budgets-list"],["class","finance-card budget-card finance-card-budget",4,"ngFor","ngForOf"],["icon","\u{1F4CA}",3,"title","message","actionText","action",4,"ngIf"],[1,"finance-card","budget-card","finance-card-budget"],[1,"budget-progress"],[1,"progress-bar"],[1,"progress-fill"],[1,"budget-amounts"],[1,"percentage"],["format","1.0-0","suffix","%",3,"value","duration"],["icon","\u{1F4CA}",3,"action","title","message","actionText"],[1,"finance-list","savings-goals-list"],["class","finance-card savings-card finance-card-savings",4,"ngFor","ngForOf"],["icon","\u{1F3AF}",3,"title","message","actionText","action",4,"ngIf"],[1,"finance-card","savings-card","finance-card-savings"],["class","finance-meta deadline",4,"ngIf"],[1,"savings-progress"],[1,"savings-amounts"],[1,"savings-actions"],["type","button",1,"btn","btn-small","btn-primary",3,"click"],["type","button",1,"btn","btn-small","btn-secondary",3,"click"],[1,"finance-meta","deadline"],["icon","\u{1F3AF}",3,"action","title","message","actionText"],["size","sm",3,"closeModal","title"],[3,"ngSubmit"],[1,"form-group"],["for","salary-amount"],["id","salary-amount","type","number","step","0.01","name","amount","required","","aria-required","true",3,"ngModelChange","ngModel"],["class","field-error",4,"ngIf"],[1,"form-row"],["for","salary-period"],["id","salary-period","name","period","required","","aria-required","true",3,"ngModelChange","ngModel"],["value","monthly"],["value","yearly"],["for","salary-date"],["id","salary-date","type","date","name","date",3,"ngModelChange","ngModel"],["for","salary-description"],["id","salary-description","type","text","name","description",3,"ngModelChange","ngModel","placeholder"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"field-error"],["size","md",3,"closeModal","title"],["for","expense-description"],["id","expense-description","type","text","name","description","required","","aria-required","true",3,"ngModelChange","ngModel"],["for","expense-amount"],["id","expense-amount","type","number","step","0.01","name","amount","required","","aria-required","true",3,"ngModelChange","ngModel"],[1,"form-group","category-group"],["for","expense-category"],["id","expense-category","name","category",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","add-category-row",4,"ngIf"],["type","date","name","date",3,"ngModelChange","ngModel"],["type","text","name","paymentMethod",3,"ngModelChange","ngModel","placeholder"],[1,"add-category-row"],["type","text","name","newCategoryName",3,"ngModelChange","keydown.enter","ngModel","placeholder"],["type","button",1,"btn","btn-secondary","btn-add-cat",3,"click","disabled"],["type","text","name","category","required","",3,"ngModelChange","ngModel"],["type","number","step","0.01","name","limit","required","",3,"ngModelChange","ngModel"],["name","period",3,"ngModelChange","ngModel"],["value","weekly"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],["type","number","step","0.01","name","targetAmount","required","",3,"ngModelChange","ngModel"],["type","number","step","0.01","name","currentAmount",3,"ngModelChange","ngModel"],["type","date","name","deadline",3,"ngModelChange","ngModel"],["type","number","step","0.01","min","0","name","savingsAdjustAmount","required","",3,"ngModelChange","ngModel"],["class","savings-adjust-hint",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"savings-adjust-hint"]],template:function(o,t){o&1&&(a(0,"div",22)(1,"header",23)(2,"div",24)(3,"span",25),s(4,"\u{1F4B0}"),i(),a(5,"h1"),s(6),c(7,"translate"),i(),a(8,"p",26),s(9),c(10,"translate"),i()()(),a(11,"div",27)(12,"button",28),c(13,"translate"),f("click",function(){return t.goToPrevMonth()}),s(14,"\u2039"),i(),a(15,"span",29),s(16),i(),a(17,"button",30),c(18,"translate"),f("click",function(){return t.goToNextMonth()}),s(19,"\u203A"),i(),a(20,"button",31),f("click",function(){return t.goToCurrentMonth()}),s(21),c(22,"translate"),i()(),a(23,"nav",32)(24,"button",33),f("click",function(){return t.activeTab="overview"}),a(25,"span",34),s(26,"\u{1F4CA}"),i(),s(27),c(28,"translate"),i(),a(29,"button",33),f("click",function(){return t.activeTab="salary"}),a(30,"span",34),s(31,"\u{1F4B5}"),i(),s(32),c(33,"translate"),i(),a(34,"button",33),f("click",function(){return t.activeTab="expenses"}),a(35,"span",34),s(36,"\u{1F4B8}"),i(),s(37),c(38,"translate"),i(),a(39,"button",33),f("click",function(){return t.activeTab="budget"}),a(40,"span",34),s(41,"\u{1F4CB}"),i(),s(42),c(43,"translate"),i(),a(44,"button",33),f("click",function(){return t.activeTab="savings"}),a(45,"span",34),s(46,"\u{1F3AF}"),i(),s(47),c(48,"translate"),i()(),h(49,Be,94,85,"div",35)(50,Te,14,12,"div",35)(51,je,13,12,"div",35)(52,We,11,8,"div",35)(53,Re,11,8,"div",35)(54,Je,47,39,"app-modal",36)(55,at,53,44,"app-modal",37)(56,ct,42,34,"app-modal",36)(57,mt,40,31,"app-modal",36)(58,xt,18,15,"app-modal",36),a(59,"app-confirm-dialog",38),f("confirmed",function(){return t.confirmDeleteExpense()})("cancelled",function(){return t.cancelDeleteExpense()}),i(),a(60,"app-confirm-dialog",39),f("confirmed",function(){return t.confirmDeleteSalary()})("cancelled",function(){return t.cancelDeleteSalary()}),i(),a(61,"app-confirm-dialog",40),f("confirmed",function(){return t.confirmDeleteBudget()})("cancelled",function(){return t.cancelDeleteBudget()}),i(),a(62,"app-confirm-dialog",41),f("confirmed",function(){return t.confirmDeleteSavingsGoal()})("cancelled",function(){return t.cancelDeleteSavingsGoal()}),i()()),o&2&&(n(6),g(l(7,41,"finance.title")),n(3),g(l(10,43,"finance.subtitle")),n(3),w("aria-label",l(13,45,"common.previous")),n(4),g(t.selectedMonthLabel),n(),m("disabled",!t.canGoToNextMonth),w("aria-label",l(18,47,"common.next")),n(4),g(l(22,49,"finance.thisMonth")),n(3),F("active",t.activeTab==="overview"),w("aria-selected",t.activeTab==="overview"),n(3),M("",l(28,51,"finance.overview")," "),n(2),F("active",t.activeTab==="salary"),w("aria-selected",t.activeTab==="salary"),n(3),M("",l(33,53,"finance.salary")," "),n(2),F("active",t.activeTab==="expenses"),w("aria-selected",t.activeTab==="expenses"),n(3),M("",l(38,55,"finance.expenses")," "),n(2),F("active",t.activeTab==="budget"),w("aria-selected",t.activeTab==="budget"),n(3),M("",l(43,57,"finance.budget")," "),n(2),F("active",t.activeTab==="savings"),w("aria-selected",t.activeTab==="savings"),n(3),M("",l(48,59,"finance.savings")," "),n(2),m("ngIf",t.activeTab==="overview"),n(),m("ngIf",t.activeTab==="salary"),n(),m("ngIf",t.activeTab==="expenses"),n(),m("ngIf",t.activeTab==="budget"),n(),m("ngIf",t.activeTab==="savings"),n(),m("ngIf",t.showSalaryForm),n(),m("ngIf",t.showExpenseForm),n(),m("ngIf",t.showBudgetForm),n(),m("ngIf",t.showSavingsForm),n(),m("ngIf",t.showSavingsAdjustModal&&t.savingsAdjustGoal),n(),m("isOpen",t.showDeleteExpenseConfirm),n(),m("isOpen",t.showDeleteSalaryConfirm),n(),m("isOpen",t.showDeleteBudgetConfirm),n(),m("isOpen",t.showDeleteSavingsConfirm))},dependencies:[Z,Y,R,X,H,U,ge,oe,ce,pe,ee,re,se,te,ne,de,le,ae,ie,_e,me,xe,fe,he,J],styles:['.finance-page[_ngcontent-%COMP%]{padding:32px 24px 80px;width:100%;max-width:1100px;margin:0 auto;background:var(--notion-bg-secondary);min-height:calc(100vh - 52px);overflow-x:hidden;box-sizing:border-box}.finance-header[_ngcontent-%COMP%]{margin-bottom:20px}.finance-header-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.finance-header-icon[_ngcontent-%COMP%]{font-size:2rem;line-height:1;margin-bottom:4px}.finance-page[_ngcontent-%COMP%]   .finance-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--notion-text-primary);margin:0;letter-spacing:-.03em;line-height:1.2}.finance-header-sub[_ngcontent-%COMP%]{font-size:.95rem;color:var(--notion-text-secondary);margin:0}.month-selector-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:20px;flex-wrap:wrap;background:var(--notion-bg);padding:10px 16px;border-radius:14px;border:1px solid var(--notion-border);box-shadow:var(--notion-shadow-sm)}.month-btn[_ngcontent-%COMP%]{width:40px;height:40px;padding:0;display:inline-flex;align-items:center;justify-content:center;font-size:1.25rem;line-height:1;border-radius:10px;border:1px solid var(--notion-border);background:var(--notion-bg-tertiary);color:var(--notion-text-primary);cursor:pointer;transition:background .15s ease,transform .15s ease}.month-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--notion-bg-hover)}.month-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.month-label[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--notion-text-primary);min-width:140px;text-align:center;text-transform:capitalize}.btn-today[_ngcontent-%COMP%]{margin-left:auto;padding:8px 16px;border-radius:10px;font-weight:500}.finance-tabs[_ngcontent-%COMP%]{display:flex;gap:4px;margin-bottom:24px;background:var(--notion-bg);padding:6px;border-radius:14px;border:1px solid var(--notion-border);box-shadow:var(--notion-shadow-sm);width:100%;max-width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;flex-wrap:nowrap}.finance-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border:none;background:transparent;cursor:pointer;font-size:14px;font-weight:500;color:var(--notion-text-secondary);border-radius:10px;transition:background .2s ease,color .2s ease;font-family:inherit;white-space:nowrap;flex-shrink:0}.finance-tabs[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9}.finance-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);color:var(--notion-text-primary)}.finance-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--active-tab-bg);color:var(--active-tab-color);box-shadow:var(--notion-shadow-sm)}.finance-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{opacity:1}.dark-theme[_ngcontent-%COMP%]   .finance-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.1);box-shadow:0 1px 2px #0003}.tab-content-animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_financeFadeInUp .35s ease-out}@keyframes _ngcontent-%COMP%_financeFadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 1024px){.overview-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.finance-page[_ngcontent-%COMP%]{padding:24px 16px 70px!important}.month-selector-bar[_ngcontent-%COMP%]{flex-wrap:wrap;gap:8px;padding:10px 12px}.month-selector-bar[_ngcontent-%COMP%]   .btn-today[_ngcontent-%COMP%]{width:100%}.finance-page[_ngcontent-%COMP%]   .finance-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem}.finance-tabs[_ngcontent-%COMP%]{margin-bottom:20px;padding:4px}.finance-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;font-size:13px}.finance-tabs[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{font-size:1rem}.bank-card[_ngcontent-%COMP%]{max-width:100%!important;min-height:160px;padding:14px;margin:0 0 24px;border-radius:14px}.card-number[_ngcontent-%COMP%]{font-size:18px;word-break:break-all;overflow-wrap:break-word;letter-spacing:2px}.card-rib[_ngcontent-%COMP%]{word-break:break-all;font-size:11px}.card-chip[_ngcontent-%COMP%]{width:40px;height:30px;margin-bottom:16px}.card-logo[_ngcontent-%COMP%]{font-size:14px}.overview-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:12px}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px;margin-bottom:16px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.15rem}.finance-card-body[_ngcontent-%COMP%]{padding:14px 16px 14px 18px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.finance-card-top[_ngcontent-%COMP%]{gap:10px}.finance-amount[_ngcontent-%COMP%]{width:100%;margin-left:0;margin-top:4px}.savings-actions[_ngcontent-%COMP%]{flex-direction:column}.savings-actions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.finance-page[_ngcontent-%COMP%]{padding:20px 14px 70px!important}.finance-page[_ngcontent-%COMP%]   .finance-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.45rem}.month-label[_ngcontent-%COMP%]{min-width:120px;font-size:1rem}.bank-card[_ngcontent-%COMP%]{min-height:150px;padding:12px;border-radius:12px;margin:0 0 20px}.card-number[_ngcontent-%COMP%]{font-size:16px;letter-spacing:1.5px;margin-bottom:16px}.card-chip[_ngcontent-%COMP%]{width:35px;height:28px;margin-bottom:12px}.card-logo[_ngcontent-%COMP%]{font-size:12px}.card-details[_ngcontent-%COMP%]{margin-bottom:10px}.card-label[_ngcontent-%COMP%]{font-size:9px}.card-name[_ngcontent-%COMP%], .card-expiry[_ngcontent-%COMP%]{font-size:12px}.overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.1rem}.finance-amount[_ngcontent-%COMP%]{font-size:1rem}}.month-context[_ngcontent-%COMP%]{font-size:.85rem;color:var(--notion-text-secondary);margin:0 0 16px}.tab-content[_ngcontent-%COMP%]{margin-top:0}.finance-list[_ngcontent-%COMP%]{display:grid;gap:14px}.finance-card[_ngcontent-%COMP%]{position:relative;background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:14px;overflow:hidden;box-shadow:var(--notion-shadow-sm);transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease}.finance-card[_ngcontent-%COMP%]:hover{box-shadow:var(--notion-shadow-md);border-color:var(--notion-border-hover)}.finance-card-accent[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;width:4px;border-radius:4px 0 0 4px}.finance-card-salary[_ngcontent-%COMP%]   .finance-card-accent[_ngcontent-%COMP%]{background:var(--notion-green)}.finance-card-expense[_ngcontent-%COMP%]   .finance-card-accent[_ngcontent-%COMP%]{background:#ff6b6b}.finance-card-budget[_ngcontent-%COMP%]   .finance-card-accent[_ngcontent-%COMP%]{background:#667eea}.finance-card-savings[_ngcontent-%COMP%]   .finance-card-accent[_ngcontent-%COMP%]{background:var(--notion-purple)}.finance-card-body[_ngcontent-%COMP%]{padding:16px 18px 16px 20px}.finance-card-top[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:8px;flex-wrap:wrap}.finance-card-icon[_ngcontent-%COMP%]{font-size:1.4rem;line-height:1;flex-shrink:0}.finance-card-main[_ngcontent-%COMP%]{flex:1;min-width:0}.finance-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1rem;font-weight:600;color:var(--notion-text-primary);line-height:1.3}.finance-meta[_ngcontent-%COMP%]{font-size:.8rem;color:var(--notion-text-secondary);font-weight:500}.finance-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin-left:auto}.finance-amount.positive[_ngcontent-%COMP%]{color:var(--notion-green)}.finance-amount.negative[_ngcontent-%COMP%]{color:#ff6b6b}.finance-date[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--notion-text-tertiary);margin-top:8px}.btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;padding:0;border:none;background:transparent;border-radius:8px;font-size:1.25rem;line-height:1;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:background .15s ease,color .15s ease;flex-shrink:0;color:var(--notion-text-tertiary)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);color:var(--notion-text-primary)}.btn-icon-danger[_ngcontent-%COMP%]:hover{background:var(--notion-red-bg);color:var(--notion-red)}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--notion-text-primary);margin:0;letter-spacing:-.02em}.btn-add[_ngcontent-%COMP%]{padding:8px 16px;border-radius:10px;font-weight:500}.bank-card[_ngcontent-%COMP%]{width:100%;max-width:500px;min-height:180px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;padding:16px;margin:0 auto 32px;color:#fff;box-shadow:0 20px 60px #667eea66,0 0 0 1px #ffffff1a inset;position:relative;overflow:hidden;font-family:Courier New,monospace;transition:transform .3s ease,box-shadow .3s ease;display:flex;flex-direction:column;box-sizing:border-box}@media (max-width: 1200px){.bank-card[_ngcontent-%COMP%]{max-width:100%}}@media (max-width: 1024px){.bank-card[_ngcontent-%COMP%]{max-width:100%;min-height:170px;padding:14px}}.bank-card-wrapper[_ngcontent-%COMP%]{margin-bottom:12px}.bank-card-selector[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.bank-card-tab[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;align-items:flex-start;gap:2px;padding:8px 14px;border-radius:10px;border:1px solid var(--notion-border);background:var(--notion-bg-tertiary);color:var(--notion-text-secondary);font-size:13px;cursor:pointer;transition:background .15s,border-color .15s}.bank-card-tab[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);color:var(--notion-text-primary)}.bank-card-tab.active[_ngcontent-%COMP%]{background:var(--notion-blue, #3b82f6);border-color:var(--notion-blue, #3b82f6);color:#fff}.bank-card-tab-name[_ngcontent-%COMP%]{font-weight:500}.bank-card-tab-currency[_ngcontent-%COMP%]{font-size:11px;opacity:.85;font-weight:600}.bank-card-hint[_ngcontent-%COMP%]{font-size:14px;color:var(--notion-text-secondary);margin:-8px 0 20px}.bank-card-hint[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--notion-blue, #3b82f6);text-decoration:none}.bank-card-hint[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.finance-card-context[_ngcontent-%COMP%], .overview-context-card[_ngcontent-%COMP%]{font-size:13px;color:var(--notion-text-secondary);margin:0 0 10px;font-style:italic}.overview-context-card[_ngcontent-%COMP%]{margin-bottom:16px}.bank-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 25px 70px #667eea80,0 0 0 1px #ffffff1a inset}@media (max-width: 768px){.bank-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}}@media (max-width: 480px){.bank-card[_ngcontent-%COMP%]:hover{transform:none}}.bank-card.negative-balance[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a5a);box-shadow:0 20px 60px #ff6b6b66,0 0 0 1px #ffffff1a inset}.bank-card.negative-balance[_ngcontent-%COMP%]:hover{box-shadow:0 25px 70px #ff6b6b80,0 0 0 1px #ffffff1a inset}.bank-card[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 50%,rgba(255,255,255,.15) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none;border-radius:20px}@media (max-width: 768px){.bank-card[_ngcontent-%COMP%]:before{border-radius:16px}}@media (max-width: 480px){.bank-card[_ngcontent-%COMP%]:before{border-radius:12px}}.card-chip[_ngcontent-%COMP%]{width:40px;height:30px;background:linear-gradient(135deg,gold,#ffed4e);border-radius:6px;position:relative;margin-bottom:12px;box-shadow:0 2px 8px #0003}.card-chip[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:8px;background:linear-gradient(135deg,rgba(255,255,255,.3) 0%,transparent 100%);border-radius:4px}.card-header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;position:relative;z-index:1}.card-logo[_ngcontent-%COMP%]{font-size:14px;font-weight:700;letter-spacing:1px;opacity:.95;font-family:ui-sans-serif,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif}.card-currency-badge[_ngcontent-%COMP%]{font-size:13px;font-weight:600;letter-spacing:.5px;opacity:.95;padding:4px 10px;background:#fff3;border-radius:8px;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.card-number[_ngcontent-%COMP%]{font-size:18px;font-weight:600;letter-spacing:2px;margin-bottom:12px;font-family:Courier New,monospace;text-shadow:0 2px 4px rgba(0,0,0,.2);position:relative;z-index:1}.card-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-bottom:8px;position:relative;z-index:1}.card-name-section[_ngcontent-%COMP%], .card-expiry-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.card-label[_ngcontent-%COMP%]{font-size:10px;opacity:.8;text-transform:uppercase;letter-spacing:1px;font-weight:500}.card-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;letter-spacing:1px;text-transform:uppercase}.card-expiry[_ngcontent-%COMP%]{font-size:14px;font-weight:600;letter-spacing:1px}.card-rib-section[_ngcontent-%COMP%]{margin-bottom:12px;position:relative;z-index:1;padding-top:12px;border-top:1px solid rgba(255,255,255,.2);flex-shrink:0}.card-rib[_ngcontent-%COMP%]{font-size:12px;font-weight:500;letter-spacing:1.5px;font-family:Courier New,monospace;margin-top:4px;word-break:break-all;line-height:1.4;opacity:.95}.card-balance[_ngcontent-%COMP%]{position:relative;z-index:1;padding-top:12px;border-top:1px solid rgba(255,255,255,.2);margin-top:auto;flex-shrink:0}.balance-label[_ngcontent-%COMP%]{font-size:11px;opacity:.9;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;font-weight:500}.balance-amount[_ngcontent-%COMP%]{font-size:28px;font-weight:700;letter-spacing:-.5px;line-height:1;font-family:ui-sans-serif,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif}.balance-amount.negative[_ngcontent-%COMP%]{color:#ffeb3b;text-shadow:0 2px 8px rgba(255,235,59,.3)}.overview-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:28px}.overview-card[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:14px;padding:18px;display:flex;align-items:center;gap:14px;transition:transform .2s ease,box-shadow .2s ease,background .2s ease;box-shadow:var(--notion-shadow-sm)}.overview-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:var(--notion-shadow-md);background:var(--notion-bg-hover)}.overview-card.income[_ngcontent-%COMP%]{border-left:4px solid var(--notion-green)}.overview-card.expenses[_ngcontent-%COMP%]{border-left:4px solid #ff6b6b}.overview-card.balance[_ngcontent-%COMP%]{border-left:4px solid #4dabf7}.overview-card.balance.negative[_ngcontent-%COMP%]{border-left-color:#ff6b6b}.overview-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:1.6rem;width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--notion-bg-tertiary);border-radius:12px;flex-shrink:0}.overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex:1;min-width:0}.overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 6px;color:var(--notion-text-secondary);font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:var(--notion-text-primary);margin:0;line-height:1.2}.overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount.positive[_ngcontent-%COMP%]{color:var(--notion-green)}.overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount.negative[_ngcontent-%COMP%]{color:#ff6b6b}.expenses-by-category[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);padding:24px;border-radius:12px;margin-bottom:24px;box-shadow:var(--notion-shadow-sm)}.expenses-by-category.dropdown-section[_ngcontent-%COMP%]{padding:0;overflow:hidden}.expenses-by-category[_ngcontent-%COMP%]   .category-section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;padding:0 24px 0 0}.expenses-by-category[_ngcontent-%COMP%]   .category-section-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex:1;min-width:0;padding:16px 24px;font-size:18px;font-weight:600;color:var(--notion-text-primary);background:var(--notion-bg);border:none;border-radius:12px;cursor:pointer;text-align:left;transition:background 20ms ease-in 0s}.expenses-by-category[_ngcontent-%COMP%]   .category-month-switcher[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.expenses-by-category[_ngcontent-%COMP%]   .category-month-switcher[_ngcontent-%COMP%]   .month-btn[_ngcontent-%COMP%]{width:36px;height:36px;padding:0;font-size:18px;line-height:1}.expenses-by-category[_ngcontent-%COMP%]   .category-month-switcher[_ngcontent-%COMP%]   .btn-month-current[_ngcontent-%COMP%]{padding:8px 12px;font-size:13px;white-space:nowrap}.expenses-by-category[_ngcontent-%COMP%]   .category-section-toggle[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.expenses-by-category[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{font-size:12px;color:var(--notion-text-secondary);margin-left:8px}.expenses-by-category[_ngcontent-%COMP%]   .category-dropdown-content[_ngcontent-%COMP%]{max-height:0;overflow:hidden;transition:max-height .25s ease-out}.expenses-by-category[_ngcontent-%COMP%]   .category-dropdown-content.is-open[_ngcontent-%COMP%]{max-height:min(70vh,600px);overflow-y:auto;overflow-x:hidden;padding-bottom:8px}.expenses-by-category[_ngcontent-%COMP%]   .category-dropdown-content[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{margin:0 24px 12px;padding:12px 16px}.expenses-by-category[_ngcontent-%COMP%]   .category-dropdown-content[_ngcontent-%COMP%]   .category-item.category-item-with-bar[_ngcontent-%COMP%]{display:block;padding:14px 16px}.expenses-by-category[_ngcontent-%COMP%]   .category-item-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px}.expenses-by-category[_ngcontent-%COMP%]   .category-item-row[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{flex:1;font-weight:500;color:var(--notion-text-primary);font-size:14px}.expenses-by-category[_ngcontent-%COMP%]   .category-item-row[_ngcontent-%COMP%]   .category-amount[_ngcontent-%COMP%]{font-weight:600;color:var(--notion-text-primary);font-size:14px}.expenses-by-category[_ngcontent-%COMP%]   .category-item-row[_ngcontent-%COMP%]   .category-percent[_ngcontent-%COMP%]{min-width:2.5em;text-align:right;font-size:14px;color:var(--notion-text-secondary)}.expenses-by-category[_ngcontent-%COMP%]   .category-progress-bar[_ngcontent-%COMP%]{height:8px;background:var(--notion-bg-tertiary);border-radius:4px;overflow:hidden}.expenses-by-category[_ngcontent-%COMP%]   .category-progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;background:linear-gradient(90deg,#8b5cf6,#a78bfa);transition:width .4s ease-out}.expenses-by-category[_ngcontent-%COMP%]   .category-dropdown-content[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:first-child{margin-top:12px}.expenses-by-category[_ngcontent-%COMP%]   .category-dropdown-content[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:last-child{margin-bottom:24px}.expenses-by-category-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.expense-category-group[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:12px;overflow:hidden;box-shadow:var(--notion-shadow-sm)}.expense-category-group-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;width:100%;padding:14px 20px;background:var(--notion-bg);border:none;cursor:pointer;text-align:left;font-size:15px;font-weight:600;color:var(--notion-text-primary);transition:background .2s}.expense-category-group-toggle[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.expense-category-group-toggle[_ngcontent-%COMP%]   .group-toggle-icon[_ngcontent-%COMP%]{font-size:12px;color:var(--notion-text-secondary);flex-shrink:0}.expense-category-group-toggle[_ngcontent-%COMP%]   .group-toggle-icon-emoji[_ngcontent-%COMP%]{font-size:20px;flex-shrink:0}.expense-category-group-toggle[_ngcontent-%COMP%]   .group-toggle-title[_ngcontent-%COMP%]{flex:1;min-width:0}.expense-category-group-toggle[_ngcontent-%COMP%]   .group-toggle-meta[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:var(--notion-text-secondary)}.expense-category-group-toggle[_ngcontent-%COMP%]   .group-toggle-total[_ngcontent-%COMP%]{font-weight:600;color:var(--notion-red, #e03e3e)}.expense-category-group-content[_ngcontent-%COMP%]{padding:0 12px 12px;display:flex;flex-direction:column;gap:10px}.expense-category-group-content[_ngcontent-%COMP%]   .finance-card[_ngcontent-%COMP%]{margin:0}.category-list[_ngcontent-%COMP%]{display:grid;gap:12px}.category-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--notion-bg-tertiary);border-radius:8px;transition:background 20ms ease-in 0s}.category-item[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.category-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.category-icon[_ngcontent-%COMP%]{font-size:20px}.category-name[_ngcontent-%COMP%]{font-weight:400;color:var(--notion-text-primary);font-size:14px}.category-amount[_ngcontent-%COMP%]{font-weight:600;color:var(--notion-text-primary);font-size:14px}.suggestions-card[_ngcontent-%COMP%]{background:var(--notion-yellow-bg);border:1px solid var(--notion-yellow);padding:20px 24px;border-radius:14px;border-left:4px solid var(--notion-yellow);box-shadow:var(--notion-shadow-sm)}.suggestions-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--notion-text-primary);margin:0 0 12px;display:flex;align-items:center;gap:8px}.suggestion-emoji[_ngcontent-%COMP%], .toggle-emoji[_ngcontent-%COMP%]{font-size:1.1rem}.suggestions-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.suggestions-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:4px 0;color:var(--notion-text-secondary);font-size:.9rem;line-height:1.5}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:12px}.form-card[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);padding:24px;border-radius:12px;margin-bottom:24px;box-shadow:var(--notion-shadow-sm)}.form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--notion-text-primary);margin:0 0 16px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:var(--notion-text-secondary);font-size:12px;text-transform:uppercase;letter-spacing:.5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid var(--notion-border);border-radius:8px;font-size:14px;transition:border-color 20ms ease-in 0s;font-family:inherit;background:var(--notion-bg);color:var(--notion-text-primary)}.form-group.category-group[_ngcontent-%COMP%]{margin-bottom:16px}.add-category-row[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:8px;align-items:center}.add-category-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;min-width:0;padding:8px 12px;border:1px solid var(--notion-border);border-radius:var(--notion-radius);font-size:14px;background:var(--notion-bg);color:var(--notion-text-primary)}.add-category-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue)}.add-category-row[_ngcontent-%COMP%]   .btn-add-cat[_ngcontent-%COMP%]{flex-shrink:0;white-space:nowrap}.custom-categories-section[_ngcontent-%COMP%]{margin-bottom:24px;padding:18px;background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:var(--notion-radius-md);border-left:4px solid var(--notion-blue);box-shadow:var(--notion-shadow-sm)}.custom-categories-emoji[_ngcontent-%COMP%]{margin-right:6px;font-size:1.1em}.custom-categories-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:var(--notion-text-primary);margin:0 0 6px;display:flex;align-items:center}html[dir="rtl"][_nghost-%COMP%]   .custom-categories-section[_ngcontent-%COMP%], html[dir="rtl"]   [_nghost-%COMP%]   .custom-categories-section[_ngcontent-%COMP%]{border-left:none;border-right:4px solid var(--notion-blue)}.custom-categories-desc[_ngcontent-%COMP%]{font-size:12px;color:var(--notion-text-secondary);margin:0 0 12px;line-height:1.4}.custom-categories-add[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap}.custom-categories-add[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;min-width:140px;padding:8px 12px;border:1px solid var(--notion-border);border-radius:var(--notion-radius);font-size:14px;background:var(--notion-bg);color:var(--notion-text-primary)}.custom-categories-add[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue)}.custom-categories-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-wrap:wrap;gap:8px}.custom-category-item[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;background:var(--notion-bg-tertiary);border:1px solid var(--notion-border);border-radius:var(--notion-radius);font-size:13px;color:var(--notion-text-primary)}.custom-category-item[_ngcontent-%COMP%]   .custom-category-icon[_ngcontent-%COMP%]{font-size:14px}.custom-category-item[_ngcontent-%COMP%]   .custom-category-name[_ngcontent-%COMP%]{flex:1}.custom-categories-empty[_ngcontent-%COMP%]{font-size:12px;color:var(--notion-text-tertiary);margin:0}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 2px #667eea1a}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:20px}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid var(--notion-border);border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;transition:all 20ms ease-in 0s;background:transparent;color:var(--notion-text-primary);font-family:inherit}.btn[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.btn-primary[_ngcontent-%COMP%]{background:#667eea;color:#fff;border-color:#667eea}.btn-primary[_ngcontent-%COMP%]:hover{background:#5568d3;border-color:#5568d3}.btn-danger[_ngcontent-%COMP%]{background:#ff6b6b;color:#fff;border-color:#ff6b6b}.btn-danger[_ngcontent-%COMP%]:hover{background:#ee5a5a;border-color:#ee5a5a}.btn-small[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px}.dark-theme[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#ffffff14!important;border-color:#fff3!important;color:var(--notion-text-primary)!important}.dark-theme[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#ffffff26!important;border-color:#ffffff4d!important;color:var(--notion-text-primary)!important}.dark-theme[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background:var(--notion-red)!important;color:#fff!important;border-color:var(--notion-red)!important}.dark-theme[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626!important;color:#fff!important}.dark-theme[_ngcontent-%COMP%]   .bank-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2d2d2d,#252525)!important;border:1px solid rgba(255,255,255,.1);box-shadow:0 8px 24px #0006;color:#e0e0e0}.dark-theme[_ngcontent-%COMP%]   .bank-card[_ngcontent-%COMP%]:before{background:radial-gradient(circle at 20% 50%,rgba(255,255,255,.06) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(255,255,255,.04) 0%,transparent 50%)}.dark-theme[_ngcontent-%COMP%]   .bank-card.negative-balance[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3d2525,#2d1e1e)!important;border-color:#ff6b6b4d}.dark-theme[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]{background:#2d2d2d!important;border-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]:hover{background:#353535!important}.dark-theme[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#b0b0b0}.dark-theme[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#e0e0e0}.dark-theme[_ngcontent-%COMP%]   .expenses-by-category[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .expenses-by-category[_ngcontent-%COMP%]   .category-section-toggle[_ngcontent-%COMP%]{background:#2d2d2d!important;border-color:#ffffff1a;color:#e0e0e0}.dark-theme[_ngcontent-%COMP%]   .expenses-by-category[_ngcontent-%COMP%]   .category-section-toggle[_ngcontent-%COMP%]:hover{background:#353535!important}.dark-theme[_ngcontent-%COMP%]   .expenses-by-category[_ngcontent-%COMP%]   .category-dropdown-content[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{color:var(--notion-text-secondary)}.dark-theme[_ngcontent-%COMP%]   .expense-category-group[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .expense-category-group-toggle[_ngcontent-%COMP%]{background:#2d2d2d!important;border-color:#ffffff1a;color:#e0e0e0}.dark-theme[_ngcontent-%COMP%]   .expense-category-group-toggle[_ngcontent-%COMP%]:hover{background:#353535!important}.dark-theme[_ngcontent-%COMP%]   .expense-category-group-toggle[_ngcontent-%COMP%]   .group-toggle-total[_ngcontent-%COMP%]{color:#ff6b6b}.dark-theme[_ngcontent-%COMP%]   .expenses-by-category[_ngcontent-%COMP%]   .category-progress-bar[_ngcontent-%COMP%]{background:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .expenses-by-category[_ngcontent-%COMP%]   .category-progress-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#7c3aed,#8b5cf6)}.dark-theme[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]{background:#2d2d2d!important;border-color:#ffffff1a}.dark-theme[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .dark-theme[_ngcontent-%COMP%]   .suggestions-card[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#e0e0e0}.dark-theme[_ngcontent-%COMP%]   .month-selector-bar[_ngcontent-%COMP%]{background:var(--notion-bg-tertiary);border-color:var(--notion-border)}.dark-theme[_ngcontent-%COMP%]   .month-btn[_ngcontent-%COMP%]{background:#2d2d2d;border-color:#ffffff1a;color:#e0e0e0}.dark-theme[_ngcontent-%COMP%]   .month-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#353535;color:#fff}.expenses-list[_ngcontent-%COMP%], .salaries-list[_ngcontent-%COMP%], .budgets-list[_ngcontent-%COMP%], .savings-goals-list[_ngcontent-%COMP%]{display:grid;gap:14px}.category-badge[_ngcontent-%COMP%]{display:inline-block;padding:2px 8px;background:var(--notion-bg-tertiary);border-radius:6px;font-size:.7rem;font-weight:600;color:var(--notion-text-secondary);text-transform:uppercase;letter-spacing:.04em;margin-top:4px}.budget-progress[_ngcontent-%COMP%], .savings-progress[_ngcontent-%COMP%]{margin:12px 0 0}.progress-bar[_ngcontent-%COMP%]{width:100%;height:8px;background:var(--notion-bg-tertiary);border-radius:4px;overflow:hidden;margin-bottom:8px}.progress-fill[_ngcontent-%COMP%]{height:100%;background:#51cf66;transition:width .2s ease-in 0s;border-radius:4px}.progress-fill.over-budget[_ngcontent-%COMP%]{background:#ff6b6b}.budget-amounts[_ngcontent-%COMP%], .savings-amounts[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:13px;color:var(--notion-text-secondary)}.percentage[_ngcontent-%COMP%]{font-weight:600;color:var(--notion-text-primary)}.percentage.over-budget[_ngcontent-%COMP%]{color:#ff6b6b}.savings-actions[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:14px;flex-wrap:wrap}.savings-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px;border-radius:8px}.savings-actions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;min-width:100px;padding:8px 12px;border:1px solid var(--notion-border);border-radius:8px;font-size:14px;background:var(--notion-bg);color:var(--notion-text-primary)}.savings-adjust-hint[_ngcontent-%COMP%]{font-size:.85rem;color:var(--notion-text-secondary);margin:0 0 16px}.finance-meta.deadline[_ngcontent-%COMP%], .deadline[_ngcontent-%COMP%]{color:var(--notion-text-tertiary);font-size:.75rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;color:var(--notion-text-tertiary);font-size:14px;background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:12px}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]{padding:32px 16px!important}}@media (max-width: 480px){.empty-state[_ngcontent-%COMP%]{padding:24px 12px!important}}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}']})}}return r})();export{It as FinanceComponent};
