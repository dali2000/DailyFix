import{a as pe}from"./chunk-2K7JVC4Z.js";import{a as ie}from"./chunk-7LVI7NOT.js";import{a as ne}from"./chunk-UN7R5YRC.js";import{a as ae,b as re}from"./chunk-W7FJTF7K.js";import{a as se}from"./chunk-SRJQTDRU.js";import{a as oe}from"./chunk-DZCCJKFL.js";import{a as U,c as G,d as Y,e as Q,f as R,g as $,l as J,m as K,n as X,q as Z,t as ee}from"./chunk-AV73GBKR.js";import{$ as c,A as x,B as h,C as F,D as q,Da as W,Ea as j,K as n,Ka as A,L as S,O as u,P as y,Q as m,S as k,U as a,V as i,W as P,Z as b,_ as f,ca as I,cb as te,da as E,ea as C,fa as l,ga as g,ha as v,ia as D,ma as O,na as w,oa as M,qa as N,ra as L,sa as s,ta as p,w as z}from"./chunk-YCOLXJFA.js";import{a as H,b as V,c as B}from"./chunk-POLL2CVR.js";var le=()=>[];function ce(o,_){if(o&1){let e=b();a(0,"div",29)(1,"span"),l(2),i(),a(3,"button",30),s(4,"translate"),f("click",function(){x(e);let t=c();return h(t.errorMessage=null)}),l(5,"\xD7"),i()()}if(o&2){let e=c();n(2),g(e.errorMessage),n(),y("aria-label",p(4,2,"common.close"))}}function de(o,_){if(o&1){let e=b();a(0,"div",40),f("click",function(){let t=x(e).$implicit,d=c(2);return h(d.selectList(t))})("keydown.enter",function(){let t=x(e).$implicit,d=c(2);return h(d.selectList(t))})("keydown.space",function(t){let d=x(e).$implicit;return c(2).selectList(d),h(t.preventDefault())}),a(1,"span",41),l(2,"\u{1F6D2}"),i(),a(3,"span",42),l(4),i(),a(5,"span",43),P(6,"app-count-up",44),l(7),s(8,"translate"),i()()}if(o&2){let e=_.$implicit,r=c(2);k("active",(r.selectedList==null?null:r.selectedList.id)===e.id),n(4),g(e.name),n(2),m("value",(e.items||L(8,le)).length)("duration",400),n(),v(" ",p(8,6,"homeOrg.articles"),"")}}function me(o,_){if(o&1){let e=b();a(0,"app-empty-state",45),s(1,"translate"),s(2,"translate"),s(3,"translate"),f("action",function(){x(e);let t=c(2);return h(t.showShoppingForm=!0)}),i()}o&2&&m("title",p(1,3,"homeOrg.emptyListTitle"))("message",p(2,5,"homeOrg.emptyListMessage"))("actionText","+ "+p(3,7,"homeOrg.newList"))}function ge(o,_){o&1&&(a(0,"span",67),l(1),s(2,"translate"),i()),o&2&&(n(),g(p(2,1,"validation.required")))}function _e(o,_){if(o&1&&(a(0,"span",77),l(1),i()),o&2){let e=c().$implicit;n(),v("x",e.quantity,"")}}function xe(o,_){if(o&1&&(a(0,"div",78),l(1),i()),o&2){let e=c().$implicit,r=c(3);n(),g(r.getCategoryLabel(e.category))}}function he(o,_){if(o&1){let e=b();a(0,"div",68)(1,"div",69)(2,"input",70),f("change",function(){let t=x(e).$implicit,d=c(3);return h(d.toggleItemPurchase(d.selectedList.id,t.id))}),i(),P(3,"label",71),i(),a(4,"div",72)(5,"div",73)(6,"span",74),l(7),i(),u(8,_e,2,1,"span",75),i(),u(9,xe,2,1,"div",76),i()()}if(o&2){let e=_.$implicit;k("purchased",e.purchased),n(2),E("id","item-",e.id,""),m("checked",e.purchased),n(),E("for","item-",e.id,""),n(4),g(e.name),n(),m("ngIf",e.quantity),n(),m("ngIf",e.category)}}function ue(o,_){o&1&&(a(0,"div",79),l(1),s(2,"translate"),i()),o&2&&(n(),v(" ",p(2,1,"homeOrg.noItemsInList")," "))}function fe(o,_){if(o&1){let e=b();a(0,"div",46)(1,"div",47)(2,"h3"),l(3),i(),a(4,"button",48),s(5,"translate"),s(6,"translate"),f("click",function(){x(e);let t=c(2);return h(t.deleteShoppingList(t.selectedList.id))}),l(7,"\xD7"),i()(),a(8,"div",49)(9,"h4"),l(10),s(11,"translate"),i(),a(12,"form",50,0),f("ngSubmit",function(t){x(e);let d=c(2);return h(d.addItemToList(t))}),a(14,"div",51)(15,"input",52,1),s(17,"translate"),M("ngModelChange",function(t){x(e);let d=c(2);return w(d.newItem.name,t)||(d.newItem.name=t),h(t)}),i(),u(18,ge,3,3,"span",53),a(19,"input",54,2),s(21,"translate"),M("ngModelChange",function(t){x(e);let d=c(2);return w(d.newItem.quantity,t)||(d.newItem.quantity=t),h(t)}),i(),a(22,"select",55,3),M("ngModelChange",function(t){x(e);let d=c(2);return w(d.newItem.category,t)||(d.newItem.category=t),h(t)}),a(24,"option",56),l(25),s(26,"translate"),i(),a(27,"option",57),l(28),s(29,"translate"),i(),a(30,"option",58),l(31),s(32,"translate"),i(),a(33,"option",59),l(34),s(35,"translate"),i(),a(36,"option",60),l(37),s(38,"translate"),i(),a(39,"option",61),l(40),s(41,"translate"),i(),a(42,"option",62),l(43),s(44,"translate"),i()(),a(45,"button",63),l(46),s(47,"translate"),i()()()(),a(48,"div",64),u(49,he,10,10,"div",65)(50,ue,3,3,"div",66),i()()}if(o&2){let e=C(13),r=C(16),t=c(2);n(3),g(t.selectedList.name),n(),I("title",p(5,20,"common.delete")),y("aria-label",p(6,22,"common.delete")),n(6),g(p(11,24,"homeOrg.addArticle")),n(5),O("ngModel",t.newItem.name),m("placeholder",p(17,26,"homeOrg.articleNamePlaceholder")),n(3),m("ngIf",r.invalid&&(r.touched||e.submitted)),n(),O("ngModel",t.newItem.quantity),m("placeholder",p(21,28,"homeOrg.quantity")),n(3),O("ngModel",t.newItem.category),n(3),g(p(26,30,"common.category")),n(3),g(p(29,32,"homeOrg.fruitsVeg")),n(3),g(p(32,34,"homeOrg.dairy")),n(3),g(p(35,36,"homeOrg.meatFish")),n(3),g(p(38,38,"homeOrg.bakery")),n(3),g(p(41,40,"homeOrg.beverages")),n(3),g(p(44,42,"finance.other")),n(3),g(p(47,44,"common.add")),n(3),m("ngForOf",t.selectedList.items||L(46,le)),n(),m("ngIf",!t.selectedList.items||t.selectedList.items.length===0)}}function be(o,_){o&1&&(a(0,"div",80)(1,"p"),l(2),s(3,"translate"),i()()),o&2&&(n(2),g(p(3,1,"common.noData")))}function ve(o,_){if(o&1){let e=b();a(0,"div",31)(1,"div",32)(2,"h2"),l(3),s(4,"translate"),i(),a(5,"button",33),f("click",function(){x(e);let t=c();return h(t.showShoppingForm=!0)}),l(6),s(7,"translate"),i()(),a(8,"div",34)(9,"div",35)(10,"h3"),l(11),s(12,"translate"),i(),u(13,de,9,9,"div",36)(14,me,4,9,"app-empty-state",37),i(),u(15,fe,51,47,"div",38)(16,be,4,3,"div",39),i()()}if(o&2){let e=c();n(3),g(p(4,7,"homeOrg.shoppingLists")),n(3),v("+ ",p(7,9,"homeOrg.newList"),""),n(5),g(p(12,11,"homeOrg.myLists")),n(2),m("ngForOf",e.shoppingLists),n(),m("ngIf",e.shoppingLists.length===0),n(),m("ngIf",e.selectedList),n(),m("ngIf",!e.selectedList&&e.shoppingLists.length>0)}}function Ce(o,_){if(o&1&&(a(0,"p"),l(1),i()),o&2){let e=c().$implicit;n(),g(e.description)}}function Oe(o,_){if(o&1&&(a(0,"span",94),l(1),s(2,"translate"),i()),o&2){let e=c().$implicit,r=c(3);n(),D(" ",p(2,2,"homeOrg.nextDue"),": ",r.formatDate(e.nextDueDate)," ")}}function we(o,_){if(o&1){let e=b();a(0,"div",87),P(1,"div",88),a(2,"input",70),f("change",function(){let t=x(e).$implicit,d=c(3);return h(d.toggleTaskComplete(t))}),i(),a(3,"div",89)(4,"h4"),l(5),i(),u(6,Ce,2,1,"p",90),a(7,"div",91)(8,"span",92),l(9),i(),u(10,Oe,3,4,"span",93),i()(),a(11,"button",48),s(12,"translate"),s(13,"translate"),f("click",function(){let t=x(e).$implicit,d=c(3);return h(d.deleteHouseholdTask(t.id))}),l(14,"\xD7"),i()()}if(o&2){let e=_.$implicit,r=c(3);n(2),m("checked",e.completed)("id","task-up-"+e.id),y("aria-label",e.name),n(3),g(e.name),n(),m("ngIf",e.description),n(3),g(r.getFrequencyLabel(e.frequency)),n(),m("ngIf",e.nextDueDate),n(),I("title",p(12,9,"common.delete")),y("aria-label",p(13,11,"common.delete"))}}function Me(o,_){if(o&1&&(a(0,"div",85),u(1,we,15,13,"div",86),i()),o&2){let e=c(2);n(),m("ngForOf",e.getUpcomingTasks())}}function ye(o,_){if(o&1){let e=b();a(0,"app-empty-state",95),s(1,"translate"),s(2,"translate"),s(3,"translate"),f("action",function(){x(e);let t=c(2);return h(t.showTaskForm=!0)}),i()}o&2&&m("title",p(1,3,"homeOrg.emptyTasksTitle"))("message",p(2,5,"homeOrg.emptyTasksMessage"))("actionText","+ "+p(3,7,"homeOrg.newHouseholdTask"))}function ke(o,_){if(o&1&&(a(0,"p"),l(1),i()),o&2){let e=c().$implicit;n(),g(e.description)}}function Pe(o,_){if(o&1&&(a(0,"span",99),l(1),s(2,"translate"),i()),o&2){let e=c().$implicit,r=c(3);n(),D(" ",p(2,2,"homeOrg.lastCompleted"),": ",r.formatDate(e.lastCompleted)," ")}}function Te(o,_){if(o&1){let e=b();a(0,"div",87),P(1,"div",88),a(2,"input",70),f("change",function(){let t=x(e).$implicit,d=c(3);return h(d.toggleTaskComplete(t))}),i(),a(3,"div",89)(4,"h4"),l(5),i(),u(6,ke,2,1,"p",90),a(7,"div",91)(8,"span",92),l(9),i(),u(10,Pe,3,4,"span",98),i()(),a(11,"button",48),s(12,"translate"),s(13,"translate"),f("click",function(){let t=x(e).$implicit,d=c(3);return h(d.deleteHouseholdTask(t.id))}),l(14,"\xD7"),i()()}if(o&2){let e=_.$implicit,r=c(3);k("completed",e.completed),n(2),m("checked",e.completed)("id","task-"+e.id),y("aria-label",e.name),n(3),g(e.name),n(),m("ngIf",e.description),n(3),g(r.getFrequencyLabel(e.frequency)),n(),m("ngIf",e.lastCompleted),n(),I("title",p(12,11,"common.delete")),y("aria-label",p(13,13,"common.delete"))}}function Se(o,_){if(o&1&&(a(0,"div",96)(1,"h3"),l(2),s(3,"translate"),i(),a(4,"div",85),u(5,Te,15,15,"div",97),i()()),o&2){let e=c(2);n(2),g(p(3,2,"homeOrg.householdTasks")),n(3),m("ngForOf",e.householdTasks)}}function Ie(o,_){if(o&1){let e=b();a(0,"div",31)(1,"div",32)(2,"h2"),l(3),s(4,"translate"),i(),a(5,"button",33),f("click",function(){x(e);let t=c();return h(t.showTaskForm=!0)}),l(6),s(7,"translate"),i()(),a(8,"div",81)(9,"h3"),l(10),s(11,"translate"),i(),u(12,Me,2,1,"div",82)(13,ye,4,9,"app-empty-state",83),i(),u(14,Se,6,4,"div",84),i()}if(o&2){let e=c();n(3),g(p(4,6,"homeOrg.householdTasks")),n(3),v("+ ",p(7,8,"homeOrg.newHouseholdTask"),""),n(4),g(p(11,10,"homeOrg.upcomingTasks")),n(2),m("ngIf",e.getUpcomingTasks().length>0),n(),m("ngIf",e.getUpcomingTasks().length===0&&e.householdTasks.length===0),n(),m("ngIf",e.householdTasks.length>0)}}function Ee(o,_){o&1&&(a(0,"div",105)(1,"p"),l(2),s(3,"translate"),i(),a(4,"small"),l(5),s(6,"translate"),i()()),o&2&&(n(2),g(p(3,2,"homeOrg.assistantUnavailable")),n(3),g(p(6,4,"homeOrg.assistantUnavailableHint")))}function De(o,_){if(o&1&&(a(0,"div",114)(1,"div",115)(2,"span",116),l(3),s(4,"translate"),i(),P(5,"div",117),i()()),o&2){let e=_.$implicit;k("chat-row-user",e.role==="user")("chat-row-bot",e.role==="model"),n(),k("chat-bubble-user",e.role==="user")("chat-bubble-bot",e.role==="model"),n(2),g(e.role==="user"?p(4,10,"health.you"):"Gemini"),n(2),m("innerText",e.text)}}function Le(o,_){o&1&&(a(0,"div",118)(1,"div",119)(2,"span",116),l(3,"Gemini"),i(),a(4,"div",120),l(5),s(6,"translate"),i()()()),o&2&&(n(5),v("",p(6,1,"common.loading"),"..."))}function He(o,_){if(o&1&&(a(0,"p",121),l(1),s(2,"translate"),i()),o&2){let e=c(3);n(),g(p(2,1,e.houseChatError))}}function Ve(o,_){if(o&1){let e=b();a(0,"div",106)(1,"div",107),u(2,De,6,12,"div",108)(3,Le,7,3,"div",109),i(),u(4,He,3,3,"p",110),a(5,"form",111),f("ngSubmit",function(){x(e);let t=c(2);return h(t.sendHouseholdChatMessage())}),a(6,"input",112),s(7,"translate"),M("ngModelChange",function(t){x(e);let d=c(2);return w(d.houseChatInput,t)||(d.houseChatInput=t),h(t)}),i(),a(8,"button",113),l(9),s(10,"translate"),i()()()}if(o&2){let e=c(2);n(2),m("ngForOf",e.houseChatMessages),n(),m("ngIf",e.houseChatLoading),n(),m("ngIf",e.houseChatError),n(2),O("ngModel",e.houseChatInput),m("placeholder",p(7,8,"homeOrg.assistantPlaceholder"))("disabled",e.houseChatLoading),n(2),m("disabled",e.houseChatLoading||!e.houseChatInput.trim()),n(),v(" ",p(10,10,"health.send")," ")}}function Be(o,_){if(o&1){let e=b();a(0,"div",100)(1,"div",101)(2,"h3"),l(3),s(4,"translate"),i(),a(5,"button",102),f("click",function(){x(e);let t=c();return h(t.houseChatOpen=!1)}),l(6,"\xD7"),i()(),u(7,Ee,7,6,"div",103)(8,Ve,11,12,"div",104),i()}if(o&2){let e=c();n(3),g(p(4,3,"homeOrg.assistantTitle")),n(4),m("ngIf",!e.geminiAvailable),n(),m("ngIf",e.geminiAvailable)}}function ze(o,_){o&1&&(a(0,"span",128),l(1),s(2,"translate"),i()),o&2&&(n(),g(p(2,1,"validation.required")))}function Fe(o,_){if(o&1){let e=b();a(0,"app-modal",122),s(1,"translate"),f("closeModal",function(){x(e);let t=c();return h(t.closeShoppingModal())}),a(2,"form",50,4),f("ngSubmit",function(){x(e);let t=c();return h(t.createShoppingList())}),a(4,"div",123)(5,"label"),l(6),s(7,"translate"),i(),a(8,"input",124,5),M("ngModelChange",function(t){x(e);let d=c();return w(d.newListName,t)||(d.newListName=t),h(t)}),i(),u(10,ze,3,3,"span",125),i(),a(11,"div",126)(12,"button",127),f("click",function(){x(e);let t=c();return h(t.closeShoppingModal())}),l(13),s(14,"translate"),i(),a(15,"button",63),l(16),s(17,"translate"),i()()()()}if(o&2){let e=C(3),r=C(9),t=c();m("title",p(1,6,"homeOrg.newList")),n(6),v("",p(7,8,"common.name")," *"),n(2),O("ngModel",t.newListName),n(2),m("ngIf",r.invalid&&(r.touched||e.submitted)),n(3),g(p(14,10,"common.cancel")),n(3),g(p(17,12,"common.create"))}}function qe(o,_){o&1&&(a(0,"span",128),l(1),s(2,"translate"),i()),o&2&&(n(),g(p(2,1,"validation.required")))}function Ne(o,_){o&1&&(a(0,"span",128),l(1),s(2,"translate"),i()),o&2&&(n(),g(p(2,1,"validation.required")))}function We(o,_){o&1&&(a(0,"span",128),l(1),s(2,"translate"),i()),o&2&&(n(),g(p(2,1,"validation.required")))}function je(o,_){o&1&&(a(0,"span",128),l(1),s(2,"translate"),i()),o&2&&(n(),g(p(2,1,"validation.required")))}function Ae(o,_){if(o&1){let e=b();a(0,"div",123)(1,"label"),l(2),s(3,"translate"),i(),a(4,"input",138,10),M("ngModelChange",function(t){x(e);let d=c(2);return w(d.newTask.dueDate,t)||(d.newTask.dueDate=t),h(t)}),i(),u(6,je,3,3,"span",125),i()}if(o&2){let e=C(5);c();let r=C(3),t=c();n(2),g(p(3,3,"tasks.dueDate")),n(2),O("ngModel",t.newTask.dueDate),n(2),m("ngIf",e.invalid&&(e.touched||r.submitted))}}function Ue(o,_){if(o&1){let e=b();a(0,"app-modal",129),s(1,"translate"),f("closeModal",function(){x(e);let t=c();return h(t.closeTaskModal())}),a(2,"form",50,6),f("ngSubmit",function(){x(e);let t=c();return h(t.addHouseholdTask())}),a(4,"div",123)(5,"label"),l(6),s(7,"translate"),i(),a(8,"input",130,7),M("ngModelChange",function(t){x(e);let d=c();return w(d.newTask.name,t)||(d.newTask.name=t),h(t)}),i(),u(10,qe,3,3,"span",125),i(),a(11,"div",123)(12,"label"),l(13),s(14,"translate"),i(),a(15,"textarea",131,8),M("ngModelChange",function(t){x(e);let d=c();return w(d.newTask.description,t)||(d.newTask.description=t),h(t)}),i(),u(17,Ne,3,3,"span",125),i(),a(18,"div",51)(19,"div",123)(20,"label"),l(21),s(22,"translate"),i(),a(23,"select",132,9),M("ngModelChange",function(t){x(e);let d=c();return w(d.newTask.frequency,t)||(d.newTask.frequency=t),h(t)}),a(25,"option",133),l(26),s(27,"translate"),i(),a(28,"option",134),l(29),s(30,"translate"),i(),a(31,"option",135),l(32),s(33,"translate"),i(),a(34,"option",136),l(35),s(36,"translate"),i()(),u(37,We,3,3,"span",125),i(),u(38,Ae,7,5,"div",137),i(),a(39,"div",126)(40,"button",127),f("click",function(){x(e);let t=c();return h(t.closeTaskModal())}),l(41),s(42,"translate"),i(),a(43,"button",63),l(44),s(45,"translate"),i()()()()}if(o&2){let e=C(3),r=C(9),t=C(16),d=C(24),T=c();m("title",p(1,17,"homeOrg.newHouseholdTask")),n(6),v("",p(7,19,"homeOrg.taskNamePlaceholder")," *"),n(2),O("ngModel",T.newTask.name),n(2),m("ngIf",r.invalid&&(r.touched||e.submitted)),n(3),g(p(14,21,"common.description")),n(2),O("ngModel",T.newTask.description),n(2),m("ngIf",t.invalid&&(t.touched||e.submitted)),n(4),g(p(22,23,"common.period")),n(2),O("ngModel",T.newTask.frequency),n(3),g(p(27,25,"homeOrg.daily")),n(3),g(p(30,27,"common.weekly")),n(3),g(p(33,29,"common.monthly")),n(3),g(p(36,31,"homeOrg.oneTime")),n(2),m("ngIf",d.invalid&&(d.touched||e.submitted)),n(),m("ngIf",T.newTask.frequency==="one-time"),n(3),g(p(42,33,"common.cancel")),n(3),g(p(45,35,"common.create"))}}var ot=(()=>{class o{constructor(e,r,t){this.homeService=e,this.geminiService=r,this.toastService=t,this.activeTab="shopping",this.shoppingLists=[],this.householdTasks=[],this.showShoppingForm=!1,this.showTaskForm=!1,this.selectedList=null,this.errorMessage=null,this.showDeleteListConfirm=!1,this.showDeleteTaskConfirm=!1,this.itemToDelete=null,this.newListName="",this.newItem={},this.newTask={frequency:"weekly"},this.houseChatOpen=!1,this.houseChatMessages=[],this.houseChatInput="",this.houseChatLoading=!1,this.houseChatError=null}get geminiAvailable(){return this.geminiService.isAvailable()}ngOnInit(){this.loadData()}ngOnDestroy(){}loadData(){this.homeService.getShoppingListsObservable().subscribe({next:e=>{this.shoppingLists=e,this.selectedList&&(this.selectedList=this.shoppingLists.find(r=>r.id===this.selectedList.id)||null)},error:e=>console.error("Error loading shopping lists:",e)}),this.homeService.getHouseholdTasksObservable().subscribe({next:e=>{this.householdTasks=e},error:e=>console.error("Error loading household tasks:",e)})}closeShoppingModal(){this.showShoppingForm=!1,this.newListName=""}closeTaskModal(){this.showTaskForm=!1,this.newTask={frequency:"weekly"}}createShoppingList(){this.newListName.trim()&&this.homeService.addShoppingList({name:this.newListName,items:[],completed:!1}).subscribe({next:e=>{this.errorMessage=null,this.selectedList=e,this.newListName="",this.showShoppingForm=!1,this.loadData(),this.toastService.success("Liste cr\xE9\xE9e")},error:e=>{let r=e?.error?.message||e?.message||"Erreur lors de la cr\xE9ation de la liste";this.errorMessage=r,this.toastService.error(r)}})}selectList(e){this.selectedList=V(H({},e),{items:e.items||[]})}addItemToList(e){if(e&&e.preventDefault(),!this.selectedList||!this.newItem.name){console.warn("Cannot add item: selectedList or item name missing",{selectedList:this.selectedList,itemName:this.newItem.name});return}console.log("Adding item to list:",this.selectedList.id,this.newItem),this.homeService.addItemToList(this.selectedList.id,{name:this.newItem.name.trim(),quantity:this.newItem.quantity,category:this.newItem.category,purchased:!1,priority:this.newItem.priority||"medium"}).subscribe({next:r=>{this.errorMessage=null,this.selectedList=r,this.newItem={},this.loadData(),this.toastService.success("Article ajout\xE9")},error:r=>{let t=r?.error?.message||r?.message||"Erreur lors de l'ajout de l'article";this.errorMessage=t,this.toastService.error(t)}})}toggleItemPurchase(e,r){this.homeService.toggleItemPurchase(e,r).subscribe({next:t=>{this.errorMessage=null,this.selectedList&&this.selectedList.id===e&&(this.selectedList=t),this.loadData()},error:t=>{let d=t?.error?.message||t?.message||"Erreur lors de la mise \xE0 jour";this.toastService.error(d)}})}deleteShoppingList(e){this.itemToDelete=e,this.showDeleteListConfirm=!0}confirmDeleteList(){this.itemToDelete&&this.homeService.deleteShoppingList(this.itemToDelete).subscribe({next:()=>{this.selectedList?.id===this.itemToDelete&&(this.selectedList=null),this.loadData(),this.toastService.success("Liste supprim\xE9e"),this.showDeleteListConfirm=!1,this.itemToDelete=null},error:e=>{this.toastService.error(e?.error?.message||e?.message||"Erreur"),this.showDeleteListConfirm=!1}})}cancelDeleteList(){this.showDeleteListConfirm=!1,this.itemToDelete=null}addHouseholdTask(){this.newTask.name&&this.homeService.addHouseholdTask({name:this.newTask.name,description:this.newTask.description,frequency:this.newTask.frequency||"weekly",dueDate:this.newTask.dueDate?new Date(this.newTask.dueDate):void 0,completed:!1}).subscribe({next:()=>{this.showTaskForm=!1,this.newTask={frequency:"weekly"},this.loadData(),this.toastService.success("T\xE2che cr\xE9\xE9e")},error:e=>this.toastService.error(e?.error?.message||e?.message||"Erreur")})}toggleTaskComplete(e){this.homeService.updateHouseholdTask(e.id,{completed:!e.completed}).subscribe({next:()=>{this.loadData()}})}deleteHouseholdTask(e){this.itemToDelete=e,this.showDeleteTaskConfirm=!0}confirmDeleteTask(){this.itemToDelete&&this.homeService.deleteHouseholdTask(this.itemToDelete).subscribe({next:()=>{this.loadData(),this.toastService.success("T\xE2che supprim\xE9e"),this.showDeleteTaskConfirm=!1,this.itemToDelete=null},error:e=>{this.toastService.error(e?.error?.message||e?.message||"Erreur"),this.showDeleteTaskConfirm=!1}})}cancelDeleteTask(){this.showDeleteTaskConfirm=!1,this.itemToDelete=null}getUpcomingTasks(){return this.homeService.getUpcomingHouseholdTasks()}formatDate(e){return e?new Date(e).toLocaleDateString("fr-FR"):""}getCategoryLabel(e){return{fruits:"Fruits & L\xE9gumes",dairy:"Produits laitiers",meat:"Viande & Poisson",bakery:"Boulangerie",beverages:"Boissons",other:"Autre"}[e]||e}getFrequencyLabel(e){return{daily:"Quotidienne",weekly:"Hebdomadaire",monthly:"Mensuelle","one-time":"Unique"}[e]||e}sendHouseholdChatMessage(){return B(this,null,function*(){let e=(this.houseChatInput||"").trim();if(!(!e||this.houseChatLoading||!this.geminiAvailable)){this.houseChatError=null,this.houseChatMessages.push({role:"user",text:e}),this.houseChatInput="",this.houseChatLoading=!0;try{let r=yield this.geminiService.sendHouseholdMessage(e,this.houseChatMessages.slice(0,-1));this.houseChatMessages.push({role:"model",text:r})}catch(r){this.houseChatError=r instanceof Error?r.message:"common.error"}finally{this.houseChatLoading=!1}}})}static{this.\u0275fac=function(r){return new(r||o)(S(ne),S(ie),S(se))}}static{this.\u0275cmp=z({type:o,selectors:[["app-home-org"]],standalone:!0,features:[N],decls:41,vars:49,consts:[["addItemForm","ngForm"],["itemName","ngModel"],["itemQuantity","ngModel"],["itemCategory","ngModel"],["shoppingListForm","ngForm"],["listName","ngModel"],["taskForm","ngForm"],["taskName","ngModel"],["taskDesc","ngModel"],["taskFrequency","ngModel"],["taskDueDate","ngModel"],[1,"home-org-page"],[1,"page-header"],[1,"page-header-inner"],["aria-hidden","true",1,"page-header-icon"],[1,"page-header-sub"],["class","alert alert-error",4,"ngIf"],["role","tablist",1,"page-tabs"],["type","button","role","tab",3,"click"],[1,"tab-icon"],["class","tab-content tab-content-animate","role","tabpanel",4,"ngIf"],[1,"quick-actions"],["type","button","aria-label","Id\xE9es repas",1,"quick-action-btn","quick-action-meal",3,"click","title"],["width","22","height","22","viewBox","0 0 24 24","fill","currentColor","aria-hidden","true"],["d","M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8h2.5V14H21V6h-5z"],["class","chatbot-panel chatbot-panel-floating",4,"ngIf"],["size","sm",3,"title","closeModal",4,"ngIf"],["size","md",3,"title","closeModal",4,"ngIf"],["type","danger",3,"confirmed","cancelled","isOpen","title","message","confirmText"],[1,"alert","alert-error"],["type","button",1,"alert-close",3,"click"],["role","tabpanel",1,"tab-content","tab-content-animate"],[1,"section-header"],["type","button",1,"btn","btn-primary","btn-add",3,"click"],[1,"shopping-lists-container"],[1,"lists-sidebar"],["class","list-item","role","button","tabindex","0",3,"active","click","keydown.enter","keydown.space",4,"ngFor","ngForOf"],["icon","\u{1F6D2}",3,"title","message","actionText","action",4,"ngIf"],["class","list-details card-panel",4,"ngIf"],["class","no-selection",4,"ngIf"],["role","button","tabindex","0",1,"list-item",3,"click","keydown.enter","keydown.space"],[1,"list-item-icon"],[1,"list-item-name"],[1,"item-count"],[3,"value","duration"],["icon","\u{1F6D2}",3,"action","title","message","actionText"],[1,"list-details","card-panel"],[1,"list-header"],["type","button",1,"btn-icon","btn-icon-danger",3,"click","title"],[1,"add-item-form"],[3,"ngSubmit"],[1,"form-row"],["type","text","name","itemName","required","",3,"ngModelChange","ngModel","placeholder"],["class","field-error field-error-inline",4,"ngIf"],["type","text","name","quantity",3,"ngModelChange","ngModel","placeholder"],["name","category",3,"ngModelChange","ngModel"],["value",""],["value","fruits"],["value","dairy"],["value","meat"],["value","bakery"],["value","beverages"],["value","other"],["type","submit",1,"btn","btn-primary"],[1,"items-list"],["class","item-card",3,"purchased",4,"ngFor","ngForOf"],["class","empty-state-inline",4,"ngIf"],[1,"field-error","field-error-inline"],[1,"item-card"],[1,"item-checkbox"],["type","checkbox",3,"change","checked","id"],[1,"checkbox-label",3,"for"],[1,"item-content"],[1,"item-main"],[1,"item-name"],["class","item-quantity",4,"ngIf"],["class","item-category",4,"ngIf"],[1,"item-quantity"],[1,"item-category"],[1,"empty-state-inline"],[1,"no-selection"],[1,"upcoming-tasks-section"],["class","tasks-list",4,"ngIf"],["icon","\u{1F9F9}",3,"title","message","actionText","action",4,"ngIf"],["class","all-tasks-section",4,"ngIf"],[1,"tasks-list"],["class","task-card task-card-accent",4,"ngFor","ngForOf"],[1,"task-card","task-card-accent"],[1,"task-card-accent-bar"],[1,"task-info"],[4,"ngIf"],[1,"task-meta"],[1,"frequency"],["class","due-date",4,"ngIf"],[1,"due-date"],["icon","\u{1F9F9}",3,"action","title","message","actionText"],[1,"all-tasks-section"],["class","task-card task-card-accent",3,"completed",4,"ngFor","ngForOf"],["class","last-completed",4,"ngIf"],[1,"last-completed"],[1,"chatbot-panel","chatbot-panel-floating"],[1,"chatbot-panel-header"],["type","button","aria-label","Fermer",1,"chatbot-close",3,"click"],["class","chatbot-unavailable",4,"ngIf"],["class","chatbot-body",4,"ngIf"],[1,"chatbot-unavailable"],[1,"chatbot-body"],[1,"chatbot-messages"],["class","chat-row",3,"chat-row-user","chat-row-bot",4,"ngFor","ngForOf"],["class","chat-row chat-row-bot",4,"ngIf"],["class","chat-error",4,"ngIf"],[1,"chatbot-form",3,"ngSubmit"],["type","text","name","houseChatInput",1,"chat-input",3,"ngModelChange","ngModel","placeholder","disabled"],["type","submit",1,"btn","btn-primary","chat-send",3,"disabled"],[1,"chat-row"],[1,"chat-bubble"],[1,"chat-bubble-label"],[1,"chat-bubble-text",3,"innerText"],[1,"chat-row","chat-row-bot"],[1,"chat-bubble","chat-bubble-bot","chat-bubble-loading"],[1,"chat-bubble-text"],[1,"chat-error"],["size","sm",3,"closeModal","title"],[1,"form-group"],["type","text","name","listName","required","",3,"ngModelChange","ngModel"],["class","field-error",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"field-error"],["size","md",3,"closeModal","title"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],["name","description","rows","2",3,"ngModelChange","ngModel"],["name","frequency",3,"ngModelChange","ngModel"],["value","daily"],["value","weekly"],["value","monthly"],["value","one-time"],["class","form-group",4,"ngIf"],["type","date","name","dueDate",3,"ngModelChange","ngModel"]],template:function(r,t){r&1&&(a(0,"div",11)(1,"header",12)(2,"div",13)(3,"span",14),l(4,"\u{1F3E0}"),i(),a(5,"h1"),l(6),s(7,"translate"),i(),a(8,"p",15),l(9),s(10,"translate"),i()()(),u(11,ce,6,4,"div",16),a(12,"nav",17)(13,"button",18),f("click",function(){return t.activeTab="shopping"}),a(14,"span",19),l(15,"\u{1F6D2}"),i(),l(16),s(17,"translate"),i(),a(18,"button",18),f("click",function(){return t.activeTab="tasks"}),a(19,"span",19),l(20,"\u{1F9F9}"),i(),l(21),s(22,"translate"),i()(),u(23,ve,17,13,"div",20)(24,Ie,15,12,"div",20),a(25,"div",21)(26,"button",22),s(27,"translate"),f("click",function(){return t.houseChatOpen=!t.houseChatOpen}),F(),a(28,"svg",23),P(29,"path",24),i()()(),u(30,Be,9,5,"div",25)(31,Fe,18,14,"app-modal",26)(32,Ue,46,37,"app-modal",27),q(),a(33,"app-confirm-dialog",28),s(34,"translate"),s(35,"translate"),s(36,"translate"),f("confirmed",function(){return t.confirmDeleteList()})("cancelled",function(){return t.cancelDeleteList()}),i(),a(37,"app-confirm-dialog",28),s(38,"translate"),s(39,"translate"),s(40,"translate"),f("confirmed",function(){return t.confirmDeleteTask()})("cancelled",function(){return t.cancelDeleteTask()}),i()()),r&2&&(n(6),g(p(7,27,"homeOrg.title")),n(3),g(p(10,29,"homeOrg.subtitle")),n(2),m("ngIf",t.errorMessage),n(2),k("active",t.activeTab==="shopping"),y("aria-selected",t.activeTab==="shopping"),n(3),v("",p(17,31,"homeOrg.shoppingLists")," "),n(2),k("active",t.activeTab==="tasks"),y("aria-selected",t.activeTab==="tasks"),n(3),v("",p(22,33,"homeOrg.householdTasks")," "),n(2),m("ngIf",t.activeTab==="shopping"),n(),m("ngIf",t.activeTab==="tasks"),n(2),k("is-open",t.houseChatOpen),m("title",p(27,35,"homeOrg.assistant")),n(4),m("ngIf",t.houseChatOpen),n(),m("ngIf",t.showShoppingForm),n(),m("ngIf",t.showTaskForm),n(),m("isOpen",t.showDeleteListConfirm)("title",p(34,37,"common.delete"))("message",p(35,39,"homeOrg.confirmDeleteList"))("confirmText",p(36,41,"common.delete")),n(4),m("isOpen",t.showDeleteTaskConfirm)("title",p(38,43,"common.delete"))("message",p(39,45,"homeOrg.confirmDeleteTask"))("confirmText",p(40,47,"common.delete")))},dependencies:[A,W,j,ee,$,K,X,U,J,G,Y,Z,R,Q,oe,te,ae,re,pe],styles:[".home-org-page[_ngcontent-%COMP%]{padding:32px 24px 80px;width:100%;max-width:1100px;margin:0 auto;background:var(--notion-bg-secondary);min-height:calc(100vh - 52px);overflow-x:hidden;box-sizing:border-box}.page-header[_ngcontent-%COMP%]{margin-bottom:20px}.page-header-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.page-header-icon[_ngcontent-%COMP%]{font-size:2rem;line-height:1;margin-bottom:4px}.home-org-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--notion-text-primary);margin:0;letter-spacing:-.03em;line-height:1.2}.page-header-sub[_ngcontent-%COMP%]{font-size:.95rem;color:var(--notion-text-secondary);margin:0}.page-tabs[_ngcontent-%COMP%]{display:flex;gap:4px;margin-bottom:24px;background:var(--notion-bg);padding:6px;border-radius:14px;border:1px solid var(--notion-border);box-shadow:var(--notion-shadow-sm);width:100%;max-width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;flex-wrap:nowrap}.page-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border:none;background:transparent;cursor:pointer;font-size:14px;font-weight:500;color:var(--notion-text-secondary);border-radius:10px;transition:background .2s ease,color .2s ease;font-family:inherit;white-space:nowrap;flex-shrink:0}.page-tabs[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9}.page-tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);color:var(--notion-text-primary)}.page-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--active-tab-bg);color:var(--active-tab-color);box-shadow:var(--notion-shadow-sm)}.page-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   .tab-icon[_ngcontent-%COMP%]{opacity:1}.dark-theme[_ngcontent-%COMP%]   .page-tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.1);box-shadow:0 1px 2px #0003}.tab-content[_ngcontent-%COMP%]{margin-top:0}.tab-content-animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .35s ease-out}.btn-add[_ngcontent-%COMP%]{padding:8px 16px;border-radius:10px;font-weight:500}.list-item-icon[_ngcontent-%COMP%]{font-size:1.1rem;flex-shrink:0}.list-item-name[_ngcontent-%COMP%]{flex:1;min-width:0}.task-card-accent[_ngcontent-%COMP%]{position:relative;overflow:hidden}.task-card-accent-bar[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;width:4px;background:var(--notion-green);border-radius:4px 0 0 4px}.card-panel[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:14px;box-shadow:var(--notion-shadow-sm)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}.empty-state-inline[_ngcontent-%COMP%]{text-align:center;padding:24px 16px;color:var(--notion-text-tertiary);font-size:14px;background:var(--notion-bg-tertiary);border-radius:var(--notion-radius);border:1px dashed var(--notion-border)}.alert[_ngcontent-%COMP%]{padding:1rem 1.25rem;margin-bottom:1rem;border-radius:var(--notion-radius);display:flex;justify-content:space-between;align-items:center;gap:1rem}.alert-error[_ngcontent-%COMP%]{background:var(--notion-red-bg);color:var(--notion-red);border:1px solid var(--notion-red)}.alert-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;opacity:.8;line-height:1;padding:0 .25rem}@media (max-width: 1200px){.home-org-page[_ngcontent-%COMP%]{padding:48px}}@media (max-width: 1024px){.home-org-page[_ngcontent-%COMP%]{padding:32px}}@media (max-width: 768px){.home-org-page[_ngcontent-%COMP%]{padding:24px 16px!important}.home-org-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;word-break:break-word}.tabs[_ngcontent-%COMP%]{width:100%!important;overflow-x:auto;-webkit-overflow-scrolling:touch;flex-wrap:nowrap}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap;padding:6px 10px;font-size:13px;flex-shrink:0}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.section-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.shopping-lists-container[_ngcontent-%COMP%]{grid-template-columns:1fr!important;gap:16px}.lists-sidebar[_ngcontent-%COMP%]{max-height:250px;order:2;overflow-y:auto;width:100%}.list-details[_ngcontent-%COMP%]{order:1;padding:16px!important;width:100%;overflow-x:hidden;box-sizing:border-box}.list-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px;padding-bottom:12px}.list-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;word-break:break-word;width:100%}.list-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.add-item-form[_ngcontent-%COMP%]{padding:12px;margin-bottom:16px}.add-item-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:13px;margin-bottom:10px}.form-row[_ngcontent-%COMP%]{flex-direction:column!important;gap:8px;width:100%}.form-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%!important;min-width:0!important;flex:none!important}.form-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.items-list[_ngcontent-%COMP%]{gap:6px}.item-card[_ngcontent-%COMP%]{padding:10px 12px;gap:10px}.item-content[_ngcontent-%COMP%]{gap:4px}.item-main[_ngcontent-%COMP%]{gap:6px}.item-name[_ngcontent-%COMP%]{font-size:13px}.item-quantity[_ngcontent-%COMP%]{font-size:12px;padding:2px 5px}.item-category[_ngcontent-%COMP%]{font-size:10px;padding:3px 8px}.no-selection[_ngcontent-%COMP%]{padding:32px 16px!important;text-align:center;word-break:break-word}.task-card[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.task-info[_ngcontent-%COMP%]{width:100%}.task-meta[_ngcontent-%COMP%]{flex-direction:column;gap:4px}.task-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.home-org-page[_ngcontent-%COMP%]{padding:16px 12px!important}.home-org-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.45rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px}.form-card[_ngcontent-%COMP%]{padding:16px}.lists-sidebar[_ngcontent-%COMP%]{max-height:200px;padding:12px}.list-item[_ngcontent-%COMP%]{padding:8px;font-size:13px}.list-details[_ngcontent-%COMP%]{padding:12px!important}.list-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}.add-item-form[_ngcontent-%COMP%]{padding:10px}.item-card[_ngcontent-%COMP%]{padding:8px;font-size:13px}.item-name[_ngcontent-%COMP%]{font-size:13px}.no-selection[_ngcontent-%COMP%]{padding:24px 12px!important}}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:12px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--notion-text-primary);margin:0;letter-spacing:-.02em}.form-card[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);padding:24px;border-radius:var(--notion-radius);margin-bottom:24px}.form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--notion-text-primary);margin:0 0 16px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-weight:500;color:var(--notion-text-secondary);font-size:12px;text-transform:uppercase;letter-spacing:.5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:1px solid var(--notion-border);border-radius:var(--notion-radius);font-size:14px;transition:border-color 20ms ease-in 0s;font-family:inherit}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue);box-shadow:0 0 0 1px var(--notion-blue)}.form-row[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.form-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;min-width:120px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:20px}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:0!important;width:100%!important}}.btn[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid var(--notion-border);border-radius:var(--notion-radius);cursor:pointer;font-size:14px;font-weight:400;transition:background 20ms ease-in 0s;background:transparent;color:var(--notion-text-primary);font-family:inherit}.btn[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.btn-primary[_ngcontent-%COMP%]{background:var(--notion-text-primary);color:#fff;border-color:var(--notion-text-primary)}.btn-primary[_ngcontent-%COMP%]:hover{background:#2e2e2c}.btn-danger[_ngcontent-%COMP%]{background:var(--notion-red);color:#fff;border-color:var(--notion-red)}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626}.btn-small[_ngcontent-%COMP%]{padding:4px 10px;font-size:13px}.dark-theme[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#ffffff14!important;border-color:#fff3!important;color:var(--notion-text-primary)!important}.dark-theme[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#ffffff26!important;border-color:#ffffff4d!important;color:var(--notion-text-primary)!important}.dark-theme[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background:var(--notion-red)!important;color:#fff!important;border-color:var(--notion-red)!important}.dark-theme[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626!important;color:#fff!important}.shopping-lists-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:240px 1fr;gap:24px;width:100%;overflow-x:hidden;box-sizing:border-box}.lists-sidebar[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);padding:16px;border-radius:var(--notion-radius);max-height:600px;overflow-y:auto}.lists-sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:var(--notion-text-tertiary);text-transform:uppercase;letter-spacing:.5px;margin:0 0 12px}.list-item[_ngcontent-%COMP%]{padding:10px 12px;margin-bottom:4px;border-radius:10px;cursor:pointer;transition:background .2s ease;display:flex;align-items:center;gap:10px;font-size:14px;border:1px solid transparent}.list-item[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.list-item[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--notion-blue);outline-offset:2px}.list-item.active[_ngcontent-%COMP%]{background:var(--notion-bg-hover);font-weight:600;color:var(--notion-text-primary);border-color:var(--notion-border);box-shadow:var(--notion-shadow-sm);border-left:3px solid var(--notion-blue)}.btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;padding:0;border:none;background:transparent;border-radius:8px;font-size:1.25rem;line-height:1;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:background .15s ease,color .15s ease;flex-shrink:0;color:var(--notion-text-tertiary)}.btn-icon[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);color:var(--notion-text-primary)}.btn-icon-danger[_ngcontent-%COMP%]:hover{background:var(--notion-red-bg);color:var(--notion-red)}.item-count[_ngcontent-%COMP%]{font-size:.75rem;color:var(--notion-text-tertiary);flex-shrink:0}.list-details[_ngcontent-%COMP%]{padding:20px;min-width:0;overflow-x:hidden;word-wrap:break-word;overflow-wrap:break-word}.list-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid var(--notion-border)}.list-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:var(--notion-text-primary);word-wrap:break-word;overflow-wrap:break-word}.add-item-form[_ngcontent-%COMP%]{margin-bottom:24px;padding:16px;background:var(--notion-bg-tertiary);border-radius:var(--notion-radius)}.add-item-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--notion-text-primary);margin:0 0 12px}.items-list[_ngcontent-%COMP%]{display:grid;gap:4px}.item-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:var(--notion-radius);transition:all 20ms ease-in 0s}.item-card[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);border-color:var(--notion-border-hover)}.item-card[_ngcontent-%COMP%]{transition:background .2s ease,border-color .2s ease,opacity .2s ease}.item-card.purchased[_ngcontent-%COMP%]{opacity:.6}.item-card.purchased[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{text-decoration:line-through;color:var(--notion-text-tertiary)}.item-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0}.item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer;accent-color:var(--notion-blue);margin:0}.item-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:6px;min-width:0}.item-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.item-name[_ngcontent-%COMP%]{font-weight:400;color:var(--notion-text-primary);font-size:14px;line-height:1.4;word-break:break-word;flex:1;min-width:0}.item-quantity[_ngcontent-%COMP%]{color:var(--notion-text-secondary);font-size:13px;font-weight:500;background:var(--notion-bg-tertiary);padding:2px 6px;border-radius:var(--notion-radius-sm);white-space:nowrap}.item-category[_ngcontent-%COMP%]{padding:4px 10px;background:var(--notion-gray-bg);border-radius:var(--notion-radius);font-size:11px;font-weight:500;color:var(--notion-text-secondary);text-transform:uppercase;letter-spacing:.5px;width:fit-content;align-self:flex-start}.no-selection[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);padding:48px;border-radius:var(--notion-radius);text-align:center;color:var(--notion-text-tertiary);font-size:14px;word-wrap:break-word;overflow-wrap:break-word}.no-selection[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.5}.upcoming-tasks-section[_ngcontent-%COMP%], .all-tasks-section[_ngcontent-%COMP%]{margin-bottom:32px}.upcoming-tasks-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .all-tasks-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--notion-text-primary);margin:0 0 16px}.tasks-list[_ngcontent-%COMP%]{display:grid;gap:8px}.task-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;background:var(--notion-bg);border:1px solid var(--notion-border);padding:16px;border-radius:var(--notion-radius);transition:background 20ms ease-in 0s}.task-card[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.task-card[_ngcontent-%COMP%]{transition:background .2s ease,box-shadow .2s ease}.task-card.completed[_ngcontent-%COMP%]{opacity:.6}.task-info[_ngcontent-%COMP%]{flex:1}.task-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:500;color:var(--notion-text-primary)}.task-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;color:var(--notion-text-secondary);font-size:14px;line-height:1.5}.task-meta[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:8px;font-size:12px;color:var(--notion-text-tertiary)}.frequency[_ngcontent-%COMP%]{padding:2px 8px;background:var(--notion-gray-bg);border-radius:var(--notion-radius);font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px;color:var(--notion-text-tertiary);font-size:14px;background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:var(--notion-radius)}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]{padding:32px 16px!important}}@media (max-width: 480px){.empty-state[_ngcontent-%COMP%]{padding:24px 12px!important}}.quick-actions[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;display:flex;align-items:center;gap:12px;z-index:100}.quick-action-btn[_ngcontent-%COMP%]{width:48px;height:48px;padding:0;border:none;border-radius:14px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;box-shadow:0 2px 8px #0000001a}.quick-action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 14px #00000026}.quick-action-meal[_ngcontent-%COMP%]{background:linear-gradient(145deg,#fef3c7,#fcd34d);color:#92400e}.quick-action-meal.is-open[_ngcontent-%COMP%]{background:linear-gradient(145deg,#f59e0b,#d97706);color:#fff}.dark-theme[_ngcontent-%COMP%]   .quick-action-meal[_ngcontent-%COMP%]{background:linear-gradient(145deg,#78350f,#92400e);color:#fef3c7}.dark-theme[_ngcontent-%COMP%]   .quick-action-meal.is-open[_ngcontent-%COMP%]{background:linear-gradient(145deg,#f59e0b,#b45309);color:#fff}@media (max-width: 768px){.quick-actions[_ngcontent-%COMP%]{bottom:16px;right:16px}.quick-action-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px}}.chatbot-panel-floating[_ngcontent-%COMP%]{position:fixed;bottom:80px;right:24px;width:100%;max-width:380px;max-height:420px;background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:16px;box-shadow:0 8px 32px #00000026;display:flex;flex-direction:column;overflow:hidden;z-index:1000}.chatbot-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.chatbot-panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--notion-border);background:var(--notion-bg-tertiary)}.chatbot-panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:600;color:var(--notion-text-primary)}.chatbot-close[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:transparent;color:var(--notion-text-secondary);font-size:24px;line-height:1;cursor:pointer;border-radius:var(--notion-radius);padding:0;display:flex;align-items:center;justify-content:center;transition:background .15s ease,color .15s ease}.chatbot-close[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);color:var(--notion-text-primary)}.chatbot-unavailable[_ngcontent-%COMP%]{padding:20px;text-align:center}.chatbot-unavailable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--notion-text-primary)}.chatbot-unavailable[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--notion-text-tertiary);font-size:13px}.chatbot-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-height:0}.chatbot-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:12px;display:flex;flex-direction:column;gap:4px;max-height:280px}.chatbot-panel[_ngcontent-%COMP%]   .chat-row[_ngcontent-%COMP%]{display:flex;width:100%}.chatbot-panel[_ngcontent-%COMP%]   .chat-row-user[_ngcontent-%COMP%]{justify-content:flex-end}.chatbot-panel[_ngcontent-%COMP%]   .chat-row-bot[_ngcontent-%COMP%]{justify-content:flex-start}.chatbot-panel[_ngcontent-%COMP%]   .chat-bubble[_ngcontent-%COMP%]{max-width:85%;padding:10px 14px;border-radius:18px;box-shadow:0 1px 2px #0000000f}.chatbot-panel[_ngcontent-%COMP%]   .chat-bubble-user[_ngcontent-%COMP%]{background:var(--notion-blue, #2563eb);color:#fff;border-bottom-right-radius:4px}.chatbot-panel[_ngcontent-%COMP%]   .chat-bubble-bot[_ngcontent-%COMP%]{background:var(--notion-bg-tertiary);border:1px solid var(--notion-border);color:var(--notion-text-primary);border-bottom-left-radius:4px}.chatbot-panel[_ngcontent-%COMP%]   .chat-bubble-loading[_ngcontent-%COMP%]   .chat-bubble-text[_ngcontent-%COMP%]{font-style:italic;color:var(--notion-text-tertiary)}.chatbot-panel[_ngcontent-%COMP%]   .chat-bubble-label[_ngcontent-%COMP%]{display:block;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.4px;margin-bottom:6px;opacity:.85}.chatbot-panel[_ngcontent-%COMP%]   .chat-bubble-text[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;white-space:pre-wrap;word-break:break-word}.chatbot-panel[_ngcontent-%COMP%]   .chat-error[_ngcontent-%COMP%]{margin:0 12px 4px;font-size:12px;color:var(--notion-red, #c0392b)}.chatbot-form[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px;border-top:1px solid var(--notion-border);background:var(--notion-bg)}.chatbot-form[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:1px solid var(--notion-border);border-radius:12px;font-size:14px;background:var(--notion-bg);color:var(--notion-text-primary)}.chatbot-form[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue)}"]})}}return o})();export{ot as HomeOrgComponent};
