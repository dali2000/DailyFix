import{a as se}from"./chunk-YHSS5ILO.js";import{a as de}from"./chunk-UZBQ4Z5Y.js";import{a as Y,c as J,d as X,e as Z,f as $,g as ee,h as te,l as ne,m as ie,n as ae,o as oe,p as re,q as le,t as pe}from"./chunk-DOIUM3UR.js";import{A as _,B as H,Ba as j,C as W,Ca as N,Ea as G,Fa as K,Ga as U,J as i,K as F,N as y,P as g,R as P,Sa as Q,T as n,U as a,V,Y as M,Ya as ce,Z as u,_ as d,da as o,ea as m,fa as v,ga as z,ka as b,la as f,ma as w,oa as R,p as q,qa as p,ra as s,sa as O,v as D,z as h}from"./chunk-ZZFONNLE.js";import{a as k,b as T,c as I}from"./chunk-POLL2CVR.js";var ge="Tu es un assistant sant\xE9 int\xE9gr\xE9 \xE0 l'application DailyFix. Tu r\xE9ponds de fa\xE7on bienveillante et factuelle sur la nutrition, le sommeil, l'activit\xE9 physique, l'hydratation et la m\xE9ditation. Donne des conseils courts et pratiques. Ne pose pas de diagnostic m\xE9dical ; en cas de doute, recommande de consulter un professionnel de sant\xE9. R\xE9ponds dans la m\xEAme langue que l'utilisateur.",me=(()=>{class r{constructor(){this.apiKey=Q.geminiApiKey}isAvailable(){return!!this.apiKey&&this.apiKey.length>0}static{this.QUOTA_ERROR_KEY="health.discussionQuotaExceeded"}sendMessage(e,l){return I(this,null,function*(){if(!this.isAvailable())throw new Error("GEMINI_API_KEY is not configured. Add it in environment (geminiApiKey).");let t=()=>I(this,null,function*(){let{GoogleGenerativeAI:C}=yield import("./chunk-LJEOBI3R.js"),S=new C(this.apiKey).getGenerativeModel({model:"gemini-2.5-flash"}),B=l.map(L=>({role:L.role==="user"?"user":"model",parts:[{text:L.text}]})),A=(yield S.startChat({history:B,systemInstruction:{role:"user",parts:[{text:ge}]}}).sendMessage(e)).response.text();return A==null||A===""?"D\xE9sol\xE9, je n'ai pas pu g\xE9n\xE9rer une r\xE9ponse. R\xE9essaie.":A}),c=C=>{let E=C&&typeof C=="object"&&"message"in C?String(C.message):"";return E.includes("429")||E.includes("quota")||E.includes("Quota exceeded")},he=C=>{let S=(C&&typeof C=="object"&&"message"in C?String(C.message):"").match(/[Pp]lease retry in ([\d.]+)s/);if(S){let B=parseFloat(S[1]);return Number.isFinite(B)?Math.ceil(B*1e3):6e3}return 6e3};try{return yield t()}catch(C){if(!c(C))throw C;let E=he(C);yield new Promise(S=>setTimeout(S,E));try{return yield t()}catch(S){throw c(S)?new Error(r.QUOTA_ERROR_KEY):S}}})}static{this.\u0275fac=function(l){return new(l||r)}}static{this.\u0275prov=q({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function xe(r,x){if(r&1&&(n(0,"div",15)(1,"div",16)(2,"h2"),o(3),p(4,"translate"),a(),n(5,"div",17)(6,"span",18),o(7),a()()(),n(8,"div",19)(9,"div",20)(10,"h3"),o(11),p(12,"translate"),a(),n(13,"p",21),o(14),a(),n(15,"small"),o(16),p(17,"translate"),a()(),n(18,"div",20)(19,"h3"),o(20),p(21,"translate"),a(),n(22,"p",21),o(23),a(),n(24,"small"),o(25),p(26,"translate"),a()(),n(27,"div",20)(28,"h3"),o(29),p(30,"translate"),a(),n(31,"p",21),o(32),p(33,"number"),a(),n(34,"small"),o(35),p(36,"translate"),a()(),n(37,"div",20)(38,"h3"),o(39),p(40,"translate"),a(),n(41,"p",21),o(42),a(),n(43,"small"),o(44),p(45,"translate"),a()()()()),r&2){let e=d();i(3),m(s(4,14,"health.healthScore")),i(4),v("",e.getHealthScore(),"%"),i(4),m(s(12,16,"health.caloriesToday")),i(3),v("",e.todayCalories," kcal"),i(2),v("",s(17,18,"health.goal"),": 2000 kcal"),i(4),m(s(21,20,"health.physicalActivity")),i(3),v("",e.todayActivityMinutes," min"),i(2),v("",s(26,22,"health.goal"),": 30 min/jour"),i(4),m(s(30,24,"health.waterConsumed")),i(3),v("",O(33,26,e.todayWaterIntake,"1.1-2")," L"),i(3),v("",s(36,29,"health.goal"),": 2 L/jour"),i(4),m(s(40,31,"health.sleepLastNight")),i(3),v("",e.lastSleepHours,"h"),i(2),v("",s(45,33,"health.recommended"),": 7-9h")}}function ve(r,x){if(r&1&&(n(0,"p",32),o(1),a()),r&2){let e=d().$implicit;i(),v("",e.calories," kcal")}}function be(r,x){if(r&1&&(n(0,"p",33),o(1),a()),r&2){let e=d().$implicit;i(),m(e.notes)}}function fe(r,x){if(r&1){let e=M();n(0,"div",26)(1,"div",27)(2,"h4"),o(3),a(),n(4,"span",28),o(5),a()(),y(6,ve,2,1,"p",29)(7,be,2,1,"p",30),n(8,"small"),o(9),p(10,"date"),a(),n(11,"button",31),u("click",function(){let t=h(e).$implicit,c=d(2);return _(c.deleteMeal(t.id))}),o(12),p(13,"translate"),a()()}if(r&2){let e=x.$implicit;i(3),m(e.name),i(2),m(e.type),i(),g("ngIf",e.calories),i(),g("ngIf",e.notes),i(2),m(O(10,6,e.date,"short")),i(3),m(s(13,9,"common.delete"))}}function we(r,x){if(r&1){let e=M();n(0,"div",15)(1,"div",22)(2,"h2"),o(3),p(4,"translate"),a(),n(5,"button",23),u("click",function(){h(e);let t=d();return _(t.showMealForm=!0)}),o(6),p(7,"translate"),a()(),n(8,"div",24),y(9,fe,14,11,"div",25),a()()}if(r&2){let e=d();i(3),m(s(4,3,"health.mealTracking")),i(3),v("+ ",s(7,5,"health.addMeal"),""),i(3),g("ngForOf",e.meals.slice().reverse())}}function Ce(r,x){if(r&1&&(n(0,"p",32),o(1),p(2,"translate"),a()),r&2){let e=d().$implicit;i(),z("",e.calories," ",s(2,2,"health.caloriesBurned"),"")}}function Me(r,x){if(r&1&&(n(0,"p",33),o(1),a()),r&2){let e=d().$implicit;i(),m(e.notes)}}function ye(r,x){if(r&1){let e=M();n(0,"div",36)(1,"h4"),o(2),a(),n(3,"p",37),o(4),p(5,"translate"),a(),y(6,Ce,3,4,"p",29)(7,Me,2,1,"p",30),n(8,"small"),o(9),p(10,"date"),a(),n(11,"button",31),u("click",function(){let t=h(e).$implicit,c=d(2);return _(c.deleteActivity(t.id))}),o(12,"Supprimer"),a()()}if(r&2){let e=x.$implicit;i(2),m(e.type),i(2),z("",e.duration," ",s(5,6,"common.minutes"),""),i(2),g("ngIf",e.calories),i(),g("ngIf",e.notes),i(2),m(O(10,8,e.date,"short"))}}function Se(r,x){if(r&1){let e=M();n(0,"div",15)(1,"div",22)(2,"h2"),o(3,"Activit\xE9 Physique"),a(),n(4,"button",23),u("click",function(){h(e);let t=d();return _(t.showActivityForm=!0)}),o(5,"+ Ajouter une activit\xE9"),a()(),n(6,"div",34),y(7,ye,13,11,"div",35),a()()}if(r&2){let e=d();i(7),g("ngForOf",e.activities.slice().reverse())}}function Pe(r,x){if(r&1&&(n(0,"div",40)(1,"h4"),o(2),a(),n(3,"p"),o(4),p(5,"date"),a(),n(6,"p"),o(7),p(8,"date"),a(),n(9,"p"),o(10),a(),n(11,"small"),o(12),p(13,"date"),a()()),r&2){let e=x.$implicit;i(2),v("",e.hours," heures de sommeil"),i(2),v("Coucher: ",O(5,5,e.sleepTime,"short"),""),i(3),v("R\xE9veil: ",O(8,8,e.wakeTime,"short"),""),i(3),v("Qualit\xE9: ",e.quality,""),i(2),m(O(13,11,e.date,"short"))}}function Oe(r,x){if(r&1){let e=M();n(0,"div",15)(1,"div",22)(2,"h2"),o(3),p(4,"translate"),a(),n(5,"button",23),u("click",function(){h(e);let t=d();return _(t.showSleepForm=!0)}),o(6),p(7,"translate"),a()(),n(8,"div",38),y(9,Pe,14,14,"div",39),a()()}if(r&2){let e=d();i(3),m(s(4,3,"health.sleepTracking")),i(3),v("+ ",s(7,5,"health.recordSleep"),""),i(3),g("ngForOf",e.sleepRecords.slice().reverse())}}function Ee(r,x){if(r&1&&(n(0,"p",33),o(1),a()),r&2){let e=d().$implicit;i(),m(e.notes)}}function ke(r,x){if(r&1&&(n(0,"div",43)(1,"h4"),o(2),a(),n(3,"p",37),o(4),a(),y(5,Ee,2,1,"p",30),n(6,"small"),o(7),p(8,"date"),a()()),r&2){let e=x.$implicit;i(2),m(e.type),i(2),v("",e.duration," minutes"),i(),g("ngIf",e.notes),i(2),m(O(8,4,e.date,"short"))}}function Te(r,x){if(r&1){let e=M();n(0,"div",15)(1,"div",22)(2,"h2"),o(3),p(4,"translate"),a(),n(5,"button",23),u("click",function(){h(e);let t=d();return _(t.showMeditationForm=!0)}),o(6),p(7,"translate"),a()(),n(8,"div",41),y(9,ke,9,7,"div",42),a()()}if(r&2){let e=d();i(3),m(s(4,3,"health.meditationTitle")),i(3),v("+ ",s(7,5,"health.newSession"),""),i(3),g("ngForOf",e.meditationSessions.slice().reverse())}}function Ie(r,x){r&1&&(n(0,"div",49)(1,"p"),o(2),p(3,"translate"),a(),n(4,"small"),o(5),p(6,"translate"),a()()),r&2&&(i(2),m(s(3,2,"health.discussionUnavailable")),i(3),m(s(6,4,"health.discussionUnavailableHint")))}function Ve(r,x){if(r&1&&(n(0,"div",58)(1,"div",59)(2,"span",60),o(3),p(4,"translate"),a(),V(5,"div",61),a()()),r&2){let e=x.$implicit;P("chat-row-user",e.role==="user")("chat-row-bot",e.role==="model"),i(),P("chat-bubble-user",e.role==="user")("chat-bubble-bot",e.role==="model"),i(2),m(e.role==="user"?s(4,10,"health.you"):"Gemini"),i(2),g("innerText",e.text)}}function Be(r,x){r&1&&(n(0,"div",62)(1,"div",63)(2,"span",60),o(3,"Gemini"),a(),n(4,"div",64),o(5),p(6,"translate"),a()()()),r&2&&(i(5),v("",s(6,1,"common.loading"),"..."))}function He(r,x){if(r&1&&(n(0,"p",65),o(1),p(2,"translate"),a()),r&2){let e=d(3);i(),m(s(2,1,e.chatError))}}function Ae(r,x){if(r&1){let e=M();n(0,"div",50)(1,"div",51),y(2,Ve,6,12,"div",52)(3,Be,7,3,"div",53),a(),y(4,He,3,3,"p",54),n(5,"form",55),u("ngSubmit",function(){h(e);let t=d(2);return _(t.sendChatMessage())}),n(6,"input",56),p(7,"translate"),w("ngModelChange",function(t){h(e);let c=d(2);return f(c.chatInput,t)||(c.chatInput=t),_(t)}),a(),n(8,"button",57),o(9),p(10,"translate"),a()()()}if(r&2){let e=d(2);i(2),g("ngForOf",e.chatMessages),i(),g("ngIf",e.chatLoading),i(),g("ngIf",e.chatError),i(2),b("ngModel",e.chatInput),g("placeholder",s(7,8,"health.discussionPlaceholder"))("disabled",e.chatLoading),i(2),g("disabled",e.chatLoading||!e.chatInput.trim()),i(),v(" ",s(10,10,"health.send")," ")}}function We(r,x){if(r&1){let e=M();n(0,"div",44)(1,"div",45)(2,"h3"),o(3),p(4,"translate"),a(),n(5,"button",46),u("click",function(){h(e);let t=d();return _(t.chatOpen=!1)}),o(6,"\xD7"),a()(),y(7,Ie,7,6,"div",47)(8,Ae,11,12,"div",48),a()}if(r&2){let e=d();i(3),m(s(4,3,"health.discussionTitle")),i(4),g("ngIf",!e.geminiAvailable),i(),g("ngIf",e.geminiAvailable)}}function Fe(r,x){if(r&1){let e=M();n(0,"app-modal",66),p(1,"translate"),u("closeModal",function(){h(e);let t=d();return _(t.closeMealModal())}),n(2,"form",67),u("ngSubmit",function(){h(e);let t=d();return _(t.addMeal())}),n(3,"div",68)(4,"label"),o(5),p(6,"translate"),a(),n(7,"input",69),w("ngModelChange",function(t){h(e);let c=d();return f(c.newMeal.name,t)||(c.newMeal.name=t),_(t)}),a()(),n(8,"div",70)(9,"div",68)(10,"label"),o(11),p(12,"translate"),a(),n(13,"select",71),w("ngModelChange",function(t){h(e);let c=d();return f(c.newMeal.type,t)||(c.newMeal.type=t),_(t)}),n(14,"option",72),o(15,"Petit-d\xE9jeuner"),a(),n(16,"option",73),o(17,"D\xE9jeuner"),a(),n(18,"option",74),o(19,"D\xEEner"),a(),n(20,"option",75),o(21,"Collation"),a()()(),n(22,"div",68)(23,"label"),o(24),p(25,"translate"),a(),n(26,"input",76),w("ngModelChange",function(t){h(e);let c=d();return f(c.newMeal.calories,t)||(c.newMeal.calories=t),_(t)}),a()()(),n(27,"div",68)(28,"label"),o(29,"Notes"),a(),n(30,"textarea",77),w("ngModelChange",function(t){h(e);let c=d();return f(c.newMeal.notes,t)||(c.newMeal.notes=t),_(t)}),a()(),n(31,"div",78)(32,"button",79),u("click",function(){h(e);let t=d();return _(t.closeMealModal())}),o(33),p(34,"translate"),a(),n(35,"button",80),o(36),p(37,"translate"),a()()()()}if(r&2){let e=d();g("title",s(1,10,"health.addMeal")),i(5),v("",s(6,12,"common.name")," *"),i(2),b("ngModel",e.newMeal.name),i(4),m(s(12,14,"calendar.type")),i(2),b("ngModel",e.newMeal.type),i(11),m(s(25,16,"health.caloriesToday")),i(2),b("ngModel",e.newMeal.calories),i(4),b("ngModel",e.newMeal.notes),i(3),m(s(34,18,"common.cancel")),i(3),m(s(37,20,"common.add"))}}function ze(r,x){if(r&1){let e=M();n(0,"app-modal",66),p(1,"translate"),u("closeModal",function(){h(e);let t=d();return _(t.closeActivityModal())}),n(2,"form",67),u("ngSubmit",function(){h(e);let t=d();return _(t.addActivity())}),n(3,"div",68)(4,"label"),o(5),p(6,"translate"),a(),n(7,"input",81),w("ngModelChange",function(t){h(e);let c=d();return f(c.newActivity.type,t)||(c.newActivity.type=t),_(t)}),a()(),n(8,"div",70)(9,"div",68)(10,"label"),o(11),p(12,"translate"),a(),n(13,"input",82),w("ngModelChange",function(t){h(e);let c=d();return f(c.newActivity.duration,t)||(c.newActivity.duration=t),_(t)}),a()(),n(14,"div",68)(15,"label"),o(16),p(17,"translate"),a(),n(18,"input",76),w("ngModelChange",function(t){h(e);let c=d();return f(c.newActivity.calories,t)||(c.newActivity.calories=t),_(t)}),a()()(),n(19,"div",68)(20,"label"),o(21,"Notes"),a(),n(22,"textarea",77),w("ngModelChange",function(t){h(e);let c=d();return f(c.newActivity.notes,t)||(c.newActivity.notes=t),_(t)}),a()(),n(23,"div",78)(24,"button",79),u("click",function(){h(e);let t=d();return _(t.closeActivityModal())}),o(25),p(26,"translate"),a(),n(27,"button",80),o(28),p(29,"translate"),a()()()()}if(r&2){let e=d();g("title",s(1,10,"health.addActivity")),i(5),v("",s(6,12,"health.activityTitle")," *"),i(2),b("ngModel",e.newActivity.type),i(4),v("",s(12,14,"common.minutes")," *"),i(2),b("ngModel",e.newActivity.duration),i(3),m(s(17,16,"health.caloriesBurned")),i(2),b("ngModel",e.newActivity.calories),i(4),b("ngModel",e.newActivity.notes),i(3),m(s(26,18,"common.cancel")),i(3),m(s(29,20,"common.add"))}}function Le(r,x){if(r&1){let e=M();n(0,"app-modal",66),p(1,"translate"),u("closeModal",function(){h(e);let t=d();return _(t.closeSleepModal())}),n(2,"form",67),u("ngSubmit",function(){h(e);let t=d();return _(t.addSleepRecord())}),n(3,"div",70)(4,"div",68)(5,"label"),o(6),p(7,"translate"),a(),n(8,"input",83),w("ngModelChange",function(t){h(e);let c=d();return f(c.newSleep.sleepTime,t)||(c.newSleep.sleepTime=t),_(t)}),a()(),n(9,"div",68)(10,"label"),o(11),p(12,"translate"),a(),n(13,"input",84),w("ngModelChange",function(t){h(e);let c=d();return f(c.newSleep.wakeTime,t)||(c.newSleep.wakeTime=t),_(t)}),a()()(),n(14,"div",68)(15,"label"),o(16),p(17,"translate"),a(),n(18,"select",85),w("ngModelChange",function(t){h(e);let c=d();return f(c.newSleep.quality,t)||(c.newSleep.quality=t),_(t)}),n(19,"option",86),o(20,"Mauvaise"),a(),n(21,"option",87),o(22,"Moyenne"),a(),n(23,"option",88),o(24,"Bonne"),a(),n(25,"option",89),o(26,"Excellente"),a()()(),n(27,"div",78)(28,"button",79),u("click",function(){h(e);let t=d();return _(t.closeSleepModal())}),o(29),p(30,"translate"),a(),n(31,"button",80),o(32),p(33,"translate"),a()()()()}if(r&2){let e=d();g("title",s(1,9,"health.recordSleep")),i(6),v("",s(7,11,"common.bedtime")," *"),i(2),b("ngModel",e.newSleep.sleepTime),i(3),v("",s(12,13,"common.wakeup")," *"),i(2),b("ngModel",e.newSleep.wakeTime),i(3),m(s(17,15,"common.quality")),i(2),b("ngModel",e.newSleep.quality),i(11),m(s(30,17,"common.cancel")),i(3),m(s(33,19,"common.save"))}}function qe(r,x){if(r&1){let e=M();n(0,"app-modal",90),p(1,"translate"),u("closeModal",function(){h(e);let t=d();return _(t.closeMeditationModal())}),n(2,"form",67),u("ngSubmit",function(){h(e);let t=d();return _(t.addMeditationSession())}),n(3,"div",70)(4,"div",68)(5,"label"),o(6),p(7,"translate"),a(),n(8,"input",91),w("ngModelChange",function(t){h(e);let c=d();return f(c.newMeditation.duration,t)||(c.newMeditation.duration=t),_(t)}),a()(),n(9,"div",68)(10,"label"),o(11),p(12,"translate"),a(),n(13,"select",71),w("ngModelChange",function(t){h(e);let c=d();return f(c.newMeditation.type,t)||(c.newMeditation.type=t),_(t)}),n(14,"option",92),o(15,"Guid\xE9e"),a(),n(16,"option",93),o(17,"Respiration"),a(),n(18,"option",94),o(19,"Pleine conscience"),a(),n(20,"option",95),o(21,"Balayage corporel"),a()()()(),n(22,"div",68)(23,"label"),o(24,"Notes"),a(),n(25,"textarea",77),w("ngModelChange",function(t){h(e);let c=d();return f(c.newMeditation.notes,t)||(c.newMeditation.notes=t),_(t)}),a()(),n(26,"div",78)(27,"button",79),u("click",function(){h(e);let t=d();return _(t.closeMeditationModal())}),o(28),p(29,"translate"),a(),n(30,"button",80),o(31),p(32,"translate"),a()()()()}if(r&2){let e=d();g("title",s(1,8,"health.newSession")),i(6),m(s(7,10,"health.minutesLabel")),i(2),b("ngModel",e.newMeditation.duration),i(3),m(s(12,12,"calendar.type")),i(2),b("ngModel",e.newMeditation.type),i(12),b("ngModel",e.newMeditation.notes),i(3),m(s(29,14,"common.cancel")),i(3),m(s(32,16,"common.save"))}}function De(r,x){if(r&1){let e=M();n(0,"app-modal",90),p(1,"translate"),u("closeModal",function(){h(e);let t=d();return _(t.closeWaterModal())}),n(2,"form",67),u("ngSubmit",function(){h(e);let t=d();return _(t.addWaterIntake())}),n(3,"div",68)(4,"label"),o(5),p(6,"translate"),a(),n(7,"input",96),w("ngModelChange",function(t){h(e);let c=d();return f(c.waterCups,t)||(c.waterCups=t),_(t)}),a(),n(8,"small",97),o(9),p(10,"number"),a()(),n(11,"div",78)(12,"button",79),u("click",function(){h(e);let t=d();return _(t.closeWaterModal())}),o(13),p(14,"translate"),a(),n(15,"button",80),o(16),p(17,"translate"),a()()()()}if(r&2){let e=d();g("title",s(1,6,"health.waterConsumed")),i(5),m(s(6,8,"health.cupsLabel")),i(2),b("ngModel",e.waterCups),i(2),v("(",O(10,10,e.waterCupsToLiters,"1.2-2")," L)"),i(4),m(s(14,13,"common.cancel")),i(3),m(s(17,15,"common.add"))}}var et=(()=>{class r{get waterCupsToLiters(){return this.waterCups*this.LITERS_PER_CUP}playWaterSound(){try{let e=window.AudioContext||window.webkitAudioContext;if(!e)return;let l=new e,t=l.createOscillator(),c=l.createGain();t.connect(c),c.connect(l.destination),t.type="sine",t.frequency.setValueAtTime(520,l.currentTime),t.frequency.exponentialRampToValueAtTime(180,l.currentTime+.08),c.gain.setValueAtTime(.2,l.currentTime),c.gain.exponentialRampToValueAtTime(.01,l.currentTime+.15),t.start(l.currentTime),t.stop(l.currentTime+.18)}catch{}}constructor(e,l){this.healthService=e,this.geminiService=l,this.activeTab="overview",this.todayCalories=0,this.todayActivityMinutes=0,this.todayWaterIntake=0,this.lastSleepHours=0,this.meals=[],this.showMealForm=!1,this.newMeal={type:"breakfast"},this.activities=[],this.showActivityForm=!1,this.newActivity={},this.sleepRecords=[],this.showSleepForm=!1,this.newSleep={quality:"good"},this.showWaterForm=!1,this.waterCups=2,this.LITERS_PER_CUP=.25,this.meditationSessions=[],this.showMeditationForm=!1,this.newMeditation={duration:10,type:"guided"},this.chatOpen=!1,this.chatMessages=[],this.chatInput="",this.chatLoading=!1,this.chatError=null}get geminiAvailable(){return this.geminiService.isAvailable()}ngOnInit(){this.loadData()}ngOnDestroy(){this.dataSubscription&&this.dataSubscription.unsubscribe()}loadData(){this.healthService.getMealsObservable().subscribe({next:e=>{this.meals=e.map(l=>T(k({},l),{id:l.id.toString(),date:new Date(l.date)})),this.updateOverview()},error:e=>console.error("Error loading meals:",e)}),this.healthService.getActivitiesObservable().subscribe({next:e=>{this.activities=e.map(l=>T(k({},l),{id:l.id.toString(),date:new Date(l.date)})),this.updateOverview()},error:e=>console.error("Error loading activities:",e)}),this.healthService.getSleepRecordsObservable().subscribe({next:e=>{this.sleepRecords=e.map(l=>T(k({},l),{id:l.id.toString(),date:new Date(l.date),sleepTime:new Date(l.sleepTime),wakeTime:new Date(l.wakeTime)})),this.updateOverview()},error:e=>console.error("Error loading sleep records:",e)}),this.healthService.getMeditationSessionsObservable().subscribe({next:e=>{this.meditationSessions=e.map(l=>T(k({},l),{id:l.id.toString(),date:new Date(l.date)})),this.updateOverview()},error:e=>console.error("Error loading meditation sessions:",e)})}updateOverview(){this.todayCalories=this.healthService.getTodayCalories(),this.todayActivityMinutes=this.healthService.getTodayActivityMinutes(),this.todayWaterIntake=this.healthService.getTodayWaterIntake();let e=this.healthService.getLastSleepRecord();this.lastSleepHours=e?.hours||0}closeMealModal(){this.showMealForm=!1,this.newMeal={type:"breakfast"}}closeActivityModal(){this.showActivityForm=!1,this.newActivity={}}closeSleepModal(){this.showSleepForm=!1,this.newSleep={quality:"good"}}closeMeditationModal(){this.showMeditationForm=!1,this.newMeditation={duration:10,type:"guided"}}closeWaterModal(){this.showWaterForm=!1,this.waterCups=2}addMeal(){this.newMeal.name&&this.healthService.addMeal({name:this.newMeal.name,type:this.newMeal.type||"breakfast",calories:this.newMeal.calories,date:new Date,notes:this.newMeal.notes}).subscribe({next:()=>{this.showMealForm=!1,this.newMeal={type:"breakfast"},this.loadData()}})}deleteMeal(e){this.healthService.deleteMeal(e).subscribe({next:()=>{this.loadData()}})}addActivity(){!this.newActivity.type||!this.newActivity.duration||this.healthService.addActivity({type:this.newActivity.type,duration:this.newActivity.duration,calories:this.newActivity.calories,date:new Date,notes:this.newActivity.notes}).subscribe({next:()=>{this.showActivityForm=!1,this.newActivity={},this.loadData()}})}deleteActivity(e){this.healthService.deleteActivity(e).subscribe({next:()=>{this.loadData()}})}addSleepRecord(){!this.newSleep.sleepTime||!this.newSleep.wakeTime||this.healthService.addSleepRecord({date:new Date,sleepTime:new Date(this.newSleep.sleepTime),wakeTime:new Date(this.newSleep.wakeTime),quality:this.newSleep.quality||"good"}).subscribe({next:()=>{this.showSleepForm=!1,this.newSleep={quality:"good"},this.loadData()}})}addOneCup(){this.playWaterSound(),this.healthService.addWaterIntake({date:new Date,amount:this.LITERS_PER_CUP}).subscribe({next:()=>this.loadData()})}addWaterIntake(){this.playWaterSound();let e=this.waterCups*this.LITERS_PER_CUP;this.healthService.addWaterIntake({date:new Date,amount:e}).subscribe({next:()=>{this.showWaterForm=!1,this.waterCups=2,this.loadData()}})}addMeditationSession(){this.healthService.addMeditationSession({date:new Date,duration:this.newMeditation.duration||10,type:this.newMeditation.type||"guided",notes:this.newMeditation.notes}).subscribe({next:()=>{this.showMeditationForm=!1,this.newMeditation={duration:10,type:"guided"},this.loadData()}})}deleteMeditationSession(e){this.healthService.deleteMeditationSession(e).subscribe({next:()=>{this.loadData()}})}getHealthScore(){let e=0;return this.todayCalories>0&&this.todayCalories<2500&&(e+=25),this.todayActivityMinutes>=30&&(e+=25),this.todayWaterIntake>=2&&(e+=25),this.lastSleepHours>=7&&this.lastSleepHours<=9&&(e+=25),e}sendChatMessage(){return I(this,null,function*(){let e=(this.chatInput||"").trim();if(!(!e||this.chatLoading||!this.geminiAvailable)){this.chatError=null,this.chatMessages.push({role:"user",text:e}),this.chatInput="",this.chatLoading=!0;try{let l=yield this.geminiService.sendMessage(e,this.chatMessages.slice(0,-1));this.chatMessages.push({role:"model",text:l})}catch(l){this.chatError=l instanceof Error?l.message:"common.error"}finally{this.chatLoading=!1}}})}static{this.\u0275fac=function(l){return new(l||r)(F(se),F(me))}}static{this.\u0275cmp=D({type:r,selectors:[["app-health"]],standalone:!0,features:[R],decls:44,vars:50,consts:[[1,"health-page"],[1,"tabs"],[3,"click"],["class","tab-content",4,"ngIf"],[1,"water-quick-add"],["type","button","aria-label","Add 1 cup",1,"btn","btn-icon-square",3,"click","title"],["width","20","height","20","viewBox","0 0 24 24","fill","currentColor","aria-hidden","true"],["d","M12 2.69l5.66 5.66a8 8 0 1 1-11.32 0L12 2.69z"],["type","button","aria-label","Custom amount",1,"btn","btn-icon-square",3,"click","title"],["d","M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"],["type","button","aria-label","Chat",1,"btn","btn-icon-square",3,"click","title"],["d","M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17L4 17.17V4h16v12z"],["class","chatbot-panel chatbot-panel-floating",4,"ngIf"],["size","md",3,"title","closeModal",4,"ngIf"],["size","sm",3,"title","closeModal",4,"ngIf"],[1,"tab-content"],[1,"health-score-card"],[1,"score-circle"],[1,"score-value"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-value"],[1,"section-header"],["type","button",1,"btn","btn-primary",3,"click"],[1,"meals-list"],["class","meal-card",4,"ngFor","ngForOf"],[1,"meal-card"],[1,"meal-header"],[1,"meal-type"],["class","calories",4,"ngIf"],["class","notes",4,"ngIf"],[1,"btn","btn-small","btn-danger",3,"click"],[1,"calories"],[1,"notes"],[1,"activities-list"],["class","activity-card",4,"ngFor","ngForOf"],[1,"activity-card"],[1,"duration"],[1,"sleep-records"],["class","sleep-card",4,"ngFor","ngForOf"],[1,"sleep-card"],[1,"meditation-sessions"],["class","meditation-card",4,"ngFor","ngForOf"],[1,"meditation-card"],[1,"chatbot-panel","chatbot-panel-floating"],[1,"chatbot-panel-header"],["type","button","aria-label","Fermer",1,"chatbot-close",3,"click"],["class","chatbot-unavailable",4,"ngIf"],["class","chatbot-body",4,"ngIf"],[1,"chatbot-unavailable"],[1,"chatbot-body"],[1,"chatbot-messages"],["class","chat-row",3,"chat-row-user","chat-row-bot",4,"ngFor","ngForOf"],["class","chat-row chat-row-bot",4,"ngIf"],["class","chat-error",4,"ngIf"],[1,"chatbot-form",3,"ngSubmit"],["type","text","name","chatInput",1,"chat-input",3,"ngModelChange","ngModel","placeholder","disabled"],["type","submit",1,"btn","btn-primary","chat-send",3,"disabled"],[1,"chat-row"],[1,"chat-bubble"],[1,"chat-bubble-label"],[1,"chat-bubble-text",3,"innerText"],[1,"chat-row","chat-row-bot"],[1,"chat-bubble","chat-bubble-bot","chat-bubble-loading"],[1,"chat-bubble-text"],[1,"chat-error"],["size","md",3,"closeModal","title"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],[1,"form-row"],["name","type",3,"ngModelChange","ngModel"],["value","breakfast"],["value","lunch"],["value","dinner"],["value","snack"],["type","number","name","calories",3,"ngModelChange","ngModel"],["name","notes","rows","2",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],["type","text","name","type","placeholder","ex: Course, Natation, Yoga","required","",3,"ngModelChange","ngModel"],["type","number","name","duration","required","",3,"ngModelChange","ngModel"],["type","datetime-local","name","sleepTime","required","",3,"ngModelChange","ngModel"],["type","datetime-local","name","wakeTime","required","",3,"ngModelChange","ngModel"],["name","quality",3,"ngModelChange","ngModel"],["value","poor"],["value","fair"],["value","good"],["value","excellent"],["size","sm",3,"closeModal","title"],["type","number","name","duration",3,"ngModelChange","ngModel"],["value","guided"],["value","breathing"],["value","mindfulness"],["value","body-scan"],["type","number","name","waterCups","step","1","min","1","max","20","required","",3,"ngModelChange","ngModel"],[1,"form-hint"]],template:function(l,t){l&1&&(n(0,"div",0)(1,"h1"),o(2),p(3,"translate"),a(),n(4,"div",1)(5,"button",2),u("click",function(){return t.activeTab="overview"}),o(6),p(7,"translate"),a(),n(8,"button",2),u("click",function(){return t.activeTab="meals"}),o(9),p(10,"translate"),a(),n(11,"button",2),u("click",function(){return t.activeTab="activity"}),o(12),p(13,"translate"),a(),n(14,"button",2),u("click",function(){return t.activeTab="sleep"}),o(15),p(16,"translate"),a(),n(17,"button",2),u("click",function(){return t.activeTab="meditation"}),o(18),p(19,"translate"),a()(),y(20,xe,46,35,"div",3)(21,we,10,7,"div",3)(22,Se,8,1,"div",3)(23,Oe,10,7,"div",3)(24,Te,10,7,"div",3),n(25,"div",4)(26,"button",5),p(27,"translate"),u("click",function(){return t.addOneCup()}),H(),n(28,"svg",6),V(29,"path",7),a()(),W(),n(30,"button",8),p(31,"translate"),u("click",function(){return t.showWaterForm=!0}),H(),n(32,"svg",6),V(33,"path",9),a()(),W(),n(34,"button",10),p(35,"translate"),u("click",function(){return t.chatOpen=!t.chatOpen}),H(),n(36,"svg",6),V(37,"path",11),a()()(),y(38,We,9,5,"div",12)(39,Fe,38,22,"app-modal",13)(40,ze,30,22,"app-modal",13)(41,Le,34,21,"app-modal",13)(42,qe,33,18,"app-modal",14)(43,De,18,17,"app-modal",14),a()),l&2&&(i(2),m(s(3,32,"health.title")),i(3),P("active",t.activeTab==="overview"),i(),m(s(7,34,"health.overview")),i(2),P("active",t.activeTab==="meals"),i(),m(s(10,36,"health.meals")),i(2),P("active",t.activeTab==="activity"),i(),m(s(13,38,"health.activity")),i(2),P("active",t.activeTab==="sleep"),i(),m(s(16,40,"health.sleep")),i(2),P("active",t.activeTab==="meditation"),i(),m(s(19,42,"health.meditation")),i(2),g("ngIf",t.activeTab==="overview"),i(),g("ngIf",t.activeTab==="meals"),i(),g("ngIf",t.activeTab==="activity"),i(),g("ngIf",t.activeTab==="sleep"),i(),g("ngIf",t.activeTab==="meditation"),i(2),g("title",s(27,44,"health.addOneCup")),i(4),g("title",s(31,46,"health.customAmount")),i(4),P("is-open",t.chatOpen),g("title",s(35,48,"health.discussion")),i(4),g("ngIf",t.chatOpen),i(),g("ngIf",t.showMealForm),i(),g("ngIf",t.showActivityForm),i(),g("ngIf",t.showSleepForm),i(),g("ngIf",t.showMeditationForm),i(),g("ngIf",t.showWaterForm))},dependencies:[U,j,N,K,G,pe,ee,ie,ae,Y,te,ne,J,X,le,re,oe,$,Z,de,ce],styles:[".health-page[_ngcontent-%COMP%]{padding:48px 96px 96px;width:100%;margin:0;background:var(--notion-bg-secondary);min-height:calc(100vh - 45px);overflow-x:hidden;box-sizing:border-box}@media (max-width: 1200px){.health-page[_ngcontent-%COMP%]{padding:48px}}@media (max-width: 1024px){.health-page[_ngcontent-%COMP%]{padding:32px}}@media (max-width: 768px){.health-page[_ngcontent-%COMP%]{padding:24px 16px!important}.health-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;word-break:break-word}.tabs[_ngcontent-%COMP%]{width:100%!important;overflow-x:auto;-webkit-overflow-scrolling:touch;flex-wrap:nowrap}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap;padding:6px 10px;font-size:13px;flex-shrink:0}.health-score-card[_ngcontent-%COMP%]{padding:24px 16px}.score-circle[_ngcontent-%COMP%]{width:100px;height:100px}.score-value[_ngcontent-%COMP%]{font-size:28px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important;gap:8px}.stat-card[_ngcontent-%COMP%]{padding:12px;min-width:0}.stat-value[_ngcontent-%COMP%]{font-size:20px}.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.water-quick-add[_ngcontent-%COMP%]{bottom:16px;right:16px;max-width:calc(100vw - 32px)}.water-form[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.water-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.health-page[_ngcontent-%COMP%]{padding:16px 12px!important}.health-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important}.score-circle[_ngcontent-%COMP%]{width:80px;height:80px}.score-value[_ngcontent-%COMP%]{font-size:24px}.form-card[_ngcontent-%COMP%]{padding:16px}.water-quick-add[_ngcontent-%COMP%]{bottom:12px;right:12px;left:12px;max-width:none;width:auto}}.health-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;font-weight:700;color:var(--notion-text-primary);margin-bottom:4px;letter-spacing:-.03em}.tabs[_ngcontent-%COMP%]{display:flex;gap:2px;margin-bottom:24px;background:var(--notion-bg-tertiary);padding:2px;border-radius:var(--notion-radius);border:1px solid var(--notion-border);width:fit-content;overflow-x:auto;-webkit-overflow-scrolling:touch}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:none;background:transparent;cursor:pointer;font-size:14px;font-weight:400;color:var(--notion-text-secondary);border-radius:var(--notion-radius-sm);transition:all 20ms ease-in 0s;font-family:inherit}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#00000008}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--notion-bg);color:var(--notion-text-primary);font-weight:500;box-shadow:var(--notion-shadow-sm)}.tab-content[_ngcontent-%COMP%]{margin-top:24px}.water-quick-add[_ngcontent-%COMP%]   .btn-icon-square[_ngcontent-%COMP%]{width:44px;height:44px;min-width:44px;min-height:44px;padding:0;border-radius:10px;display:inline-flex;align-items:center;justify-content:center;border:1px solid var(--notion-border);background:var(--notion-bg);color:var(--notion-text-primary);cursor:pointer;transition:background .15s ease,border-color .15s ease,color .15s ease}.water-quick-add[_ngcontent-%COMP%]   .btn-icon-square[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);border-color:var(--notion-border)}.water-quick-add[_ngcontent-%COMP%]   .btn-icon-square[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}.water-quick-add[_ngcontent-%COMP%]   .btn-icon-square.is-open[_ngcontent-%COMP%]{background:var(--notion-blue, #2563eb);color:#fff;border-color:var(--notion-blue, #2563eb)}.dark-theme[_ngcontent-%COMP%]   .water-quick-add[_ngcontent-%COMP%]   .btn-icon-square.is-open[_ngcontent-%COMP%]{background:#3b82f6;border-color:#3b82f6;color:#fff}.chatbot-panel-floating[_ngcontent-%COMP%]{position:fixed;bottom:80px;right:24px;width:100%;max-width:380px;max-height:420px;background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:16px;box-shadow:0 8px 32px #00000026;display:flex;flex-direction:column;overflow:hidden;z-index:1000}.chatbot-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.chatbot-panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--notion-border);background:var(--notion-bg-tertiary)}.chatbot-panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:600;color:var(--notion-text-primary)}.chatbot-close[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:transparent;color:var(--notion-text-secondary);font-size:24px;line-height:1;cursor:pointer;border-radius:var(--notion-radius);padding:0;display:flex;align-items:center;justify-content:center;transition:background .15s ease,color .15s ease}.chatbot-close[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);color:var(--notion-text-primary)}.chatbot-unavailable[_ngcontent-%COMP%]{padding:20px;text-align:center}.chatbot-unavailable[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--notion-text-primary)}.chatbot-unavailable[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--notion-text-tertiary);font-size:13px}.chatbot-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-height:0}.chatbot-messages[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:12px;display:flex;flex-direction:column;gap:4px;max-height:280px}.chat-row[_ngcontent-%COMP%]{display:flex;width:100%}.chat-row-user[_ngcontent-%COMP%]{justify-content:flex-end}.chat-row-bot[_ngcontent-%COMP%]{justify-content:flex-start}.chat-bubble[_ngcontent-%COMP%]{max-width:85%;padding:10px 14px;border-radius:18px;box-shadow:0 1px 2px #0000000f}.chat-bubble-user[_ngcontent-%COMP%]{background:var(--notion-blue, #2563eb);color:#fff;border-bottom-right-radius:4px}.chat-bubble-bot[_ngcontent-%COMP%]{background:var(--notion-bg-tertiary);border:1px solid var(--notion-border);color:var(--notion-text-primary);border-bottom-left-radius:4px}.chat-bubble-loading[_ngcontent-%COMP%]   .chat-bubble-text[_ngcontent-%COMP%]{font-style:italic;color:var(--notion-text-tertiary)}.chat-bubble-label[_ngcontent-%COMP%]{display:block;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.4px;margin-bottom:6px;opacity:.85}.chat-bubble-user[_ngcontent-%COMP%]   .chat-bubble-label[_ngcontent-%COMP%]{color:#ffffffe6}.chat-bubble-bot[_ngcontent-%COMP%]   .chat-bubble-label[_ngcontent-%COMP%]{color:var(--notion-text-tertiary)}.chat-bubble-text[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;white-space:pre-wrap;word-break:break-word}.chatbot-panel[_ngcontent-%COMP%]   .chat-error[_ngcontent-%COMP%]{margin:0 12px 4px;font-size:12px;color:var(--notion-red, #c0392b)}.chatbot-form[_ngcontent-%COMP%]{display:flex;gap:8px;padding:12px;border-top:1px solid var(--notion-border);background:var(--notion-bg)}.chatbot-form[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]{flex:1;padding:8px 12px;border:1px solid var(--notion-border);border-radius:12px;font-size:14px;background:var(--notion-bg);color:var(--notion-text-primary)}.chatbot-form[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue)}.dark-theme[_ngcontent-%COMP%]   .discussion-circle.is-open[_ngcontent-%COMP%]{background:#3b82f6;border-color:#3b82f6}.dark-theme[_ngcontent-%COMP%]   .chat-bubble-user[_ngcontent-%COMP%]{background:#3b82f6;border:none}.dark-theme[_ngcontent-%COMP%]   .chat-bubble-bot[_ngcontent-%COMP%]{background:#ffffff0f;border-color:#ffffff1a}.health-score-card[_ngcontent-%COMP%]{text-align:center;background:var(--notion-bg);border:1px solid var(--notion-border);padding:32px;border-radius:var(--notion-radius);margin-bottom:24px}.health-score-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--notion-text-secondary);margin-bottom:16px}.score-circle[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;background:var(--notion-bg-tertiary);display:flex;align-items:center;justify-content:center;margin:16px auto;border:2px solid var(--notion-border)}.score-value[_ngcontent-%COMP%]{font-size:32px;font-weight:600;color:var(--notion-text-primary)}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px;margin-bottom:24px}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.stat-card[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);padding:16px;border-radius:var(--notion-radius);transition:background 20ms ease-in 0s}.stat-card[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.stat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--notion-text-secondary);font-size:12px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--notion-text-primary);margin:4px 0;line-height:1.2}.stat-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--notion-text-tertiary);font-size:12px}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--notion-text-primary);margin:0;letter-spacing:-.02em}.form-card[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);padding:24px;border-radius:var(--notion-radius);margin-bottom:24px}.form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--notion-text-primary);margin:0 0 16px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:4px;font-weight:500;color:var(--notion-text-secondary);font-size:12px;text-transform:uppercase;letter-spacing:.5px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border:1px solid var(--notion-border);border-radius:var(--notion-radius);font-size:14px;transition:border-color 20ms ease-in 0s;font-family:inherit}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue);box-shadow:0 0 0 1px var(--notion-blue)}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:20px}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.btn[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid var(--notion-border);border-radius:var(--notion-radius);cursor:pointer;font-size:14px;font-weight:400;transition:background 20ms ease-in 0s;background:transparent;color:var(--notion-text-primary);font-family:inherit}.btn[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.btn-primary[_ngcontent-%COMP%]{background:var(--notion-text-primary);color:#fff;border-color:var(--notion-text-primary)}.btn-primary[_ngcontent-%COMP%]:hover{background:#2e2e2c}.btn-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--notion-text-primary)}.btn-danger[_ngcontent-%COMP%]{background:var(--notion-red);color:#fff;border-color:var(--notion-red)}.btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626}.btn-small[_ngcontent-%COMP%]{padding:4px 10px;font-size:13px}.dark-theme[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:#ffffff14!important;border-color:#fff3!important;color:var(--notion-text-primary)!important}.dark-theme[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:#ffffff26!important;border-color:#ffffff4d!important;color:var(--notion-text-primary)!important}.dark-theme[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background:var(--notion-red)!important;color:#fff!important;border-color:var(--notion-red)!important}.dark-theme[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background:#dc2626!important;color:#fff!important}.meals-list[_ngcontent-%COMP%], .activities-list[_ngcontent-%COMP%], .sleep-records[_ngcontent-%COMP%], .meditation-sessions[_ngcontent-%COMP%]{display:grid;gap:12px}.meal-card[_ngcontent-%COMP%], .activity-card[_ngcontent-%COMP%], .sleep-card[_ngcontent-%COMP%], .meditation-card[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);padding:16px;border-radius:var(--notion-radius);transition:background 20ms ease-in 0s}.meal-card[_ngcontent-%COMP%]:hover, .activity-card[_ngcontent-%COMP%]:hover, .sleep-card[_ngcontent-%COMP%]:hover, .meditation-card[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)}.meal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.meal-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:500;color:var(--notion-text-primary)}.meal-type[_ngcontent-%COMP%]{padding:2px 8px;background:var(--notion-gray-bg);border-radius:var(--notion-radius);font-size:11px;font-weight:500;color:var(--notion-text-secondary);text-transform:uppercase;letter-spacing:.5px}.calories[_ngcontent-%COMP%]{font-weight:500;color:var(--notion-orange);margin:4px 0;font-size:14px}.duration[_ngcontent-%COMP%]{font-weight:500;color:var(--notion-blue);margin:4px 0;font-size:14px}.notes[_ngcontent-%COMP%]{color:var(--notion-text-secondary);margin:8px 0;font-size:14px;line-height:1.5}.water-quick-add[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;background:var(--notion-bg);padding:12px;border-radius:var(--notion-radius);box-shadow:var(--notion-shadow-lg);border:1px solid var(--notion-border);z-index:100;display:flex;flex-wrap:wrap;align-items:center;gap:8px}.water-quick-add[_ngcontent-%COMP%]   .water-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:6px}.water-form[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:8px}.water-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;padding:6px 8px;border:1px solid var(--notion-border);border-radius:var(--notion-radius);font-size:14px}"]})}}return r})();export{et as HealthComponent};
