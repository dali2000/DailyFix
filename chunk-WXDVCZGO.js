import{a as xe}from"./chunk-KOOHP575.js";import{a as Ce}from"./chunk-SRJQTDRU.js";import{a as fe}from"./chunk-Q7ULZQXC.js";import{a as te,c as ie,d as ne,e as re,f as oe,g as ae,h as le,l as se,m as de,n as pe,o as ce,p as ge,q as me,r as ue,t as he}from"./chunk-AV73GBKR.js";import{$ as _,$a as Z,A as m,B as u,C as T,D as W,Da as Y,Ea as J,H as R,K as i,Ka as K,L as E,O as w,P as M,Q as h,R as N,Ra as Q,S as P,U as n,V as r,W as k,Z as O,_ as f,_a as X,ab as $,bb as ee,cb as _e,ea as G,fa as l,ga as c,ha as S,ia as B,ma as b,na as y,oa as v,qa as q,sa as o,ta as a,w as j}from"./chunk-YCOLXJFA.js";import{a as A,b as H}from"./chunk-POLL2CVR.js";function ye(p,x){if(p&1&&k(0,"img",78),p&2){let e=_();h("src",e.currentUser.profilePhoto,R)}}function ve(p,x){if(p&1&&(n(0,"span",79),l(1),r()),p&2){let e=_();i(),c(e.userInitials)}}function we(p,x){if(p&1&&(n(0,"p",80),l(1),r()),p&2){let e=_();i(),c(e.profilePhotoError)}}function Se(p,x){if(p&1&&(n(0,"option",81),l(1),r()),p&2){let e=x.$implicit;h("value",e.code),i(),S(" ",e.label," ")}}function Me(p,x){if(p&1){let e=O();n(0,"li",84)(1,"span",85),l(2),r(),n(3,"span",86),l(4),r(),n(5,"button",87),o(6,"translate"),o(7,"translate"),f("click",function(){let t=m(e).$implicit,s=_(2);return u(s.removeCustomCategory(t.id))}),l(8,"\xD7"),r()()}if(p&2){let e=x.$implicit,d=_(2);i(2),c(d.getCategoryIcon(e.name)),i(2),c(e.name),i(),h("title",a(6,4,"finance.removeCategory")),M("aria-label",a(7,6,"common.delete"))}}function Pe(p,x){if(p&1&&(n(0,"ul",82),w(1,Me,9,8,"li",83),r()),p&2){let e=_();i(),h("ngForOf",e.customCategoryList)}}function Oe(p,x){p&1&&(n(0,"p",88),l(1),o(2,"translate"),r()),p&2&&(i(),c(a(2,1,"finance.noCustomCategories")))}function Ee(p,x){if(p&1&&(n(0,"option",81),l(1),r()),p&2){let e=x.$implicit;h("value",e.code),i(),B(" ",e.label," (",e.symbol,") ")}}function Ie(p,x){if(p&1&&(n(0,"span",104),l(1),r()),p&2){let e=_().$implicit;i(),c(e.holderName)}}function ke(p,x){if(p&1&&(n(0,"span",105),l(1),r()),p&2){let e=_().$implicit;i(),c(e.currency)}}function Be(p,x){p&1&&(n(0,"span",106),l(1),o(2,"translate"),r()),p&2&&(i(),c(a(2,1,"settings.defaultCard")))}function Ve(p,x){if(p&1){let e=O();n(0,"button",101),f("click",function(){m(e);let t=_().$implicit,s=_(2);return u(s.setDefaultCard(t))}),l(1),o(2,"translate"),r()}p&2&&(i(),S(" ",a(2,1,"settings.setDefault")," "))}function Te(p,x){if(p&1){let e=O();n(0,"li",91)(1,"div",92)(2,"span",93),l(3),r(),w(4,Ie,2,1,"span",94),n(5,"span",95),l(6),r(),n(7,"span",96)(8,"span",97),l(9),r(),w(10,ke,2,1,"span",98),r(),w(11,Be,3,3,"span",99),r(),n(12,"div",100)(13,"button",101),f("click",function(){let t=m(e).$implicit,s=_(2);return u(s.openEditCardModal(t))}),l(14),o(15,"translate"),r(),w(16,Ve,3,3,"button",102),n(17,"button",103),o(18,"translate"),f("click",function(){let t=m(e).$implicit,s=_(2);return u(s.deleteWalletCard(t))}),l(19,"\xD7"),r()()()}if(p&2){let e=x.$implicit,d=_(2);i(3),c(e.name||e.holderName),i(),h("ngIf",e.name),i(2),c(d.maskCardNumber(e.cardNumber)),i(3),c(e.expiryDate),i(),h("ngIf",e.currency),i(),h("ngIf",e.isDefault),i(3),S(" ",a(15,9,"settings.editCard")," "),i(2),h("ngIf",!e.isDefault),i(),M("aria-label",a(18,11,"common.delete"))}}function We(p,x){if(p&1&&(n(0,"ul",89),w(1,Te,20,13,"li",90),r()),p&2){let e=_();i(),h("ngForOf",e.walletCards)}}function Ne(p,x){p&1&&(n(0,"p",107),l(1),o(2,"translate"),r()),p&2&&(i(),c(a(2,1,"settings.noCards")))}function Fe(p,x){if(p&1&&(n(0,"option",81),l(1),r()),p&2){let e=x.$implicit;h("value",e.code),i(),B("",e.label," (",e.symbol,")")}}function De(p,x){if(p&1){let e=O();n(0,"button",127),f("click",function(){let t=m(e).$implicit,s=_(2);return u(s.newCard.color=t.key)}),r()}if(p&2){let e=x.$implicit,d=_(2);N("background",e.gradient),P("selected",d.newCard.color===e.key),M("aria-pressed",d.newCard.color===e.key)("title",e.key)}}function Le(p,x){if(p&1){let e=O();n(0,"app-modal",108),o(1,"translate"),f("closeModal",function(){m(e);let t=_();return u(t.closeAddCardModal())}),n(2,"form",109),f("ngSubmit",function(){m(e);let t=_();return u(t.addWalletCard())}),n(3,"div",18)(4,"label",110),l(5),o(6,"translate"),r(),n(7,"input",111),o(8,"translate"),v("ngModelChange",function(t){m(e);let s=_();return y(s.newCard.name,t)||(s.newCard.name=t),u(t)}),r()(),n(9,"div",18)(10,"label",112),l(11),o(12,"translate"),r(),n(13,"input",113),o(14,"translate"),v("ngModelChange",function(t){m(e);let s=_();return y(s.newCard.holderName,t)||(s.newCard.holderName=t),u(t)}),r()(),n(15,"div",18)(16,"label",114),l(17),o(18,"translate"),r(),n(19,"input",115),o(20,"translate"),v("ngModelChange",function(t){m(e);let s=_();return y(s.newCard.cardNumber,t)||(s.newCard.cardNumber=t),u(t)}),r()(),n(21,"div",18)(22,"label",116),l(23),o(24,"translate"),r(),n(25,"input",117),v("ngModelChange",function(t){m(e);let s=_();return y(s.newCard.expiryDate,t)||(s.newCard.expiryDate=t),u(t)}),r()(),n(26,"div",18)(27,"label",118),l(28),o(29,"translate"),r(),n(30,"input",119),o(31,"translate"),v("ngModelChange",function(t){m(e);let s=_();return y(s.newCard.rib,t)||(s.newCard.rib=t),u(t)}),r()(),n(32,"div",18)(33,"label",120),l(34),o(35,"translate"),r(),n(36,"select",121),v("ngModelChange",function(t){m(e);let s=_();return y(s.newCard.currency,t)||(s.newCard.currency=t),u(t)}),w(37,Fe,2,3,"option",59),r()(),n(38,"div",18)(39,"label"),l(40),o(41,"translate"),r(),n(42,"div",122),o(43,"translate"),w(44,De,1,6,"button",123),r()(),n(45,"div",124)(46,"button",125),f("click",function(){m(e);let t=_();return u(t.closeAddCardModal())}),l(47),o(48,"translate"),r(),n(49,"button",126),l(50),o(51,"translate"),r()()()()}if(p&2){let e=_();h("title",a(1,23,"settings.addCard")),i(5),c(a(6,25,"settings.cardName")),i(2),b("ngModel",e.newCard.name),h("placeholder",a(8,27,"settings.cardNamePlaceholder")),i(4),S("",a(12,29,"settings.cardHolder")," *"),i(2),b("ngModel",e.newCard.holderName),h("placeholder",a(14,31,"settings.cardHolderPlaceholder")),i(4),S("",a(18,33,"settings.cardNumber")," *"),i(2),b("ngModel",e.newCard.cardNumber),h("placeholder",a(20,35,"settings.cardNumberPlaceholder")),i(4),S("",a(24,37,"settings.cardExpiry")," *"),i(2),b("ngModel",e.newCard.expiryDate),i(3),c(a(29,39,"settings.cardRib")),i(2),b("ngModel",e.newCard.rib),h("placeholder",a(31,41,"settings.cardRibPlaceholder")),i(4),c(a(35,43,"settings.cardCurrency")),i(2),b("ngModel",e.newCard.currency),i(),h("ngForOf",e.currencies),i(3),c(a(41,45,"settings.cardColor")),i(2),M("aria-label",a(43,47,"settings.cardColor")),i(2),h("ngForOf",e.cardColorOptions),i(3),c(a(48,49,"common.cancel")),i(3),c(a(51,51,"common.add"))}}function ze(p,x){if(p&1&&(n(0,"option",81),l(1),r()),p&2){let e=x.$implicit;h("value",e.code),i(),B("",e.label," (",e.symbol,")")}}function Ue(p,x){if(p&1){let e=O();n(0,"button",127),f("click",function(){let t=m(e).$implicit,s=_(2);return u(s.editCardForm.color=t.key)}),r()}if(p&2){let e=x.$implicit,d=_(2);N("background",e.gradient),P("selected",d.editCardForm.color===e.key),M("aria-pressed",d.editCardForm.color===e.key)("title",e.key)}}function Ae(p,x){if(p&1){let e=O();n(0,"app-modal",108),o(1,"translate"),f("closeModal",function(){m(e);let t=_();return u(t.closeEditCardModal())}),n(2,"form",109),f("ngSubmit",function(){m(e);let t=_();return u(t.saveEditCard())}),n(3,"div",18)(4,"label",128),l(5),o(6,"translate"),r(),n(7,"input",129),o(8,"translate"),v("ngModelChange",function(t){m(e);let s=_();return y(s.editCardForm.name,t)||(s.editCardForm.name=t),u(t)}),r()(),n(9,"div",18)(10,"label",130),l(11),o(12,"translate"),r(),n(13,"input",131),o(14,"translate"),v("ngModelChange",function(t){m(e);let s=_();return y(s.editCardForm.holderName,t)||(s.editCardForm.holderName=t),u(t)}),r()(),n(15,"div",18)(16,"label",132),l(17),o(18,"translate"),r(),n(19,"input",133),o(20,"translate"),v("ngModelChange",function(t){m(e);let s=_();return y(s.editCardForm.cardNumber,t)||(s.editCardForm.cardNumber=t),u(t)}),r()(),n(21,"div",18)(22,"label",134),l(23),o(24,"translate"),r(),n(25,"input",135),v("ngModelChange",function(t){m(e);let s=_();return y(s.editCardForm.expiryDate,t)||(s.editCardForm.expiryDate=t),u(t)}),r()(),n(26,"div",18)(27,"label",136),l(28),o(29,"translate"),r(),n(30,"input",137),o(31,"translate"),v("ngModelChange",function(t){m(e);let s=_();return y(s.editCardForm.rib,t)||(s.editCardForm.rib=t),u(t)}),r()(),n(32,"div",18)(33,"label",138),l(34),o(35,"translate"),r(),n(36,"select",139),v("ngModelChange",function(t){m(e);let s=_();return y(s.editCardForm.currency,t)||(s.editCardForm.currency=t),u(t)}),w(37,ze,2,3,"option",59),r()(),n(38,"div",18)(39,"label"),l(40),o(41,"translate"),r(),n(42,"div",122),o(43,"translate"),w(44,Ue,1,6,"button",123),r()(),n(45,"div",124)(46,"button",125),f("click",function(){m(e);let t=_();return u(t.closeEditCardModal())}),l(47),o(48,"translate"),r(),n(49,"button",126),l(50),o(51,"translate"),r()()()()}if(p&2){let e=_();h("title",a(1,23,"settings.editCard")),i(5),c(a(6,25,"settings.cardName")),i(2),b("ngModel",e.editCardForm.name),h("placeholder",a(8,27,"settings.cardNamePlaceholder")),i(4),S("",a(12,29,"settings.cardHolder")," *"),i(2),b("ngModel",e.editCardForm.holderName),h("placeholder",a(14,31,"settings.cardHolderPlaceholder")),i(4),S("",a(18,33,"settings.cardNumber")," *"),i(2),b("ngModel",e.editCardForm.cardNumber),h("placeholder",a(20,35,"settings.cardNumberPlaceholder")),i(4),S("",a(24,37,"settings.cardExpiry")," *"),i(2),b("ngModel",e.editCardForm.expiryDate),i(3),c(a(29,39,"settings.cardRib")),i(2),b("ngModel",e.editCardForm.rib),h("placeholder",a(31,41,"settings.cardRibPlaceholder")),i(4),c(a(35,43,"settings.cardCurrency")),i(2),b("ngModel",e.editCardForm.currency),i(),h("ngForOf",e.currencies),i(3),c(a(41,45,"settings.cardColor")),i(2),M("aria-label",a(43,47,"settings.cardColor")),i(2),h("ngForOf",e.cardColorOptions),i(3),c(a(48,49,"common.cancel")),i(3),c(a(51,51,"common.save"))}}function He(p,x){if(p&1&&(n(0,"p"),l(1),r()),p&2){let e=_();i(),B("",e.currentUser.fullName," \u2013 ",e.currentUser.email,"")}}function je(p,x){p&1&&(n(0,"p"),l(1),o(2,"translate"),r()),p&2&&(i(),c(a(2,1,"common.loading")))}var Re=[{code:"fr",label:"Fran\xE7ais"},{code:"en",label:"English"},{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629 (\u062A\u0648\u0646\u0633)"}],Ge=[{key:"violet",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{key:"blue",gradient:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)"},{key:"green",gradient:"linear-gradient(135deg, #16a34a 0%, #15803d 100%)"},{key:"orange",gradient:"linear-gradient(135deg, #ea580c 0%, #c2410c 100%)"},{key:"red",gradient:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)"},{key:"teal",gradient:"linear-gradient(135deg, #0d9488 0%, #0f766e 100%)"},{key:"indigo",gradient:"linear-gradient(135deg, #4f46e5 0%, #3730a3 100%)"},{key:"pink",gradient:"linear-gradient(135deg, #db2777 0%, #be185d 100%)"},{key:"black",gradient:"linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%)"}],at=(()=>{class p{constructor(e,d,t,s,C,g,I){this.themeService=e,this.authService=d,this.currencyService=t,this.i18n=s,this.router=C,this.financeService=g,this.toastService=I,this.currentTheme="light",this.currentUser=null,this.profileFullName="",this.profileHeight=null,this.profileWeight=null,this.profileGender="",this.profileSaving=!1,this.profilePhotoSaving=!1,this.profilePhotoError=null,this.selectedCurrencyCode="EUR",this.selectedLocale="fr",this.languages=Re,this.customCategoryList=[],this.categoryToAdd="",this.walletCards=[],this.showAddCardModal=!1,this.showEditCardModal=!1,this.newCard={name:"",holderName:"",cardNumber:"",expiryDate:"",rib:"",currency:"",color:"violet"},this.editCard=null,this.editCardForm={},this.cardColorOptions=Ge}get currencies(){return this.currencyService.currencies}get userInitials(){if(!this.currentUser?.fullName)return"?";let e=String(this.currentUser.fullName).trim().split(/\s+/);return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():this.currentUser.fullName.slice(0,2).toUpperCase()}compressImageAsDataUrl(e,d=400,t=.85){return new Promise((s,C)=>{let g=new Image;g.crossOrigin="anonymous",g.onload=()=>{let I=g.naturalWidth,F=g.naturalHeight,D=Math.min(1,d/Math.max(I,F)),L=Math.round(I*D),z=Math.round(F*D),V=document.createElement("canvas");V.width=L,V.height=z;let U=V.getContext("2d");if(!U){s(e);return}U.drawImage(g,0,0,L,z);try{let be=V.toDataURL("image/jpeg",t);s(be)}catch{s(e)}},g.onerror=()=>C(new Error("Invalid image")),g.src=e})}onPhotoSelected(e){let d=e.target,t=d?.files?.[0];if(!t||!t.type.startsWith("image/"))return;this.profilePhotoError=null,this.profilePhotoSaving=!0;let s=new FileReader;s.onload=()=>{let C=s.result;this.compressImageAsDataUrl(C).then(g=>{this.authService.updateProfile({profilePhoto:g}).subscribe({next:()=>{d.value="",this.profilePhotoSaving=!1},error:I=>{console.error("Erreur lors de la mise \xE0 jour de la photo",I),this.profilePhotoError=I?.error?.message||"Erreur lors de l'envoi de la photo.",this.profilePhotoSaving=!1}})}).catch(()=>{this.profilePhotoError="Image invalide.",this.profilePhotoSaving=!1})},s.onerror=()=>{this.profilePhotoError="Impossible de lire le fichier.",this.profilePhotoSaving=!1},s.readAsDataURL(t)}saveProfile(){let e=(this.profileFullName||"").trim();if(e.length<2)return;this.profileSaving=!0;let d={fullName:e};d.height=this.profileHeight!=null&&this.profileHeight>0?this.profileHeight:null,d.weight=this.profileWeight!=null&&this.profileWeight>0?this.profileWeight:null,d.gender=this.profileGender&&["male","female"].includes(this.profileGender)?this.profileGender:null,this.authService.updateProfile(d).subscribe({next:()=>{this.profileSaving=!1},error:t=>{console.error("Erreur lors de la sauvegarde du profil",t),this.profileSaving=!1}})}ngOnInit(){this.themeSubscription=this.themeService.theme$.subscribe(e=>{this.currentTheme=e}),this.userSubscription=this.authService.currentUser$.subscribe(e=>{this.currentUser=e,e&&(this.profileFullName=e.fullName||"",this.profileHeight=e.height!=null?Number(e.height):null,this.profileWeight=e.weight!=null?Number(e.weight):null,this.profileGender=e.gender||"",e.locale&&(this.selectedLocale=e.locale))}),this.authService.getToken()&&this.authService.refreshCurrentUser().subscribe(),this.selectedCurrencyCode=this.currencyService.getSelectedCurrencyCode(),this.currencySubscription=this.currencyService.selectedCurrency$.subscribe(e=>{this.selectedCurrencyCode=e}),this.selectedLocale=this.authService.getCurrentUser()?.locale||localStorage.getItem("dailyfix_locale")||"fr",this.categoriesSubscription=this.financeService.getCustomCategoriesObservable().subscribe({next:e=>{this.customCategoryList=e.map(d=>H(A({},d),{id:typeof d.id=="number"?d.id:parseInt(String(d.id),10)}))},error:e=>console.error("Error loading categories:",e)}),this.walletCardsSubscription=this.financeService.getWalletCardsObservable().subscribe({next:e=>{this.walletCards=e},error:e=>console.error("Error loading wallet cards:",e)})}getCategoryIcon(e){return{food:"\u{1F354}",shopping:"\u{1F6CD}\uFE0F",health:"\u{1F3E5}",leisure:"\u{1F3AE}",transport:"\u{1F697}",bills:"\u{1F4C4}",other:"\u{1F4E6}"}[e]||"\u{1F4E6}"}addCustomCategory(){let e=this.categoryToAdd?.trim()||"";e&&this.financeService.addCustomCategory(e).subscribe({next:()=>{this.customCategoryList=this.financeService.getCustomCategories(),this.categoryToAdd=""},error:d=>{console.error("Error adding category:",d),this.toastService.error(this.i18n.instant("common.error")||"Erreur")}})}removeCustomCategory(e){this.financeService.removeCustomCategory(e).subscribe({next:()=>{this.customCategoryList=this.financeService.getCustomCategories(),this.toastService.success(this.i18n.instant("finance.categoryRemoved")||"Cat\xE9gorie retir\xE9e.")},error:d=>{console.error("Error removing category:",d),this.toastService.error(this.i18n.instant("common.error")||"Erreur")}})}onLocaleChange(e){this.selectedLocale=e,this.i18n.use(e).subscribe();try{localStorage.setItem("dailyfix_locale",e)}catch{}this.authService.getCurrentUser()&&this.authService.updateProfile({locale:e}).subscribe({error:d=>console.error("Erreur lors de la sauvegarde de la langue",d)})}ngOnDestroy(){this.themeSubscription?.unsubscribe(),this.userSubscription?.unsubscribe(),this.currencySubscription?.unsubscribe(),this.categoriesSubscription?.unsubscribe(),this.walletCardsSubscription?.unsubscribe()}openAddCardModal(){this.newCard={name:"",holderName:"",cardNumber:"",expiryDate:"",rib:"",currency:this.selectedCurrencyCode||"EUR",color:"violet"},this.showAddCardModal=!0}closeAddCardModal(){this.showAddCardModal=!1,this.newCard={}}openEditCardModal(e){this.editCard=e,this.editCardForm={name:e.name??"",holderName:e.holderName,cardNumber:e.cardNumber,expiryDate:e.expiryDate,rib:e.rib??"",currency:e.currency??"",color:e.color??"violet"},this.showEditCardModal=!0}closeEditCardModal(){this.showEditCardModal=!1,this.editCard=null,this.editCardForm={}}saveEditCard(){if(!this.editCard?.id)return;let e=(this.editCardForm.holderName||"").trim(),d=(this.editCardForm.cardNumber||"").trim(),t=(this.editCardForm.expiryDate||"").trim();if(!e||!d||!t){this.toastService.warning(this.i18n.instant("settings.walletCardRequired")||"Holder, card number and expiry are required.");return}this.financeService.updateWalletCard(String(this.editCard.id),{name:(this.editCardForm.name||"").trim()||void 0,holderName:e,cardNumber:d,expiryDate:t,rib:(this.editCardForm.rib||"").trim()||void 0,currency:(this.editCardForm.currency||"").trim()||void 0,color:(this.editCardForm.color||"").trim()||void 0}).subscribe({next:()=>{this.closeEditCardModal(),this.walletCards=this.financeService.getWalletCards(),this.toastService.success(this.i18n.instant("settings.walletCardUpdated")||"Card updated.")},error:s=>this.toastService.error(s?.error?.message||"Error")})}addWalletCard(){let e=(this.newCard.holderName||"").trim(),d=(this.newCard.cardNumber||"").trim(),t=(this.newCard.expiryDate||"").trim();if(!e||!d||!t){this.toastService.warning(this.i18n.instant("settings.walletCardRequired")||"Holder, card number and expiry are required.");return}this.financeService.addWalletCard({name:(this.newCard.name||"").trim()||void 0,holderName:e,cardNumber:d,expiryDate:t,rib:(this.newCard.rib||"").trim()||void 0,currency:(this.newCard.currency||"").trim()||void 0,color:(this.newCard.color||"").trim()||void 0,isDefault:this.walletCards.length===0}).subscribe({next:()=>{this.closeAddCardModal(),this.toastService.success(this.i18n.instant("settings.walletCardAdded")||"Card added.")},error:s=>{this.toastService.error(s?.error?.message||s?.message||this.i18n.instant("common.error")||"Error")}})}setDefaultCard(e){this.financeService.updateWalletCard(String(e.id),{isDefault:!0}).subscribe({next:()=>{this.walletCards=this.financeService.getWalletCards(),this.toastService.success(this.i18n.instant("settings.walletCardSetDefault")||"Default card updated.")},error:d=>this.toastService.error(d?.error?.message||"Error")})}deleteWalletCard(e){confirm(this.i18n.instant("settings.walletCardDeleteConfirm")||"Remove this card?")&&this.financeService.deleteWalletCard(String(e.id)).subscribe({next:()=>{this.walletCards=this.financeService.getWalletCards(),this.toastService.success(this.i18n.instant("settings.walletCardDeleted")||"Card removed.")},error:d=>this.toastService.error(d?.error?.message||"Error")})}maskCardNumber(e){if(!e||e.length<8)return"****";let d=e.replace(/\s/g,"");return d.slice(0,4)+" **** **** "+d.slice(-4)}onCurrencyChange(e){this.authService.getCurrentUser()?this.authService.updateProfile({currency:e}).subscribe({error:d=>console.error("Erreur lors de la sauvegarde de la devise",d)}):this.currencyService.setSelectedCurrency(e)}toggleTheme(){this.themeService.toggleTheme()}setTheme(e){this.themeService.setTheme(e),this.authService.getCurrentUser()&&this.authService.updateProfile({theme:e}).subscribe({error:d=>console.error("Erreur lors de la sauvegarde du th\xE8me",d)})}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(d){return new(d||p)(E(Z),E(ee),E(X),E($),E(Q),E(xe),E(Ce))}}static{this.\u0275cmp=j({type:p,selectors:[["app-settings"]],standalone:!0,features:[q],decls:228,vars:190,consts:[["photoInput",""],[1,"settings-page"],[1,"settings-container"],[1,"settings-header"],[1,"settings-title"],[1,"settings-desc"],[1,"settings-section","profile-section"],[1,"section-heading"],[1,"section-desc"],[1,"profile-card"],[1,"profile-avatar-wrap"],[1,"profile-avatar"],["alt","","class","avatar-img",3,"src",4,"ngIf"],["class","avatar-initials",4,"ngIf"],["type","file","accept","image/*",1,"profile-photo-input",3,"change"],["type","button",1,"btn","btn-secondary","btn-change-photo",3,"click","disabled"],["class","profile-photo-error",4,"ngIf"],[1,"profile-fields"],[1,"form-group"],["for","profile-fullName"],["id","profile-fullName","type","text","minlength","2",1,"form-input",3,"ngModelChange","ngModel","placeholder"],[1,"profile-email-readonly"],[1,"profile-email-hint"],[1,"form-row"],["for","profile-height"],["id","profile-height","type","number","min","50","max","250","step","0.1","placeholder","170",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-hint"],["for","profile-weight"],["id","profile-weight","type","number","min","20","max","300","step","0.1","placeholder","70",1,"form-input",3,"ngModelChange","ngModel"],["for","profile-gender"],["id","profile-gender",1,"form-input",3,"ngModelChange","ngModel"],["value",""],["value","male"],["value","female"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"settings-section","section-appearance"],[1,"setting-item"],[1,"setting-info"],[1,"setting-control"],[1,"theme-toggle"],[1,"theme-option",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","5"],["x1","12","y1","1","x2","12","y2","3"],["x1","12","y1","21","x2","12","y2","23"],["x1","4.22","y1","4.22","x2","5.64","y2","5.64"],["x1","18.36","y1","18.36","x2","19.78","y2","19.78"],["x1","1","y1","12","x2","3","y2","12"],["x1","21","y1","12","x2","23","y2","12"],["x1","4.22","y1","19.78","x2","5.64","y2","18.36"],["x1","18.36","y1","5.64","x2","19.78","y2","4.22"],["d","M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"],["aria-label","Bleu",1,"theme-option",3,"click"],[2,"width","12px","height","12px","border-radius","999px","background","#2563eb"],["aria-label","For\xEAt",1,"theme-option",3,"click"],[2,"width","12px","height","12px","border-radius","999px","background","#15803d"],["aria-label","Violet",1,"theme-option",3,"click"],[2,"width","12px","height","12px","border-radius","999px","background","#7c3aed"],["id","locale-select",1,"currency-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"settings-section","custom-categories-section"],["aria-hidden","true",1,"section-emoji"],[1,"custom-categories-add"],["type","text",3,"ngModelChange","keydown.enter","ngModel","placeholder"],["class","custom-categories-list",4,"ngIf"],["class","custom-categories-empty",4,"ngIf"],[1,"settings-section","section-wallet"],["id","currency-select",1,"currency-select",3,"ngModelChange","ngModel"],[1,"setting-item","wallet-cards-item"],[1,"setting-control","wallet-cards-control"],["type","button",1,"btn","btn-primary",3,"click"],["class","wallet-cards-list",4,"ngIf"],["class","wallet-cards-empty",4,"ngIf"],["size","sm",3,"title","closeModal",4,"ngIf"],[1,"settings-section","section-account"],[4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"settings-section","section-about"],["alt","",1,"avatar-img",3,"src"],[1,"avatar-initials"],[1,"profile-photo-error"],[3,"value"],[1,"custom-categories-list"],["class","custom-category-item",4,"ngFor","ngForOf"],[1,"custom-category-item"],[1,"custom-category-icon"],[1,"custom-category-name"],["type","button",1,"btn-icon","btn-icon-danger",3,"click","title"],[1,"custom-categories-empty"],[1,"wallet-cards-list"],["class","wallet-card-item",4,"ngFor","ngForOf"],[1,"wallet-card-item"],[1,"wallet-card-preview"],[1,"wallet-card-title"],["class","wallet-card-holder",4,"ngIf"],[1,"wallet-card-number"],[1,"wallet-card-meta"],[1,"wallet-card-expiry"],["class","wallet-card-currency",4,"ngIf"],["class","wallet-card-badge",4,"ngIf"],[1,"wallet-card-actions"],["type","button",1,"btn","btn-small","btn-secondary",3,"click"],["type","button","class","btn btn-small btn-secondary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-small","btn-icon-danger",3,"click"],[1,"wallet-card-holder"],[1,"wallet-card-currency"],[1,"wallet-card-badge"],[1,"wallet-cards-empty"],["size","sm",3,"closeModal","title"],[3,"ngSubmit"],["for","card-name"],["id","card-name","type","text","name","name",3,"ngModelChange","ngModel","placeholder"],["for","card-holder"],["id","card-holder","type","text","name","holderName","required","",3,"ngModelChange","ngModel","placeholder"],["for","card-number"],["id","card-number","type","text","name","cardNumber","required","",3,"ngModelChange","ngModel","placeholder"],["for","card-expiry"],["id","card-expiry","type","text","name","expiryDate","placeholder","MM/YY","required","",3,"ngModelChange","ngModel"],["for","card-rib"],["id","card-rib","type","text","name","rib",3,"ngModelChange","ngModel","placeholder"],["for","card-currency"],["id","card-currency","name","currency",1,"form-input",3,"ngModelChange","ngModel"],["role","group",1,"card-color-picker"],["type","button","class","card-color-swatch",3,"background","selected","click",4,"ngFor","ngForOf"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],["type","button",1,"card-color-swatch",3,"click"],["for","edit-card-name"],["id","edit-card-name","type","text","name","editName",3,"ngModelChange","ngModel","placeholder"],["for","edit-card-holder"],["id","edit-card-holder","type","text","name","editHolderName","required","",3,"ngModelChange","ngModel","placeholder"],["for","edit-card-number"],["id","edit-card-number","type","text","name","editCardNumber","required","",3,"ngModelChange","ngModel","placeholder"],["for","edit-card-expiry"],["id","edit-card-expiry","type","text","name","editExpiryDate","placeholder","MM/YY","required","",3,"ngModelChange","ngModel"],["for","edit-card-rib"],["id","edit-card-rib","type","text","name","editRib",3,"ngModelChange","ngModel","placeholder"],["for","edit-card-currency"],["id","edit-card-currency","name","editCurrency",1,"form-input",3,"ngModelChange","ngModel"]],template:function(d,t){if(d&1){let s=O();n(0,"div",1)(1,"div",2)(2,"header",3)(3,"h1",4),l(4),o(5,"translate"),r(),n(6,"p",5),l(7),o(8,"translate"),r()(),n(9,"section",6)(10,"h2",7),l(11),o(12,"translate"),r(),n(13,"p",8),l(14),o(15,"translate"),r(),n(16,"div",9)(17,"div",10)(18,"div",11),w(19,ye,1,1,"img",12)(20,ve,2,1,"span",13),r(),n(21,"input",14,0),o(23,"translate"),f("change",function(g){return m(s),u(t.onPhotoSelected(g))}),r(),n(24,"button",15),f("click",function(){m(s);let g=G(22);return u(g.click())}),l(25),o(26,"translate"),o(27,"translate"),r(),w(28,we,2,1,"p",16),r(),n(29,"div",17)(30,"div",18)(31,"label",19),l(32),o(33,"translate"),r(),n(34,"input",20),o(35,"translate"),v("ngModelChange",function(g){return m(s),y(t.profileFullName,g)||(t.profileFullName=g),u(g)}),r()(),n(36,"div",18)(37,"label"),l(38),o(39,"translate"),r(),n(40,"p",21),l(41),r(),n(42,"span",22),l(43),o(44,"translate"),r()(),n(45,"div",23)(46,"div",18)(47,"label",24),l(48),o(49,"translate"),r(),n(50,"input",25),v("ngModelChange",function(g){return m(s),y(t.profileHeight,g)||(t.profileHeight=g),u(g)}),r(),n(51,"small",26),l(52),o(53,"translate"),r()(),n(54,"div",18)(55,"label",27),l(56),o(57,"translate"),r(),n(58,"input",28),v("ngModelChange",function(g){return m(s),y(t.profileWeight,g)||(t.profileWeight=g),u(g)}),r(),n(59,"small",26),l(60),o(61,"translate"),r()()(),n(62,"div",18)(63,"label",29),l(64),o(65,"translate"),r(),n(66,"select",30),v("ngModelChange",function(g){return m(s),y(t.profileGender,g)||(t.profileGender=g),u(g)}),n(67,"option",31),l(68),o(69,"translate"),r(),n(70,"option",32),l(71),o(72,"translate"),r(),n(73,"option",33),l(74),o(75,"translate"),r()(),n(76,"small",26),l(77),o(78,"translate"),r()(),n(79,"button",34),f("click",function(){return m(s),u(t.saveProfile())}),l(80),o(81,"translate"),o(82,"translate"),r()()()(),n(83,"section",35)(84,"h2",7),l(85),o(86,"translate"),r(),n(87,"div",36)(88,"div",37)(89,"h3"),l(90),o(91,"translate"),r(),n(92,"p"),l(93),o(94,"translate"),r()(),n(95,"div",38)(96,"div",39)(97,"button",40),o(98,"translate"),f("click",function(){return m(s),u(t.setTheme("light"))}),T(),n(99,"svg",41),k(100,"circle",42)(101,"line",43)(102,"line",44)(103,"line",45)(104,"line",46)(105,"line",47)(106,"line",48)(107,"line",49)(108,"line",50),r(),W(),n(109,"span"),l(110),o(111,"translate"),r()(),n(112,"button",40),o(113,"translate"),f("click",function(){return m(s),u(t.setTheme("dark"))}),T(),n(114,"svg",41),k(115,"path",51),r(),W(),n(116,"span"),l(117),o(118,"translate"),r()(),n(119,"button",52),f("click",function(){return m(s),u(t.setTheme("blue"))}),k(120,"span",53),n(121,"span"),l(122),o(123,"translate"),r()(),n(124,"button",54),f("click",function(){return m(s),u(t.setTheme("forest"))}),k(125,"span",55),n(126,"span"),l(127),o(128,"translate"),r()(),n(129,"button",56),f("click",function(){return m(s),u(t.setTheme("purple"))}),k(130,"span",57),n(131,"span"),l(132),o(133,"translate"),r()()()()(),n(134,"div",36)(135,"div",37)(136,"h3"),l(137),o(138,"translate"),r(),n(139,"p"),l(140),o(141,"translate"),r()(),n(142,"div",38)(143,"select",58),v("ngModelChange",function(g){return m(s),y(t.selectedLocale,g)||(t.selectedLocale=g),u(g)}),f("ngModelChange",function(g){return m(s),u(t.onLocaleChange(g))}),w(144,Se,2,2,"option",59),r()()()(),n(145,"section",60),o(146,"translate"),n(147,"h2",7)(148,"span",61),l(149,"\u{1F3F7}\uFE0F"),r(),l(150),o(151,"translate"),r(),n(152,"p",8),l(153),o(154,"translate"),r(),n(155,"div",62)(156,"input",63),o(157,"translate"),v("ngModelChange",function(g){return m(s),y(t.categoryToAdd,g)||(t.categoryToAdd=g),u(g)}),f("keydown.enter",function(g){return m(s),g.preventDefault(),u(t.addCustomCategory())}),r(),n(158,"button",34),f("click",function(){return m(s),u(t.addCustomCategory())}),l(159),o(160,"translate"),r()(),w(161,Pe,2,1,"ul",64)(162,Oe,3,3,"p",65),r(),n(163,"section",66)(164,"h2",7),l(165),o(166,"translate"),r(),n(167,"div",36)(168,"div",37)(169,"h3"),l(170),o(171,"translate"),r(),n(172,"p"),l(173),o(174,"translate"),r()(),n(175,"div",38)(176,"select",67),v("ngModelChange",function(g){return m(s),y(t.selectedCurrencyCode,g)||(t.selectedCurrencyCode=g),u(g)}),f("ngModelChange",function(g){return m(s),u(t.onCurrencyChange(g))}),w(177,Ee,2,3,"option",59),r()()(),n(178,"div",68)(179,"div",37)(180,"h3"),l(181),o(182,"translate"),r(),n(183,"p"),l(184),o(185,"translate"),r()(),n(186,"div",69)(187,"button",70),f("click",function(){return m(s),u(t.openAddCardModal())}),l(188),o(189,"translate"),r()()(),w(190,We,2,1,"ul",71)(191,Ne,3,3,"p",72),r(),w(192,Le,52,53,"app-modal",73)(193,Ae,52,53,"app-modal",73),n(194,"section",74)(195,"h2",7),l(196),o(197,"translate"),r(),n(198,"div",36)(199,"div",37)(200,"h3"),l(201),o(202,"translate"),r(),w(203,He,2,2,"p",75)(204,je,3,3,"p",75),r()(),n(205,"div",36)(206,"div",37)(207,"h3"),l(208),o(209,"translate"),r(),n(210,"p"),l(211),o(212,"translate"),r()(),n(213,"div",38)(214,"button",76),f("click",function(){return m(s),u(t.logout())}),l(215),o(216,"translate"),r()()()(),n(217,"section",77)(218,"h2",7),l(219),o(220,"translate"),r(),n(221,"div",36)(222,"div",37)(223,"h3"),l(224),o(225,"translate"),r(),n(226,"p"),l(227,"DailyFix v1.0.0"),r()()()()()()}d&2&&(i(4),c(a(5,86,"settings.title")),i(3),c(a(8,88,"settings.profileDesc")),i(4),c(a(12,90,"settings.profile")),i(3),c(a(15,92,"settings.profileDesc")),i(4),P("has-photo",t.currentUser==null?null:t.currentUser.profilePhoto),i(),h("ngIf",t.currentUser==null?null:t.currentUser.profilePhoto),i(),h("ngIf",!(t.currentUser!=null&&t.currentUser.profilePhoto)),i(),M("aria-label",a(23,94,"settings.changePhoto")),i(3),h("disabled",t.profilePhotoSaving),i(),S(" ",t.profilePhotoSaving?a(26,96,"common.loading"):a(27,98,"settings.changePhoto")," "),i(3),h("ngIf",t.profilePhotoError),i(4),c(a(33,100,"settings.fullNameLabel")),i(2),b("ngModel",t.profileFullName),h("placeholder",a(35,102,"settings.fullNameLabel")),i(4),c(a(39,104,"common.email")),i(3),c((t.currentUser==null?null:t.currentUser.email)||"\u2014"),i(2),c(a(44,106,"settings.emailNotEditable")),i(5),c(a(49,108,"settings.heightLabel")),i(2),b("ngModel",t.profileHeight),i(2),c(a(53,110,"settings.heightHint")),i(4),c(a(57,112,"settings.weightLabel")),i(2),b("ngModel",t.profileWeight),i(2),c(a(61,114,"settings.weightHint")),i(4),c(a(65,116,"settings.genderLabel")),i(2),b("ngModel",t.profileGender),i(2),c(a(69,118,"settings.genderPlaceholder")),i(3),c(a(72,120,"settings.genderMale")),i(3),c(a(75,122,"settings.genderFemale")),i(3),c(a(78,124,"settings.healthProfileHint")),i(2),h("disabled",t.profileSaving),i(),S(" ",t.profileSaving?a(81,126,"common.loading"):a(82,128,"settings.saveProfile")," "),i(5),c(a(86,130,"settings.appearance")),i(5),c(a(91,132,"settings.theme")),i(3),c(a(94,134,"settings.themeDesc")),i(4),P("active",t.currentTheme==="light"),M("aria-label",a(98,136,"settings.themeLight")),i(13),c(a(111,138,"settings.themeLight")),i(2),P("active",t.currentTheme==="dark"),M("aria-label",a(113,140,"settings.themeDark")),i(5),c(a(118,142,"settings.themeDark")),i(2),P("active",t.currentTheme==="blue"),i(3),c(a(123,144,"settings.themeBlue")),i(2),P("active",t.currentTheme==="forest"),i(3),c(a(128,146,"settings.themeForest")),i(2),P("active",t.currentTheme==="purple"),i(3),c(a(133,148,"settings.themePurple")),i(5),c(a(138,150,"settings.language")),i(3),c(a(141,152,"settings.languageDesc")),i(3),b("ngModel",t.selectedLocale),i(),h("ngForOf",t.languages),i(),M("aria-label",a(146,154,"finance.myCategories")),i(5),S(" ",a(151,156,"finance.myCategories"),""),i(3),c(a(154,158,"finance.myCategoriesDesc")),i(3),b("ngModel",t.categoryToAdd),h("placeholder",a(157,160,"finance.newCategoryPlaceholder")),i(2),h("disabled",!t.categoryToAdd.trim()),i(),S("+ ",a(160,162,"finance.addCategoryButton"),""),i(2),h("ngIf",t.customCategoryList.length>0),i(),h("ngIf",t.customCategoryList.length===0),i(3),c(a(166,164,"settings.wallet")),i(5),c(a(171,166,"settings.currency")),i(3),c(a(174,168,"settings.currencyDesc")),i(3),b("ngModel",t.selectedCurrencyCode),i(),h("ngForOf",t.currencies),i(4),c(a(182,170,"settings.myCards")),i(3),c(a(185,172,"settings.myCardsDesc")),i(4),S(" + ",a(189,174,"settings.addCard")," "),i(2),h("ngIf",t.walletCards.length>0),i(),h("ngIf",t.walletCards.length===0),i(),h("ngIf",t.showAddCardModal),i(),h("ngIf",t.showEditCardModal&&t.editCard),i(3),c(a(197,176,"settings.account")),i(5),c(a(202,178,"settings.userInfo")),i(2),h("ngIf",t.currentUser),i(),h("ngIf",!t.currentUser),i(4),c(a(209,180,"nav.logout")),i(3),c(a(212,182,"settings.logoutDesc")),i(4),S(" ",a(216,184,"settings.logoutBtn")," "),i(4),c(a(220,186,"settings.about")),i(5),c(a(225,188,"settings.version")))},dependencies:[K,Y,J,he,ae,de,pe,te,le,se,ie,ne,me,ue,ge,ce,oe,re,_e,fe],styles:['.settings-page[_ngcontent-%COMP%]{padding:28px 32px 56px;max-width:720px;margin:0 auto;min-height:calc(100vh - 52px);box-sizing:border-box}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:28px}.settings-header[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:1px solid var(--notion-border);margin-bottom:4px}.settings-title[_ngcontent-%COMP%]{margin:0 0 6px;font-size:26px;font-weight:700;color:var(--notion-text-primary);letter-spacing:-.02em}.settings-desc[_ngcontent-%COMP%]{margin:0;font-size:14px;color:var(--notion-text-secondary);line-height:1.45}.settings-section[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:8px;padding:20px 22px;border-left:3px solid var(--notion-border)}.settings-section.profile-section[_ngcontent-%COMP%]{border-left-color:var(--notion-blue, #3b82f6)}.settings-section.section-appearance[_ngcontent-%COMP%]{border-left-color:var(--notion-purple, #7c3aed)}.settings-section.custom-categories-section[_ngcontent-%COMP%]{border-left-color:var(--notion-orange, #ea580c)}.settings-section.section-wallet[_ngcontent-%COMP%]{border-left-color:var(--notion-green, #16a34a)}.wallet-cards-item[_ngcontent-%COMP%]   .wallet-cards-control[_ngcontent-%COMP%]{margin-top:4px}.wallet-cards-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 12px;display:flex;flex-direction:column;gap:10px}.wallet-card-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px;padding:12px 14px;background:var(--notion-bg-secondary);border:1px solid var(--notion-border);border-radius:10px}.wallet-card-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.wallet-card-title[_ngcontent-%COMP%]{font-weight:600;color:var(--notion-text-primary);font-size:14px}.wallet-card-holder[_ngcontent-%COMP%]{font-weight:500;color:var(--notion-text-secondary);font-size:13px}.wallet-card-number[_ngcontent-%COMP%]{font-size:13px;color:var(--notion-text-secondary);font-family:ui-monospace,monospace}.wallet-card-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--notion-text-secondary)}.wallet-card-expiry[_ngcontent-%COMP%]{font-family:ui-monospace,monospace}.wallet-card-currency[_ngcontent-%COMP%]{font-weight:500;color:var(--notion-text-primary)}.wallet-card-badge[_ngcontent-%COMP%]{display:inline-block;margin-top:4px;font-size:11px;padding:2px 8px;background:var(--notion-green, #16a34a);color:#fff;border-radius:6px;width:fit-content}.wallet-card-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.wallet-cards-empty[_ngcontent-%COMP%]{font-size:14px;color:var(--notion-text-secondary);margin:0 0 12px}.card-color-picker[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-top:6px}.card-color-swatch[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:10px;border:3px solid transparent;cursor:pointer;padding:0;transition:transform .15s,border-color .15s,box-shadow .15s}.card-color-swatch[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #0003}.card-color-swatch.selected[_ngcontent-%COMP%]{border-color:var(--notion-text-primary, #1a1a1a);box-shadow:0 0 0 2px var(--notion-bg, #fff)}.settings-section.section-account[_ngcontent-%COMP%], .settings-section.section-about[_ngcontent-%COMP%]{border-left-color:var(--notion-text-tertiary)}.section-heading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:17px;font-weight:600;margin:0 0 12px;color:var(--notion-text-primary)}.section-emoji[_ngcontent-%COMP%], .custom-categories-emoji[_ngcontent-%COMP%]{font-size:1em;line-height:1}.section-desc[_ngcontent-%COMP%]{font-size:14px;color:var(--notion-text-secondary);margin:0 0 16px;line-height:1.5}.profile-section[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px;align-items:flex-start}.profile-avatar-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.profile-avatar[_ngcontent-%COMP%]{width:88px;height:88px;border-radius:50%;overflow:hidden;background:var(--notion-bg-tertiary);border:2px solid var(--notion-border);display:flex;align-items:center;justify-content:center;flex-shrink:0}.profile-avatar.has-photo[_ngcontent-%COMP%]{padding:0}.profile-avatar[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.profile-avatar[_ngcontent-%COMP%]   .avatar-initials[_ngcontent-%COMP%]{font-size:28px;font-weight:600;color:var(--notion-text-secondary);line-height:1}.profile-photo-input[_ngcontent-%COMP%]{position:absolute;width:0;height:0;opacity:0;overflow:hidden;clip:rect(0,0,0,0)}.btn-change-photo[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px;font-weight:500;border-radius:6px;border:1px solid var(--notion-border);background:var(--notion-bg-tertiary);color:var(--notion-text-primary);cursor:pointer;transition:background .15s,border-color .15s}.btn-change-photo[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--notion-bg-hover);border-color:var(--notion-border-hover)}.btn-change-photo[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.profile-photo-error[_ngcontent-%COMP%]{margin:0;font-size:12px;color:var(--notion-error, #dc2626)}.profile-fields[_ngcontent-%COMP%]{flex:1;min-width:200px;display:flex;flex-direction:column;gap:14px}.profile-fields[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin:0}.profile-fields[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:14px}.profile-fields[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:13px;font-weight:600;color:var(--notion-text-primary);margin-bottom:4px}.profile-fields[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;max-width:300px;padding:8px 12px;border:1px solid var(--notion-border);border-radius:6px;background:var(--notion-bg);color:var(--notion-text-primary);font-size:14px}.profile-fields[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue, #3b82f6);box-shadow:0 0 0 2px #3b82f633}.profile-fields[_ngcontent-%COMP%]   .form-hint[_ngcontent-%COMP%]{display:block;font-size:11px;color:var(--notion-text-tertiary);margin-top:2px}.profile-email-readonly[_ngcontent-%COMP%]{font-size:14px;color:var(--notion-text-primary);margin:2px 0 0;font-weight:500}.profile-email-hint[_ngcontent-%COMP%]{font-size:11px;color:var(--notion-text-tertiary);margin-top:2px;display:block}.profile-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{margin-top:6px}.setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:14px 0;border-bottom:1px solid var(--notion-border);gap:16px}.setting-item[_ngcontent-%COMP%]:last-child{border-bottom:none;padding-bottom:0}.setting-item[_ngcontent-%COMP%]:first-child{padding-top:0}.setting-info[_ngcontent-%COMP%]{flex:1;min-width:0}.setting-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;font-weight:600;margin:0 0 2px;color:var(--notion-text-primary)}.setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--notion-text-secondary);margin:0;line-height:1.45}.setting-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex-shrink:0}.currency-select[_ngcontent-%COMP%]{min-width:180px;padding:8px 12px;border:1px solid var(--notion-border);border-radius:6px;background:var(--notion-bg);color:var(--notion-text-primary);font-size:14px}.currency-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue, #3b82f6);box-shadow:0 0 0 2px #3b82f633}.theme-toggle[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;background:var(--notion-bg-tertiary);border-radius:8px;padding:4px;border:1px solid var(--notion-border)}.theme-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 12px;border:none;background:transparent;border-radius:6px;cursor:pointer;transition:background .15s,color .15s;color:var(--notion-text-secondary);font-size:13px;font-weight:500;min-width:0}.theme-option[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);color:var(--notion-text-primary)}.theme-option.active[_ngcontent-%COMP%]{background:var(--notion-bg);color:var(--notion-text-primary);font-weight:600;border:1px solid var(--notion-border);box-shadow:0 1px 2px #0000000d}.theme-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;flex-shrink:0}.dark-theme[_ngcontent-%COMP%]   .theme-option[_ngcontent-%COMP%]{color:var(--notion-text-secondary)}.dark-theme[_ngcontent-%COMP%]   .theme-option[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);color:var(--notion-text-primary)}.dark-theme[_ngcontent-%COMP%]   .theme-option.active[_ngcontent-%COMP%]{background:#ffffff14;color:var(--notion-text-primary);border-color:var(--notion-border)}.custom-categories-add[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:14px;flex-wrap:wrap}.custom-categories-add[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;min-width:140px;padding:8px 12px;border:1px solid var(--notion-border);border-radius:6px;font-size:14px;background:var(--notion-bg);color:var(--notion-text-primary)}.custom-categories-add[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--notion-blue, #3b82f6);box-shadow:0 0 0 2px #3b82f633}.custom-categories-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-wrap:wrap;gap:8px}.custom-category-item[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;background:var(--notion-bg-tertiary);border:1px solid var(--notion-border);border-radius:6px;font-size:13px;color:var(--notion-text-primary)}.custom-category-item[_ngcontent-%COMP%]   .custom-category-icon[_ngcontent-%COMP%]{font-size:14px}.custom-category-item[_ngcontent-%COMP%]   .custom-category-name[_ngcontent-%COMP%]{flex:1;min-width:0}.custom-categories-section[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:26px;height:26px;min-width:26px;border-radius:6px;border:none;background:transparent;color:var(--notion-text-tertiary);cursor:pointer;display:inline-flex;align-items:center;justify-content:center;font-size:16px;line-height:1;transition:background .15s,color .15s}.custom-categories-section[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);color:var(--notion-text-primary)}.custom-categories-section[_ngcontent-%COMP%]   .btn-icon-danger[_ngcontent-%COMP%]:hover{background:#dc26261a;color:var(--notion-red, #dc2626)}.custom-categories-empty[_ngcontent-%COMP%]{font-size:13px;color:var(--notion-text-tertiary);margin:0}.dark-theme[_ngcontent-%COMP%]   .settings-section.section-wallet[_ngcontent-%COMP%]{border-left-color:var(--notion-green)}.theme-option[_ngcontent-%COMP%]   span[style*="width: 12px"][_ngcontent-%COMP%]{flex-shrink:0}@media (max-width: 768px){.settings-page[_ngcontent-%COMP%]{padding:20px 16px 40px}.settings-title[_ngcontent-%COMP%]{font-size:22px}.settings-section[_ngcontent-%COMP%]{padding:16px 18px}.section-heading[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.setting-item[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:stretch;padding:12px 0}.setting-info[_ngcontent-%COMP%]{margin-right:0}.setting-control[_ngcontent-%COMP%], .theme-toggle[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.theme-option[_ngcontent-%COMP%]{flex:1 1 auto;min-width:72px;justify-content:center;padding:8px 10px;font-size:12px}.theme-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.theme-option[_ngcontent-%COMP%]   span[style*="width: 12px"][_ngcontent-%COMP%]{width:10px!important;height:10px!important}.currency-select[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:100%}.profile-fields[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 520px){.profile-section[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:20px}.profile-avatar-wrap[_ngcontent-%COMP%]{align-items:center}.profile-fields[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{max-width:100%}}@media (max-width: 480px){.settings-page[_ngcontent-%COMP%]{padding:16px 14px 32px}.settings-title[_ngcontent-%COMP%]{font-size:20px}.settings-section[_ngcontent-%COMP%]{padding:14px}.section-heading[_ngcontent-%COMP%]{font-size:15px}.setting-item[_ngcontent-%COMP%]{padding:10px 0}.theme-toggle[_ngcontent-%COMP%]{gap:4px;padding:4px}.theme-option[_ngcontent-%COMP%]{flex:1 1 calc(50% - 2px);min-width:0;padding:8px 6px;font-size:11px;justify-content:center}.theme-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not([style*=width]){white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.theme-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}.theme-option[_ngcontent-%COMP%]   span[style*="width: 12px"][_ngcontent-%COMP%]{width:8px!important;height:8px!important}}@media (max-width: 360px){.theme-option[_ngcontent-%COMP%]{flex:1 1 100%}}']})}}return p})();export{Ge as CARD_COLOR_OPTIONS,Re as LANGUAGES,at as SettingsComponent};
