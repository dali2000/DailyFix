import{c as N,f as A,l as W,m as G,n as V,t as H}from"./chunk-UT4WQDXK.js";import{$ as m,Ca as T,Da as B,E as f,F as b,Ha as L,L as e,M as u,Oa as z,P as C,Q as S,R as h,T as v,Ua as U,V as t,Va as F,W as i,Wa as D,X as x,Xa as j,Ya as R,aa as I,ea as o,fa as c,ga as y,ha as M,la as P,ma as O,na as w,pa as E,ra as a,sa as s,y as k}from"./chunk-JYKOQQWG.js";function $(l,_){if(l&1&&(t(0,"option",30),o(1),i()),l&2){let n=_.$implicit;h("value",n.code),e(),y(" ",n.label," ")}}function q(l,_){if(l&1&&(t(0,"option",30),o(1),i()),l&2){let n=_.$implicit;h("value",n.code),e(),M(" ",n.label," (",n.symbol,") ")}}function J(l,_){if(l&1&&(t(0,"p"),o(1),i()),l&2){let n=I();e(),M("",n.currentUser.fullName," - ",n.currentUser.email,"")}}function K(l,_){l&1&&(t(0,"p"),o(1),a(2,"translate"),i()),l&2&&(e(),c(s(2,1,"common.loading")))}var Q=[{code:"fr",label:"Fran\xE7ais"},{code:"en",label:"English"},{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629 (\u062A\u0648\u0646\u0633)"}],ce=(()=>{class l{constructor(n,g,r,d,p){this.themeService=n,this.authService=g,this.currencyService=r,this.i18n=d,this.router=p,this.currentTheme="light",this.currentUser=null,this.selectedCurrencyCode="EUR",this.selectedLocale="fr",this.languages=Q}get currencies(){return this.currencyService.currencies}ngOnInit(){this.themeSubscription=this.themeService.theme$.subscribe(n=>{this.currentTheme=n}),this.userSubscription=this.authService.currentUser$.subscribe(n=>{this.currentUser=n,n?.locale&&(this.selectedLocale=n.locale)}),this.selectedCurrencyCode=this.currencyService.getSelectedCurrencyCode(),this.currencySubscription=this.currencyService.selectedCurrency$.subscribe(n=>{this.selectedCurrencyCode=n}),this.selectedLocale=this.authService.getCurrentUser()?.locale||localStorage.getItem("dailyfix_locale")||"fr"}onLocaleChange(n){this.selectedLocale=n,this.i18n.use(n).subscribe();try{localStorage.setItem("dailyfix_locale",n)}catch{}this.authService.getCurrentUser()&&this.authService.updateProfile({locale:n}).subscribe({error:g=>console.error("Erreur lors de la sauvegarde de la langue",g)})}ngOnDestroy(){this.themeSubscription?.unsubscribe(),this.userSubscription?.unsubscribe(),this.currencySubscription?.unsubscribe()}onCurrencyChange(n){this.authService.getCurrentUser()?this.authService.updateProfile({currency:n}).subscribe({error:g=>console.error("Erreur lors de la sauvegarde de la devise",g)}):this.currencyService.setSelectedCurrency(n)}toggleTheme(){this.themeService.toggleTheme()}setTheme(n){this.themeService.setTheme(n),this.authService.getCurrentUser()&&this.authService.updateProfile({theme:n}).subscribe({error:g=>console.error("Erreur lors de la sauvegarde du th\xE8me",g)})}logout(){this.authService.logout(),this.router.navigate(["/login"])}static{this.\u0275fac=function(g){return new(g||l)(u(F),u(j),u(U),u(D),u(z))}}static{this.\u0275cmp=k({type:l,selectors:[["app-settings"]],standalone:!0,features:[E],decls:116,vars:85,consts:[[1,"settings-page"],[1,"settings-container"],[1,"settings-section"],[1,"setting-item"],[1,"setting-info"],[1,"setting-control"],[1,"theme-toggle"],[1,"theme-option",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","12","r","5"],["x1","12","y1","1","x2","12","y2","3"],["x1","12","y1","21","x2","12","y2","23"],["x1","4.22","y1","4.22","x2","5.64","y2","5.64"],["x1","18.36","y1","18.36","x2","19.78","y2","19.78"],["x1","1","y1","12","x2","3","y2","12"],["x1","21","y1","12","x2","23","y2","12"],["x1","4.22","y1","19.78","x2","5.64","y2","18.36"],["x1","18.36","y1","5.64","x2","19.78","y2","4.22"],["d","M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"],["aria-label","Bleu",1,"theme-option",3,"click"],[2,"width","12px","height","12px","border-radius","999px","background","#2563eb"],["aria-label","For\xEAt",1,"theme-option",3,"click"],[2,"width","12px","height","12px","border-radius","999px","background","#15803d"],["aria-label","Violet",1,"theme-option",3,"click"],[2,"width","12px","height","12px","border-radius","999px","background","#7c3aed"],["id","locale-select",1,"currency-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["id","currency-select",1,"currency-select",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"btn","btn-danger",3,"click"],[3,"value"]],template:function(g,r){g&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),o(3),a(4,"translate"),i(),t(5,"section",2)(6,"h2"),o(7),a(8,"translate"),i(),t(9,"div",3)(10,"div",4)(11,"h3"),o(12),a(13,"translate"),i(),t(14,"p"),o(15),a(16,"translate"),i()(),t(17,"div",5)(18,"div",6)(19,"button",7),a(20,"translate"),m("click",function(){return r.setTheme("light")}),f(),t(21,"svg",8),x(22,"circle",9)(23,"line",10)(24,"line",11)(25,"line",12)(26,"line",13)(27,"line",14)(28,"line",15)(29,"line",16)(30,"line",17),i(),b(),t(31,"span"),o(32),a(33,"translate"),i()(),t(34,"button",7),a(35,"translate"),m("click",function(){return r.setTheme("dark")}),f(),t(36,"svg",8),x(37,"path",18),i(),b(),t(38,"span"),o(39),a(40,"translate"),i()(),t(41,"button",19),m("click",function(){return r.setTheme("blue")}),x(42,"span",20),t(43,"span"),o(44),a(45,"translate"),i()(),t(46,"button",21),m("click",function(){return r.setTheme("forest")}),x(47,"span",22),t(48,"span"),o(49),a(50,"translate"),i()(),t(51,"button",23),m("click",function(){return r.setTheme("purple")}),x(52,"span",24),t(53,"span"),o(54),a(55,"translate"),i()()()()(),t(56,"div",3)(57,"div",4)(58,"h3"),o(59),a(60,"translate"),i(),t(61,"p"),o(62),a(63,"translate"),i()(),t(64,"div",5)(65,"select",25),w("ngModelChange",function(p){return O(r.selectedLocale,p)||(r.selectedLocale=p),p}),m("ngModelChange",function(p){return r.onLocaleChange(p)}),C(66,$,2,2,"option",26),i()()()(),t(67,"section",2)(68,"h2"),o(69),a(70,"translate"),i(),t(71,"div",3)(72,"div",4)(73,"h3"),o(74),a(75,"translate"),i(),t(76,"p"),o(77),a(78,"translate"),i()(),t(79,"div",5)(80,"select",27),w("ngModelChange",function(p){return O(r.selectedCurrencyCode,p)||(r.selectedCurrencyCode=p),p}),m("ngModelChange",function(p){return r.onCurrencyChange(p)}),C(81,q,2,3,"option",26),i()()()(),t(82,"section",2)(83,"h2"),o(84),a(85,"translate"),i(),t(86,"div",3)(87,"div",4)(88,"h3"),o(89),a(90,"translate"),i(),C(91,J,2,2,"p",28)(92,K,3,3,"p",28),i()(),t(93,"div",3)(94,"div",4)(95,"h3"),o(96),a(97,"translate"),i(),t(98,"p"),o(99),a(100,"translate"),i()(),t(101,"div",5)(102,"button",29),m("click",function(){return r.logout()}),o(103),a(104,"translate"),i()()()(),t(105,"section",2)(106,"h2"),o(107),a(108,"translate"),i(),t(109,"div",3)(110,"div",4)(111,"h3"),o(112),a(113,"translate"),i(),t(114,"p"),o(115,"DailyFix v1.0.0"),i()()()()()()),g&2&&(e(3),c(s(4,39,"settings.title")),e(4),c(s(8,41,"settings.appearance")),e(5),c(s(13,43,"settings.theme")),e(3),c(s(16,45,"settings.themeDesc")),e(4),v("active",r.currentTheme==="light"),S("aria-label",s(20,47,"settings.themeLight")),e(13),c(s(33,49,"settings.themeLight")),e(2),v("active",r.currentTheme==="dark"),S("aria-label",s(35,51,"settings.themeDark")),e(5),c(s(40,53,"settings.themeDark")),e(2),v("active",r.currentTheme==="blue"),e(3),c(s(45,55,"settings.themeBlue")),e(2),v("active",r.currentTheme==="forest"),e(3),c(s(50,57,"settings.themeForest")),e(2),v("active",r.currentTheme==="purple"),e(3),c(s(55,59,"settings.themePurple")),e(5),c(s(60,61,"settings.language")),e(3),c(s(63,63,"settings.languageDesc")),e(3),P("ngModel",r.selectedLocale),e(),h("ngForOf",r.languages),e(3),c(s(70,65,"settings.wallet")),e(5),c(s(75,67,"settings.currency")),e(3),c(s(78,69,"settings.currencyDesc")),e(3),P("ngModel",r.selectedCurrencyCode),e(),h("ngForOf",r.currencies),e(3),c(s(85,71,"settings.account")),e(5),c(s(90,73,"settings.userInfo")),e(2),h("ngIf",r.currentUser),e(),h("ngIf",!r.currentUser),e(4),c(s(97,75,"nav.logout")),e(3),c(s(100,77,"settings.logoutDesc")),e(4),y(" ",s(104,79,"settings.logoutBtn")," "),e(4),c(s(108,81,"settings.about")),e(5),c(s(113,83,"settings.version")))},dependencies:[L,T,B,H,G,V,W,N,A,R],styles:['.settings-page[_ngcontent-%COMP%]{padding:var(--notion-spacing-lg);max-width:800px;margin:0 auto;min-height:calc(100vh - 60px)}.settings-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:var(--notion-spacing-xl);font-size:32px;font-weight:700}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--notion-spacing-xl)}.settings-section[_ngcontent-%COMP%]{background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:var(--notion-radius-md);padding:var(--notion-spacing-lg)}.settings-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-bottom:var(--notion-spacing-lg);color:var(--notion-text-primary)}.setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:var(--notion-spacing-md) 0;border-bottom:1px solid var(--notion-border)}.setting-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.setting-info[_ngcontent-%COMP%]{flex:1;margin-right:var(--notion-spacing-lg)}.setting-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:var(--notion-spacing-xs);color:var(--notion-text-primary)}.setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--notion-text-secondary);margin:0}.setting-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--notion-spacing)}.currency-select[_ngcontent-%COMP%]{min-width:200px;padding:var(--notion-spacing-sm) var(--notion-spacing-md);border:1px solid var(--notion-border);border-radius:var(--notion-radius);background:var(--notion-bg);color:var(--notion-text-primary);font-size:14px}.theme-toggle[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:var(--notion-spacing-sm);background:var(--notion-bg-secondary);border-radius:var(--notion-radius);padding:4px}.theme-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--notion-spacing-xs);padding:var(--notion-spacing-sm) var(--notion-spacing-md);border:none;background:transparent;border-radius:var(--notion-radius-sm);cursor:pointer;transition:all .2s ease;color:var(--notion-text-secondary);font-size:14px;font-weight:500;min-width:0}.theme-option[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover);color:var(--notion-text-primary)}.theme-option.active[_ngcontent-%COMP%]{background:var(--notion-text-primary);color:#929292!important}.dark-theme[_ngcontent-%COMP%]   .theme-option[_ngcontent-%COMP%]{color:var(--notion-text-primary)!important}.dark-theme[_ngcontent-%COMP%]   .theme-option[_ngcontent-%COMP%]:hover{background:var(--notion-bg-hover)!important;color:var(--notion-text-primary)!important}.dark-theme[_ngcontent-%COMP%]   .theme-option.active[_ngcontent-%COMP%]{background:#ffffff26!important;color:#fff!important}.theme-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}@media (max-width: 768px){.settings-page[_ngcontent-%COMP%]{padding:var(--notion-spacing)}.settings-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.settings-section[_ngcontent-%COMP%]{padding:var(--notion-spacing-md)}.settings-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;margin-bottom:var(--notion-spacing-md)}.setting-item[_ngcontent-%COMP%]{flex-direction:column;gap:var(--notion-spacing);align-items:stretch}.setting-info[_ngcontent-%COMP%]{margin-right:0}.setting-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px}.setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.setting-control[_ngcontent-%COMP%], .theme-toggle[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.theme-option[_ngcontent-%COMP%]{flex:1 1 auto;min-width:80px;justify-content:center;padding:var(--notion-spacing-sm) var(--notion-spacing-sm);font-size:13px}.theme-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.theme-option[_ngcontent-%COMP%]   span[style*="width: 12px"][_ngcontent-%COMP%]{width:10px!important;height:10px!important}.currency-select[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:100%}}@media (max-width: 480px){.settings-page[_ngcontent-%COMP%]{padding:12px 16px}.settings-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px;margin-bottom:var(--notion-spacing-lg)}.settings-section[_ngcontent-%COMP%]{padding:14px}.settings-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:17px}.setting-item[_ngcontent-%COMP%]{padding:var(--notion-spacing-sm) 0}.theme-toggle[_ngcontent-%COMP%]{gap:8px;padding:6px}.theme-option[_ngcontent-%COMP%]{flex:1 1 calc(50% - 4px);min-width:0;padding:10px 8px;font-size:12px;justify-content:center}.theme-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not([style*=width]){white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}.theme-option[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;flex-shrink:0}.theme-option[_ngcontent-%COMP%]   span[style*="width: 12px"][_ngcontent-%COMP%]{width:8px!important;height:8px!important;flex-shrink:0}}@media (max-width: 360px){.theme-option[_ngcontent-%COMP%]{flex:1 1 100%}}']})}}return l})();export{Q as LANGUAGES,ce as SettingsComponent};
