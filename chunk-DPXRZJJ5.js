import{a as S,b as f,c as I,d as z,g as E,j as F,k as B,q as L,s as T,u as N}from"./chunk-OT6Q23XG.js";import{Fa as C,Ja as P,M as e,N as g,Q as v,Qa as y,Ra as w,S as p,Ua as O,W as i,X as o,Y as h,Za as k,_a as R,aa as M,ba as m,ga as r,ha as d,ia as u,ra as _,ta as a,ua as s,y as b}from"./chunk-P62NHWZA.js";function A(t,x){t&1&&(i(0,"div",15),r(1),a(2,"translate"),o()),t&2&&(e(),u(" ",s(2,1,"login.emailError")," "))}function j(t,x){if(t&1&&(i(0,"p",16),r(1),o()),t&2){let n=m();e(),d(n.successMessage)}}function q(t,x){if(t&1&&(i(0,"p",17),r(1),o()),t&2){let n=m();e(),d(n.errorMessage)}}var Y=(()=>{class t{constructor(n,c,l){this.fb=n,this.authService=c,this.router=l,this.isLoading=!1,this.successMessage=null,this.errorMessage=null,this.form=this.fb.group({email:["",[f.required,f.email]]})}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.errorMessage=null,this.successMessage=null,this.isLoading=!0,this.authService.requestPasswordReset(this.form.value.email).subscribe({next:n=>{this.isLoading=!1,this.successMessage=n.message??""},error:n=>{this.isLoading=!1,this.errorMessage=n?.error?.message??"Erreur lors de l'envoi. R\xE9essayez plus tard."}})}backToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(c){return new(c||t)(g(T),g(k),g(y))}}static{this.\u0275cmp=b({type:t,selectors:[["app-forgot-password"]],standalone:!0,features:[_],decls:31,vars:31,consts:[[1,"auth-page"],[1,"brand"],[1,"subtitle"],["aria-label","Mot de passe oubli\xE9",1,"card"],[1,"title"],[1,"subtext"],["novalidate","",3,"ngSubmit","formGroup"],["for","email"],["id","email","type","email","formControlName","email","autocomplete","email","required","","aria-describedby","emailHelp",3,"placeholder"],["id","emailHelp","class","error",4,"ngIf"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],["type","submit",1,"submit","btn","btn-primary",3,"disabled"],[1,"back-link"],["routerLink","/login"],["id","emailHelp",1,"error"],[1,"success-message"],[1,"error-message"]],template:function(c,l){c&1&&(i(0,"div",0)(1,"h1",1),r(2),a(3,"translate"),o(),i(4,"p",2),r(5),a(6,"translate"),o(),i(7,"section",3)(8,"h2",4),r(9),a(10,"translate"),o(),i(11,"p",5),r(12),a(13,"translate"),o(),i(14,"form",6),M("ngSubmit",function(){return l.submit()}),i(15,"label",7),r(16),a(17,"translate"),o(),h(18,"input",8),a(19,"translate"),v(20,A,3,3,"div",9)(21,j,2,1,"p",10)(22,q,2,1,"p",11),i(23,"button",12),r(24),a(25,"translate"),a(26,"translate"),o()(),i(27,"p",13)(28,"a",14),r(29),a(30,"translate"),o()()()()),c&2&&(e(2),d(s(3,13,"login.brand")),e(3),d(s(6,15,"forgotPassword.subtitle")),e(4),d(s(10,17,"forgotPassword.title")),e(3),d(s(13,19,"forgotPassword.desc")),e(2),p("formGroup",l.form),e(2),d(s(17,21,"login.email")),e(2),p("placeholder",s(19,23,"login.emailPlaceholder")),e(2),p("ngIf",l.form.controls.email.touched&&l.form.controls.email.invalid),e(),p("ngIf",l.successMessage),e(),p("ngIf",l.errorMessage),e(),p("disabled",l.isLoading),e(),u(" ",l.isLoading?s(25,25,"common.loading"):s(26,27,"forgotPassword.send")," "),e(5),d(s(30,29,"forgotPassword.backToLogin")))},dependencies:[P,C,N,E,S,I,z,L,F,B,O,w,R],styles:["[_nghost-%COMP%]{display:block}.auth-page[_ngcontent-%COMP%]{min-height:100vh;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--notion-spacing-2xl) var(--notion-spacing-lg);background:var(--notion-bg-secondary);font-family:ui-sans-serif,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;overflow-x:hidden;box-sizing:border-box}.brand[_ngcontent-%COMP%]{font-size:40px;font-weight:700;color:var(--notion-text-primary);margin:0 0 8px;text-align:center;letter-spacing:-.03em}.subtitle[_ngcontent-%COMP%]{color:var(--notion-text-secondary);margin:0 0 var(--notion-spacing-2xl) 0;text-align:center;font-size:14px}.card[_ngcontent-%COMP%]{width:100%;max-width:400px;background:var(--notion-bg);border:1px solid var(--notion-border);border-radius:var(--notion-radius);box-shadow:var(--notion-shadow);padding:var(--notion-spacing-xl)}.title[_ngcontent-%COMP%]{text-align:center;font-size:24px;margin:0 0 4px;color:var(--notion-text-primary);font-weight:600;letter-spacing:-.02em}.subtext[_ngcontent-%COMP%]{text-align:center;color:var(--notion-text-tertiary);margin:0 0 var(--notion-spacing-lg);font-size:14px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--notion-spacing-lg)}label[_ngcontent-%COMP%]{font-size:12px;color:var(--notion-text-secondary);font-weight:500;margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}input[_ngcontent-%COMP%]{width:100%;padding:6px 8px;border-radius:var(--notion-radius);border:1px solid var(--notion-border);background:var(--notion-bg);font-size:14px;outline:none;transition:border-color 20ms ease-in 0s;font-family:inherit}input[_ngcontent-%COMP%]:focus{border-color:var(--notion-blue);box-shadow:0 0 0 1px var(--notion-blue)}.error[_ngcontent-%COMP%]{color:var(--notion-red);font-size:12px;margin-top:-12px;font-weight:400}.success-message[_ngcontent-%COMP%]{color:var(--notion-green, #0f7b0f);font-size:13px;padding:8px;background:#0f7b0f14;border-radius:var(--notion-radius);margin:0}.error-message[_ngcontent-%COMP%]{color:var(--notion-red);font-size:13px;margin:0 0 8px;text-align:center;padding:8px;background:var(--notion-red-bg, rgba(235, 87, 87, .1));border-radius:var(--notion-radius);border:1px solid var(--notion-red)}.submit[_ngcontent-%COMP%]{margin-top:0;width:100%;padding:8px 12px;border-radius:var(--notion-radius);border:none;background:var(--notion-text-primary);color:#fff;font-weight:500;font-size:14px;cursor:pointer;transition:background 20ms ease-in 0s}.submit[_ngcontent-%COMP%]:hover{background:#2e2e2c}.submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.back-link[_ngcontent-%COMP%]{text-align:center;margin-top:var(--notion-spacing-lg);font-size:14px}.back-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--notion-blue);text-decoration:none}.back-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 480px){.auth-page[_ngcontent-%COMP%]{padding:var(--notion-spacing-lg) var(--notion-spacing-sm)}.card[_ngcontent-%COMP%]{padding:var(--notion-spacing)}}"]})}}return t})();export{Y as ForgotPasswordComponent};
